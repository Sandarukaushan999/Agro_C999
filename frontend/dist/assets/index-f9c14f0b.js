var Up=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var N=(t,e,n)=>(Up(t,e,"read from private field"),n?n.call(t):e.get(t)),X=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},W=(t,e,n,r)=>(Up(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Xu=(t,e,n,r)=>({set _(i){W(t,e,i,n)},get _(){return N(t,e,r)}}),ue=(t,e,n)=>(Up(t,e,"access private method"),n);function G2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function kS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NS={exports:{}},Tf={},DS={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),Q2=Symbol.for("react.portal"),Y2=Symbol.for("react.fragment"),X2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),Z2=Symbol.for("react.provider"),eN=Symbol.for("react.context"),tN=Symbol.for("react.forward_ref"),nN=Symbol.for("react.suspense"),rN=Symbol.for("react.memo"),iN=Symbol.for("react.lazy"),Ew=Symbol.iterator;function sN(t){return t===null||typeof t!="object"?null:(t=Ew&&t[Ew]||t["@@iterator"],typeof t=="function"?t:null)}var OS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VS=Object.assign,LS={};function il(t,e,n){this.props=t,this.context=e,this.refs=LS,this.updater=n||OS}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MS(){}MS.prototype=il.prototype;function ov(t,e,n){this.props=t,this.context=e,this.refs=LS,this.updater=n||OS}var av=ov.prototype=new MS;av.constructor=ov;VS(av,il.prototype);av.isPureReactComponent=!0;var Tw=Array.isArray,jS=Object.prototype.hasOwnProperty,lv={current:null},FS={key:!0,ref:!0,__self:!0,__source:!0};function US(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jS.call(e,r)&&!FS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mu,type:t,key:s,ref:o,props:i,_owner:lv.current}}function oN(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cv(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function aN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sw=/\/+/g;function Bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aN(""+t.key):e.toString(36)}function kd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mu:case Q2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Bp(o,0):r,Tw(i)?(n="",t!=null&&(n=t.replace(Sw,"$&/")+"/"),kd(i,e,n,"",function(u){return u})):i!=null&&(cv(i)&&(i=oN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Tw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Bp(s,a);o+=kd(s,e,n,l,i)}else if(l=sN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Bp(s,a++),o+=kd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return kd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Nd={transition:null},cN={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:lv};function BS(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!cv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=il;he.Fragment=Y2;he.Profiler=J2;he.PureComponent=ov;he.StrictMode=X2;he.Suspense=nN;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cN;he.act=BS;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=lv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jS.call(e,l)&&!FS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:mu,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:eN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Z2,_context:t},t.Consumer=t};he.createElement=US;he.createFactory=function(t){var e=US.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:tN,render:t}};he.isValidElement=cv;he.lazy=function(t){return{$$typeof:iN,_payload:{_status:-1,_result:t},_init:lN}};he.memo=function(t,e){return{$$typeof:rN,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Nd.transition;Nd.transition={};try{t()}finally{Nd.transition=e}};he.unstable_act=BS;he.useCallback=function(t,e){return Gt.current.useCallback(t,e)};he.useContext=function(t){return Gt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Gt.current.useEffect(t,e)};he.useId=function(){return Gt.current.useId()};he.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Gt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};he.useRef=function(t){return Gt.current.useRef(t)};he.useState=function(t){return Gt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Gt.current.useTransition()};he.version="18.3.1";DS.exports=he;var D=DS.exports;const gu=kS(D),uN=G2({__proto__:null,default:gu},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN=D,hN=Symbol.for("react.element"),fN=Symbol.for("react.fragment"),pN=Object.prototype.hasOwnProperty,mN=dN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gN={key:!0,ref:!0,__self:!0,__source:!0};function zS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pN.call(e,r)&&!gN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hN,type:t,key:s,ref:o,props:i,_owner:mN.current}}Tf.Fragment=fN;Tf.jsx=zS;Tf.jsxs=zS;NS.exports=Tf;var T=NS.exports,Gm={},$S={exports:{}},vn={},qS={exports:{}},HS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,K){var se=$.length;$.push(K);e:for(;0<se;){var J=se-1>>>1,de=$[J];if(0<i(de,K))$[J]=K,$[se]=de,se=J;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],se=$.pop();if(se!==K){$[0]=se;e:for(var J=0,de=$.length,_t=de>>>1;J<_t;){var Se=2*(J+1)-1,At=$[Se],Ce=Se+1,Yt=$[Ce];if(0>i(At,se))Ce<de&&0>i(Yt,At)?($[J]=Yt,$[Ce]=se,J=Ce):($[J]=At,$[Se]=se,J=Se);else if(Ce<de&&0>i(Yt,se))$[J]=Yt,$[Ce]=se,J=Ce;else break e}}return K}function i($,K){var se=$.sortIndex-K.sortIndex;return se!==0?se:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=$)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function P($){if(w=!1,v($),!y)if(n(l)!==null)y=!0,fe(O);else{var K=n(u);K!==null&&Xe(P,K.startTime-$)}}function O($,K){y=!1,w&&(w=!1,_(x),x=-1),g=!0;var se=p;try{for(v(K),h=n(l);h!==null&&(!(h.expirationTime>K)||$&&!k());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var de=J(h.expirationTime<=K);K=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),v(K)}else r(l);h=n(l)}if(h!==null)var _t=!0;else{var Se=n(u);Se!==null&&Xe(P,Se.startTime-K),_t=!1}return _t}finally{h=null,p=se,g=!1}}var M=!1,b=null,x=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function V(){if(b!==null){var $=t.unstable_now();R=$;var K=!0;try{K=b(!0,$)}finally{K?C():(M=!1,b=null)}}else M=!1}var C;if(typeof E=="function")C=function(){E(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,_e=Z.port2;Z.port1.onmessage=V,C=function(){_e.postMessage(null)}}else C=function(){S(V,0)};function fe($){b=$,M||(M=!0,C())}function Xe($,K){x=S(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,fe(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var se=p;p=K;try{return $()}finally{p=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=p;p=$;try{return K()}finally{p=se}},t.unstable_scheduleCallback=function($,K,se){var J=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?J+se:J):se=J,$){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=se+de,$={id:d++,callback:K,priorityLevel:$,startTime:se,expirationTime:de,sortIndex:-1},se>J?($.sortIndex=se,e(u,$),n(l)===null&&$===n(u)&&(w?(_(x),x=-1):w=!0,Xe(P,se-J))):($.sortIndex=de,e(l,$),y||g||(y=!0,fe(O))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var K=p;return function(){var se=p;p=K;try{return $.apply(this,arguments)}finally{p=se}}}})(HS);qS.exports=HS;var yN=qS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN=D,gn=yN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WS=new Set,Ec={};function xo(t,e){Ua(t,e),Ua(t+"Capture",e)}function Ua(t,e){for(Ec[t]=e,t=0;t<e.length;t++)WS.add(e[t])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=Object.prototype.hasOwnProperty,_N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iw={},bw={};function wN(t){return Qm.call(bw,t)?!0:Qm.call(Iw,t)?!1:_N.test(t)?bw[t]=!0:(Iw[t]=!0,!1)}function xN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EN(t,e,n,r){if(e===null||typeof e>"u"||xN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var uv=/[\-:]([a-z])/g;function dv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uv,dv);It[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uv,dv);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uv,dv);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function hv(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EN(e,n,i,r)&&(n=null),r||i===null?wN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var si=vN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),GS=Symbol.for("react.context"),pv=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),mv=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),QS=Symbol.for("react.offscreen"),Aw=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=Aw&&t[Aw]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,zp;function Wl(t){if(zp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zp=e&&e[1]||""}return`
`+zp+t}var $p=!1;function qp(t,e){if(!t||$p)return"";$p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$p=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function TN(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=qp(t.type,!1),t;case 11:return t=qp(t.type.render,!1),t;case 1:return t=qp(t.type,!0),t;default:return""}}function Zm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zo:return"Fragment";case Jo:return"Portal";case Ym:return"Profiler";case fv:return"StrictMode";case Xm:return"Suspense";case Jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GS:return(t.displayName||"Context")+".Consumer";case KS:return(t._context.displayName||"Context")+".Provider";case pv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mv:return e=t.displayName||null,e!==null?e:Zm(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return Zm(t(e))}catch{}}return null}function SN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(e);case 8:return e===fv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IN(t){var e=YS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=IN(t))}function XS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eg(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=as(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JS(t,e){e=e.checked,e!=null&&hv(t,"checked",e,!1)}function tg(t,e){JS(t,e);var n=as(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&ng(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ng(t,e,n){(e!=="number"||ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kl=Array.isArray;function pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+as(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Kl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:as(n)}}function ZS(t,e){var n=as(e.value),r=as(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,tI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bN=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(t){bN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rc[e]=rc[t]})});function nI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rc.hasOwnProperty(t)&&rc[t]?(""+e).trim():e+"px"}function rI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AN=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(t,e){if(e){if(AN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function gv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lg=null,ma=null,ga=null;function Nw(t){if(t=_u(t)){if(typeof lg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Pf(e),lg(t.stateNode,t.type,e))}}function iI(t){ma?ga?ga.push(t):ga=[t]:ma=t}function sI(){if(ma){var t=ma,e=ga;if(ga=ma=null,Nw(t),e)for(t=0;t<e.length;t++)Nw(e[t])}}function oI(t,e){return t(e)}function aI(){}var Hp=!1;function lI(t,e,n){if(Hp)return t(e,n);Hp=!0;try{return oI(t,e,n)}finally{Hp=!1,(ma!==null||ga!==null)&&(aI(),sI())}}function Sc(t,e){var n=t.stateNode;if(n===null)return null;var r=Pf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var cg=!1;if(Qr)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){cg=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{cg=!1}function PN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ic=!1,lh=null,ch=!1,ug=null,RN={onError:function(t){ic=!0,lh=t}};function CN(t,e,n,r,i,s,o,a,l){ic=!1,lh=null,PN.apply(RN,arguments)}function kN(t,e,n,r,i,s,o,a,l){if(CN.apply(this,arguments),ic){if(ic){var u=lh;ic=!1,lh=null}else throw Error(z(198));ch||(ch=!0,ug=u)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dw(t){if(Eo(t)!==t)throw Error(z(188))}function NN(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dw(i),t;if(s===r)return Dw(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function uI(t){return t=NN(t),t!==null?dI(t):null}function dI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dI(t);if(e!==null)return e;t=t.sibling}return null}var hI=gn.unstable_scheduleCallback,Ow=gn.unstable_cancelCallback,DN=gn.unstable_shouldYield,ON=gn.unstable_requestPaint,Ye=gn.unstable_now,VN=gn.unstable_getCurrentPriorityLevel,yv=gn.unstable_ImmediatePriority,fI=gn.unstable_UserBlockingPriority,uh=gn.unstable_NormalPriority,LN=gn.unstable_LowPriority,pI=gn.unstable_IdlePriority,Sf=null,gr=null;function MN(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Sf,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:UN,jN=Math.log,FN=Math.LN2;function UN(t){return t>>>=0,t===0?32:31-(jN(t)/FN|0)|0}var nd=64,rd=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gl(a):(s&=o,s!==0&&(r=Gl(s)))}else o=n&~i,o!==0?r=Gl(o):s!==0&&(r=Gl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wn(e),i=1<<n,r|=t[n],e&=~i;return r}function BN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=BN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mI(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function Wp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=n}function $N(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function vv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function gI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yI,_v,vI,_I,wI,hg=!1,id=[],qi=null,Hi=null,Wi=null,Ic=new Map,bc=new Map,Si=[],qN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vw(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Ic.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(e.pointerId)}}function Ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_u(e),e!==null&&_v(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HN(t,e,n,r,i){switch(e){case"focusin":return qi=Ll(qi,t,e,n,r,i),!0;case"dragenter":return Hi=Ll(Hi,t,e,n,r,i),!0;case"mouseover":return Wi=Ll(Wi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ic.set(s,Ll(Ic.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bc.set(s,Ll(bc.get(s)||null,t,e,n,r,i)),!0}return!1}function xI(t){var e=Fs(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=cI(n),e!==null){t.blockedOn=e,wI(t.priority,function(){vI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ag=r,n.target.dispatchEvent(r),ag=null}else return e=_u(n),e!==null&&_v(e),t.blockedOn=n,!1;e.shift()}return!0}function Lw(t,e,n){Dd(t)&&n.delete(e)}function WN(){hg=!1,qi!==null&&Dd(qi)&&(qi=null),Hi!==null&&Dd(Hi)&&(Hi=null),Wi!==null&&Dd(Wi)&&(Wi=null),Ic.forEach(Lw),bc.forEach(Lw)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,hg||(hg=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,WN)))}function Ac(t){function e(i){return Ml(i,t)}if(0<id.length){Ml(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qi!==null&&Ml(qi,t),Hi!==null&&Ml(Hi,t),Wi!==null&&Ml(Wi,t),Ic.forEach(e),bc.forEach(e),n=0;n<Si.length;n++)r=Si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)xI(n),n.blockedOn===null&&Si.shift()}var ya=si.ReactCurrentBatchConfig,hh=!0;function KN(t,e,n,r){var i=Te,s=ya.transition;ya.transition=null;try{Te=1,wv(t,e,n,r)}finally{Te=i,ya.transition=s}}function GN(t,e,n,r){var i=Te,s=ya.transition;ya.transition=null;try{Te=4,wv(t,e,n,r)}finally{Te=i,ya.transition=s}}function wv(t,e,n,r){if(hh){var i=fg(t,e,n,r);if(i===null)nm(t,e,r,fh,n),Vw(t,r);else if(HN(i,t,e,n,r))r.stopPropagation();else if(Vw(t,r),e&4&&-1<qN.indexOf(t)){for(;i!==null;){var s=_u(i);if(s!==null&&yI(s),s=fg(t,e,n,r),s===null&&nm(t,e,r,fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nm(t,e,r,null,n)}}var fh=null;function fg(t,e,n,r){if(fh=null,t=gv(r),t=Fs(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fh=t,null}function EI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VN()){case yv:return 1;case fI:return 4;case uh:case LN:return 16;case pI:return 536870912;default:return 16}default:return 16}}var Fi=null,xv=null,Od=null;function TI(){if(Od)return Od;var t,e=xv,n=e.length,r,i="value"in Fi?Fi.value:Fi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Od=i.slice(t,1<r?1-r:void 0)}function Vd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function Mw(){return!1}function _n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:Mw,this.isPropagationStopped=Mw,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ev=_n(sl),vu=Be({},sl,{view:0,detail:0}),QN=_n(vu),Kp,Gp,jl,If=Be({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jl&&(jl&&t.type==="mousemove"?(Kp=t.screenX-jl.screenX,Gp=t.screenY-jl.screenY):Gp=Kp=0,jl=t),Kp)},movementY:function(t){return"movementY"in t?t.movementY:Gp}}),jw=_n(If),YN=Be({},If,{dataTransfer:0}),XN=_n(YN),JN=Be({},vu,{relatedTarget:0}),Qp=_n(JN),ZN=Be({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),eD=_n(ZN),tD=Be({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nD=_n(tD),rD=Be({},sl,{data:0}),Fw=_n(rD),iD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oD[t])?!!e[t]:!1}function Tv(){return aD}var lD=Be({},vu,{key:function(t){if(t.key){var e=iD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tv,charCode:function(t){return t.type==="keypress"?Vd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cD=_n(lD),uD=Be({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uw=_n(uD),dD=Be({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tv}),hD=_n(dD),fD=Be({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),pD=_n(fD),mD=Be({},If,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gD=_n(mD),yD=[9,13,27,32],Sv=Qr&&"CompositionEvent"in window,sc=null;Qr&&"documentMode"in document&&(sc=document.documentMode);var vD=Qr&&"TextEvent"in window&&!sc,SI=Qr&&(!Sv||sc&&8<sc&&11>=sc),Bw=String.fromCharCode(32),zw=!1;function II(t,e){switch(t){case"keyup":return yD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function _D(t,e){switch(t){case"compositionend":return bI(e);case"keypress":return e.which!==32?null:(zw=!0,Bw);case"textInput":return t=e.data,t===Bw&&zw?null:t;default:return null}}function wD(t,e){if(ea)return t==="compositionend"||!Sv&&II(t,e)?(t=TI(),Od=xv=Fi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SI&&e.locale!=="ko"?null:e.data;default:return null}}var xD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xD[t.type]:e==="textarea"}function AI(t,e,n,r){iI(r),e=ph(e,"onChange"),0<e.length&&(n=new Ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oc=null,Pc=null;function ED(t){jI(t,0)}function bf(t){var e=ra(t);if(XS(e))return t}function TD(t,e){if(t==="change")return e}var PI=!1;if(Qr){var Yp;if(Qr){var Xp="oninput"in document;if(!Xp){var qw=document.createElement("div");qw.setAttribute("oninput","return;"),Xp=typeof qw.oninput=="function"}Yp=Xp}else Yp=!1;PI=Yp&&(!document.documentMode||9<document.documentMode)}function Hw(){oc&&(oc.detachEvent("onpropertychange",RI),Pc=oc=null)}function RI(t){if(t.propertyName==="value"&&bf(Pc)){var e=[];AI(e,Pc,t,gv(t)),lI(ED,e)}}function SD(t,e,n){t==="focusin"?(Hw(),oc=e,Pc=n,oc.attachEvent("onpropertychange",RI)):t==="focusout"&&Hw()}function ID(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bf(Pc)}function bD(t,e){if(t==="click")return bf(e)}function AD(t,e){if(t==="input"||t==="change")return bf(e)}function PD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:PD;function Rc(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qm.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function Ww(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kw(t,e){var n=Ww(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ww(n)}}function CI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kI(){for(var t=window,e=ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ah(t.document)}return e}function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RD(t){var e=kI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CI(n.ownerDocument.documentElement,n)){if(r!==null&&Iv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Kw(n,s);var o=Kw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CD=Qr&&"documentMode"in document&&11>=document.documentMode,ta=null,pg=null,ac=null,mg=!1;function Gw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||ta==null||ta!==ah(r)||(r=ta,"selectionStart"in r&&Iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ac&&Rc(ac,r)||(ac=r,r=ph(pg,"onSelect"),0<r.length&&(e=new Ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ta)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var na={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},Jp={},NI={};Qr&&(NI=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Af(t){if(Jp[t])return Jp[t];if(!na[t])return t;var e=na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NI)return Jp[t]=e[n];return t}var DI=Af("animationend"),OI=Af("animationiteration"),VI=Af("animationstart"),LI=Af("transitionend"),MI=new Map,Qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){MI.set(t,e),xo(e,[t])}for(var Zp=0;Zp<Qw.length;Zp++){var em=Qw[Zp],kD=em.toLowerCase(),ND=em[0].toUpperCase()+em.slice(1);vs(kD,"on"+ND)}vs(DI,"onAnimationEnd");vs(OI,"onAnimationIteration");vs(VI,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(LI,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function Yw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kN(r,e,void 0,t),t.currentTarget=null}function jI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Yw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Yw(i,a,u),s=l}}}if(ch)throw t=ug,ch=!1,ug=null,t}function Ne(t,e){var n=e[wg];n===void 0&&(n=e[wg]=new Set);var r=t+"__bubble";n.has(r)||(FI(e,t,2,!1),n.add(r))}function tm(t,e,n){var r=0;e&&(r|=4),FI(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[ad]){t[ad]=!0,WS.forEach(function(n){n!=="selectionchange"&&(DD.has(n)||tm(n,!1,t),tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,tm("selectionchange",!1,e))}}function FI(t,e,n,r){switch(EI(e)){case 1:var i=KN;break;case 4:i=GN;break;default:i=wv}n=i.bind(null,e,n,t),i=void 0,!cg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}lI(function(){var u=s,d=gv(n),h=[];e:{var p=MI.get(t);if(p!==void 0){var g=Ev,y=t;switch(t){case"keypress":if(Vd(n)===0)break e;case"keydown":case"keyup":g=cD;break;case"focusin":y="focus",g=Qp;break;case"focusout":y="blur",g=Qp;break;case"beforeblur":case"afterblur":g=Qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=XN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hD;break;case DI:case OI:case VI:g=eD;break;case LI:g=pD;break;case"scroll":g=QN;break;case"wheel":g=gD;break;case"copy":case"cut":case"paste":g=nD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Uw}var w=(e&4)!==0,S=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var E=u,v;E!==null;){v=E;var P=v.stateNode;if(v.tag===5&&P!==null&&(v=P,_!==null&&(P=Sc(E,_),P!=null&&w.push(kc(E,P,v)))),S)break;E=E.return}0<w.length&&(p=new g(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ag&&(y=n.relatedTarget||n.fromElement)&&(Fs(y)||y[Yr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Fs(y):null,y!==null&&(S=Eo(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=jw,P="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=Uw,P="onPointerLeave",_="onPointerEnter",E="pointer"),S=g==null?p:ra(g),v=y==null?p:ra(y),p=new w(P,E+"leave",g,n,d),p.target=S,p.relatedTarget=v,P=null,Fs(d)===u&&(w=new w(_,E+"enter",y,n,d),w.target=v,w.relatedTarget=S,P=w),S=P,g&&y)t:{for(w=g,_=y,E=0,v=w;v;v=Wo(v))E++;for(v=0,P=_;P;P=Wo(P))v++;for(;0<E-v;)w=Wo(w),E--;for(;0<v-E;)_=Wo(_),v--;for(;E--;){if(w===_||_!==null&&w===_.alternate)break t;w=Wo(w),_=Wo(_)}w=null}else w=null;g!==null&&Xw(h,p,g,w,!1),y!==null&&S!==null&&Xw(h,S,y,w,!0)}}e:{if(p=u?ra(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=TD;else if($w(p))if(PI)O=AD;else{O=ID;var M=SD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=bD);if(O&&(O=O(t,u))){AI(h,O,n,d);break e}M&&M(t,p,u),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&ng(p,"number",p.value)}switch(M=u?ra(u):window,t){case"focusin":($w(M)||M.contentEditable==="true")&&(ta=M,pg=u,ac=null);break;case"focusout":ac=pg=ta=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,Gw(h,n,d);break;case"selectionchange":if(CD)break;case"keydown":case"keyup":Gw(h,n,d)}var b;if(Sv)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ea?II(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(SI&&n.locale!=="ko"&&(ea||x!=="onCompositionStart"?x==="onCompositionEnd"&&ea&&(b=TI()):(Fi=d,xv="value"in Fi?Fi.value:Fi.textContent,ea=!0)),M=ph(u,x),0<M.length&&(x=new Fw(x,t,null,n,d),h.push({event:x,listeners:M}),b?x.data=b:(b=bI(n),b!==null&&(x.data=b)))),(b=vD?_D(t,n):wD(t,n))&&(u=ph(u,"onBeforeInput"),0<u.length&&(d=new Fw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}jI(h,e)})}function kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sc(t,n),s!=null&&r.unshift(kc(t,s,i)),s=Sc(t,e),s!=null&&r.push(kc(t,s,i))),t=t.return}return r}function Wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sc(n,s),l!=null&&o.unshift(kc(n,l,a))):i||(l=Sc(n,s),l!=null&&o.push(kc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var OD=/\r\n?/g,VD=/\u0000|\uFFFD/g;function Jw(t){return(typeof t=="string"?t:""+t).replace(OD,`
`).replace(VD,"")}function ld(t,e,n){if(e=Jw(e),Jw(t)!==e&&n)throw Error(z(425))}function mh(){}var gg=null,yg=null;function vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,LD=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,MD=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(t){return Zw.resolve(null).then(t).catch(jD)}:_g;function jD(t){setTimeout(function(){throw t})}function rm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ac(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ex(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),fr="__reactFiber$"+ol,Nc="__reactProps$"+ol,Yr="__reactContainer$"+ol,wg="__reactEvents$"+ol,FD="__reactListeners$"+ol,UD="__reactHandles$"+ol;function Fs(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ex(t);t!==null;){if(n=t[fr])return n;t=ex(t)}return e}t=n,n=t.parentNode}return null}function _u(t){return t=t[fr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Pf(t){return t[Nc]||null}var xg=[],ia=-1;function _s(t){return{current:t}}function De(t){0>ia||(t.current=xg[ia],xg[ia]=null,ia--)}function Re(t,e){ia++,xg[ia]=t.current,t.current=e}var ls={},Mt=_s(ls),sn=_s(!1),oo=ls;function Ba(t,e){var n=t.type.contextTypes;if(!n)return ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function gh(){De(sn),De(Mt)}function tx(t,e,n){if(Mt.current!==ls)throw Error(z(168));Re(Mt,e),Re(sn,n)}function UI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,SN(t)||"Unknown",i));return Be({},n,r)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ls,oo=Mt.current,Re(Mt,t),Re(sn,sn.current),!0}function nx(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=UI(t,e,oo),r.__reactInternalMemoizedMergedChildContext=t,De(sn),De(Mt),Re(Mt,t)):De(sn),Re(sn,n)}var Dr=null,Rf=!1,im=!1;function BI(t){Dr===null?Dr=[t]:Dr.push(t)}function BD(t){Rf=!0,BI(t)}function ws(){if(!im&&Dr!==null){im=!0;var t=0,e=Te;try{var n=Dr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,Rf=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),hI(yv,ws),i}finally{Te=e,im=!1}}return null}var sa=[],oa=0,vh=null,_h=0,In=[],bn=0,ao=null,Fr=1,Ur="";function Ns(t,e){sa[oa++]=_h,sa[oa++]=vh,vh=t,_h=e}function zI(t,e,n){In[bn++]=Fr,In[bn++]=Ur,In[bn++]=ao,ao=t;var r=Fr;t=Ur;var i=32-Wn(r)-1;r&=~(1<<i),n+=1;var s=32-Wn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fr=1<<32-Wn(e)+i|n<<i|r,Ur=s+t}else Fr=1<<s|n<<i|r,Ur=t}function bv(t){t.return!==null&&(Ns(t,1),zI(t,1,0))}function Av(t){for(;t===vh;)vh=sa[--oa],sa[oa]=null,_h=sa[--oa],sa[oa]=null;for(;t===ao;)ao=In[--bn],In[bn]=null,Ur=In[--bn],In[bn]=null,Fr=In[--bn],In[bn]=null}var pn=null,fn=null,Le=!1,zn=null;function $I(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,fn=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ao!==null?{id:Fr,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,fn=null,!0):!1;default:return!1}}function Eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tg(t){if(Le){var e=fn;if(e){var n=e;if(!rx(t,e)){if(Eg(t))throw Error(z(418));e=Ki(n.nextSibling);var r=pn;e&&rx(t,e)?$I(r,n):(t.flags=t.flags&-4097|2,Le=!1,pn=t)}}else{if(Eg(t))throw Error(z(418));t.flags=t.flags&-4097|2,Le=!1,pn=t}}}function ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function cd(t){if(t!==pn)return!1;if(!Le)return ix(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vg(t.type,t.memoizedProps)),e&&(e=fn)){if(Eg(t))throw qI(),Error(z(418));for(;e;)$I(t,e),e=Ki(e.nextSibling)}if(ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=Ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=pn?Ki(t.stateNode.nextSibling):null;return!0}function qI(){for(var t=fn;t;)t=Ki(t.nextSibling)}function za(){fn=pn=null,Le=!1}function Pv(t){zn===null?zn=[t]:zn.push(t)}var zD=si.ReactCurrentBatchConfig;function Fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sx(t){var e=t._init;return e(t._payload)}function HI(t){function e(_,E){if(t){var v=_.deletions;v===null?(_.deletions=[E],_.flags|=16):v.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=Xi(_,E),_.index=0,_.sibling=null,_}function s(_,E,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<E?(_.flags|=2,E):v):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,v,P){return E===null||E.tag!==6?(E=dm(v,_.mode,P),E.return=_,E):(E=i(E,v),E.return=_,E)}function l(_,E,v,P){var O=v.type;return O===Zo?d(_,E,v.props.children,P,v.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xi&&sx(O)===E.type)?(P=i(E,v.props),P.ref=Fl(_,E,v),P.return=_,P):(P=zd(v.type,v.key,v.props,null,_.mode,P),P.ref=Fl(_,E,v),P.return=_,P)}function u(_,E,v,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==v.containerInfo||E.stateNode.implementation!==v.implementation?(E=hm(v,_.mode,P),E.return=_,E):(E=i(E,v.children||[]),E.return=_,E)}function d(_,E,v,P,O){return E===null||E.tag!==7?(E=so(v,_.mode,P,O),E.return=_,E):(E=i(E,v),E.return=_,E)}function h(_,E,v){if(typeof E=="string"&&E!==""||typeof E=="number")return E=dm(""+E,_.mode,v),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zu:return v=zd(E.type,E.key,E.props,null,_.mode,v),v.ref=Fl(_,null,E),v.return=_,v;case Jo:return E=hm(E,_.mode,v),E.return=_,E;case xi:var P=E._init;return h(_,P(E._payload),v)}if(Kl(E)||Ol(E))return E=so(E,_.mode,v,null),E.return=_,E;ud(_,E)}return null}function p(_,E,v,P){var O=E!==null?E.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return O!==null?null:a(_,E,""+v,P);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zu:return v.key===O?l(_,E,v,P):null;case Jo:return v.key===O?u(_,E,v,P):null;case xi:return O=v._init,p(_,E,O(v._payload),P)}if(Kl(v)||Ol(v))return O!==null?null:d(_,E,v,P,null);ud(_,v)}return null}function g(_,E,v,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(v)||null,a(E,_,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Zu:return _=_.get(P.key===null?v:P.key)||null,l(E,_,P,O);case Jo:return _=_.get(P.key===null?v:P.key)||null,u(E,_,P,O);case xi:var M=P._init;return g(_,E,v,M(P._payload),O)}if(Kl(P)||Ol(P))return _=_.get(v)||null,d(E,_,P,O,null);ud(E,P)}return null}function y(_,E,v,P){for(var O=null,M=null,b=E,x=E=0,A=null;b!==null&&x<v.length;x++){b.index>x?(A=b,b=null):A=b.sibling;var R=p(_,b,v[x],P);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(_,b),E=s(R,E,x),M===null?O=R:M.sibling=R,M=R,b=A}if(x===v.length)return n(_,b),Le&&Ns(_,x),O;if(b===null){for(;x<v.length;x++)b=h(_,v[x],P),b!==null&&(E=s(b,E,x),M===null?O=b:M.sibling=b,M=b);return Le&&Ns(_,x),O}for(b=r(_,b);x<v.length;x++)A=g(b,_,x,v[x],P),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?x:A.key),E=s(A,E,x),M===null?O=A:M.sibling=A,M=A);return t&&b.forEach(function(k){return e(_,k)}),Le&&Ns(_,x),O}function w(_,E,v,P){var O=Ol(v);if(typeof O!="function")throw Error(z(150));if(v=O.call(v),v==null)throw Error(z(151));for(var M=O=null,b=E,x=E=0,A=null,R=v.next();b!==null&&!R.done;x++,R=v.next()){b.index>x?(A=b,b=null):A=b.sibling;var k=p(_,b,R.value,P);if(k===null){b===null&&(b=A);break}t&&b&&k.alternate===null&&e(_,b),E=s(k,E,x),M===null?O=k:M.sibling=k,M=k,b=A}if(R.done)return n(_,b),Le&&Ns(_,x),O;if(b===null){for(;!R.done;x++,R=v.next())R=h(_,R.value,P),R!==null&&(E=s(R,E,x),M===null?O=R:M.sibling=R,M=R);return Le&&Ns(_,x),O}for(b=r(_,b);!R.done;x++,R=v.next())R=g(b,_,x,R.value,P),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?x:R.key),E=s(R,E,x),M===null?O=R:M.sibling=R,M=R);return t&&b.forEach(function(V){return e(_,V)}),Le&&Ns(_,x),O}function S(_,E,v,P){if(typeof v=="object"&&v!==null&&v.type===Zo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zu:e:{for(var O=v.key,M=E;M!==null;){if(M.key===O){if(O=v.type,O===Zo){if(M.tag===7){n(_,M.sibling),E=i(M,v.props.children),E.return=_,_=E;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===xi&&sx(O)===M.type){n(_,M.sibling),E=i(M,v.props),E.ref=Fl(_,M,v),E.return=_,_=E;break e}n(_,M);break}else e(_,M);M=M.sibling}v.type===Zo?(E=so(v.props.children,_.mode,P,v.key),E.return=_,_=E):(P=zd(v.type,v.key,v.props,null,_.mode,P),P.ref=Fl(_,E,v),P.return=_,_=P)}return o(_);case Jo:e:{for(M=v.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===v.containerInfo&&E.stateNode.implementation===v.implementation){n(_,E.sibling),E=i(E,v.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=hm(v,_.mode,P),E.return=_,_=E}return o(_);case xi:return M=v._init,S(_,E,M(v._payload),P)}if(Kl(v))return y(_,E,v,P);if(Ol(v))return w(_,E,v,P);ud(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,v),E.return=_,_=E):(n(_,E),E=dm(v,_.mode,P),E.return=_,_=E),o(_)):n(_,E)}return S}var $a=HI(!0),WI=HI(!1),wh=_s(null),xh=null,aa=null,Rv=null;function Cv(){Rv=aa=xh=null}function kv(t){var e=wh.current;De(wh),t._currentValue=e}function Sg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function va(t,e){xh=t,Rv=aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(Rv!==t)if(t={context:t,memoizedValue:e,next:null},aa===null){if(xh===null)throw Error(z(308));aa=t,xh.dependencies={lanes:0,firstContext:t}}else aa=aa.next=t;return e}var Us=null;function Nv(t){Us===null?Us=[t]:Us.push(t)}function KI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Nv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ei=!1;function Dv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xr(t,n)}return i=r.interleaved,i===null?(e.next=e,Nv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xr(t,n)}function Ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vv(t,n)}}function ox(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Eh(t,e,n,r){var i=t.updateQueue;Ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(g,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(g,h,p):y,p==null)break e;h=Be({},h,p);break e;case 2:Ei=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=h}}function ax(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var wu={},yr=_s(wu),Dc=_s(wu),Oc=_s(wu);function Bs(t){if(t===wu)throw Error(z(174));return t}function Ov(t,e){switch(Re(Oc,e),Re(Dc,t),Re(yr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ig(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ig(e,t)}De(yr),Re(yr,e)}function qa(){De(yr),De(Dc),De(Oc)}function QI(t){Bs(Oc.current);var e=Bs(yr.current),n=ig(e,t.type);e!==n&&(Re(Dc,t),Re(yr,n))}function Vv(t){Dc.current===t&&(De(yr),De(Dc))}var je=_s(0);function Th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sm=[];function Lv(){for(var t=0;t<sm.length;t++)sm[t]._workInProgressVersionPrimary=null;sm.length=0}var Md=si.ReactCurrentDispatcher,om=si.ReactCurrentBatchConfig,lo=0,Ue=null,at=null,gt=null,Sh=!1,lc=!1,Vc=0,$D=0;function Rt(){throw Error(z(321))}function Mv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function jv(t,e,n,r,i,s){if(lo=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Md.current=t===null||t.memoizedState===null?KD:GD,t=n(r,i),lc){s=0;do{if(lc=!1,Vc=0,25<=s)throw Error(z(301));s+=1,gt=at=null,e.updateQueue=null,Md.current=QD,t=n(r,i)}while(lc)}if(Md.current=Ih,e=at!==null&&at.next!==null,lo=0,gt=at=Ue=null,Sh=!1,e)throw Error(z(300));return t}function Fv(){var t=Vc!==0;return Vc=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ue.memoizedState=gt=t:gt=gt.next=t,gt}function Nn(){if(at===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=gt===null?Ue.memoizedState:gt.next;if(e!==null)gt=e,at=t;else{if(t===null)throw Error(z(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},gt===null?Ue.memoizedState=gt=t:gt=gt.next=t}return gt}function Lc(t,e){return typeof e=="function"?e(t):e}function am(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=at,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((lo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ue.lanes|=d,co|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lm(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function YI(){}function XI(t,e){var n=Ue,r=Nn(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,Uv(eb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Mc(9,ZI.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(z(349));lo&30||JI(n,e,i)}return i}function JI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZI(t,e,n,r){e.value=n,e.getSnapshot=r,tb(e)&&nb(t)}function eb(t,e,n){return n(function(){tb(e)&&nb(t)})}function tb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function nb(t){var e=Xr(t,1);e!==null&&Kn(e,t,1,-1)}function lx(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:t},e.queue=t,t=t.dispatch=WD.bind(null,Ue,t),[e.memoizedState,t]}function Mc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rb(){return Nn().memoizedState}function jd(t,e,n,r){var i=lr();Ue.flags|=t,i.memoizedState=Mc(1|e,n,void 0,r===void 0?null:r)}function Cf(t,e,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,r!==null&&Mv(r,o.deps)){i.memoizedState=Mc(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=Mc(1|e,n,s,r)}function cx(t,e){return jd(8390656,8,t,e)}function Uv(t,e){return Cf(2048,8,t,e)}function ib(t,e){return Cf(4,2,t,e)}function sb(t,e){return Cf(4,4,t,e)}function ob(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ab(t,e,n){return n=n!=null?n.concat([t]):null,Cf(4,4,ob.bind(null,e,t),n)}function Bv(){}function lb(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cb(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ub(t,e,n){return lo&21?(Yn(n,e)||(n=mI(),Ue.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function qD(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=om.transition;om.transition={};try{t(!1),e()}finally{Te=n,om.transition=r}}function db(){return Nn().memoizedState}function HD(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hb(t))fb(e,n);else if(n=KI(t,e,n,r),n!==null){var i=Wt();Kn(n,t,r,i),pb(n,e,r)}}function WD(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hb(t))fb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,Nv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KI(t,e,i,r),n!==null&&(i=Wt(),Kn(n,t,r,i),pb(n,e,r))}}function hb(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function fb(t,e){lc=Sh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vv(t,n)}}var Ih={readContext:kn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},KD={readContext:kn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:cx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,ob.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HD.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:lx,useDebugValue:Bv,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=lx(!1),e=t[0];return t=qD.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=lr();if(Le){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),vt===null)throw Error(z(349));lo&30||JI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cx(eb.bind(null,r,s,t),[t]),r.flags|=2048,Mc(9,ZI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=lr(),e=vt.identifierPrefix;if(Le){var n=Ur,r=Fr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$D++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GD={readContext:kn,useCallback:lb,useContext:kn,useEffect:Uv,useImperativeHandle:ab,useInsertionEffect:ib,useLayoutEffect:sb,useMemo:cb,useReducer:am,useRef:rb,useState:function(){return am(Lc)},useDebugValue:Bv,useDeferredValue:function(t){var e=Nn();return ub(e,at.memoizedState,t)},useTransition:function(){var t=am(Lc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:YI,useSyncExternalStore:XI,useId:db,unstable_isNewReconciler:!1},QD={readContext:kn,useCallback:lb,useContext:kn,useEffect:Uv,useImperativeHandle:ab,useInsertionEffect:ib,useLayoutEffect:sb,useMemo:cb,useReducer:lm,useRef:rb,useState:function(){return lm(Lc)},useDebugValue:Bv,useDeferredValue:function(t){var e=Nn();return at===null?e.memoizedState=t:ub(e,at.memoizedState,t)},useTransition:function(){var t=lm(Lc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:YI,useSyncExternalStore:XI,useId:db,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kf={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Yi(t),s=qr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,i),e!==null&&(Kn(e,t,i,r),Ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Yi(t),s=qr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,i),e!==null&&(Kn(e,t,i,r),Ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Yi(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gi(t,i,r),e!==null&&(Kn(e,t,r,n),Ld(e,t,r))}};function ux(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rc(n,r)||!Rc(i,s):!0}function mb(t,e,n){var r=!1,i=ls,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=on(e)?oo:Mt.current,r=e.contextTypes,s=(r=r!=null)?Ba(t,i):ls),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kf.enqueueReplaceState(e,e.state,null)}function bg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=on(e)?oo:Mt.current,i.context=Ba(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ig(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kf.enqueueReplaceState(i,i.state,null),Eh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ha(t,e){try{var n="",r=e;do n+=TN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YD=typeof WeakMap=="function"?WeakMap:Map;function gb(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ah||(Ah=!0,Mg=r),Ag(t,e)},n}function yb(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ag(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ag(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uO.bind(null,t,e,n),e.then(t,t))}function fx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function px(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Gi(n,e,1))),n.lanes|=1),t)}var XD=si.ReactCurrentOwner,rn=!1;function $t(t,e,n,r){e.child=t===null?WI(e,null,n,r):$a(e,t.child,n,r)}function mx(t,e,n,r,i){n=n.render;var s=e.ref;return va(e,i),r=jv(t,e,n,r,s,i),n=Fv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Le&&n&&bv(e),e.flags|=1,$t(t,e,r,i),e.child)}function gx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vb(t,e,s,r,i)):(t=zd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(o,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function vb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rc(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return Pg(t,e,n,r,i)}function _b(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(ca,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(ca,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(ca,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Re(ca,hn),hn|=r;return $t(t,e,i,n),e.child}function wb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pg(t,e,n,r,i){var s=on(n)?oo:Mt.current;return s=Ba(e,s),va(e,i),n=jv(t,e,n,r,s,i),r=Fv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Le&&r&&bv(e),e.flags|=1,$t(t,e,n,i),e.child)}function yx(t,e,n,r,i){if(on(n)){var s=!0;yh(e)}else s=!1;if(va(e,i),e.stateNode===null)Fd(t,e),mb(e,n,r),bg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=on(n)?oo:Mt.current,u=Ba(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&dx(e,o,r,u),Ei=!1;var p=e.memoizedState;o.state=p,Eh(e,r,o,i),l=e.memoizedState,a!==r||p!==l||sn.current||Ei?(typeof d=="function"&&(Ig(e,n,d,r),l=e.memoizedState),(a=Ei||ux(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:jn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=on(n)?oo:Mt.current,l=Ba(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&dx(e,o,r,l),Ei=!1,p=e.memoizedState,o.state=p,Eh(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||sn.current||Ei?(typeof g=="function"&&(Ig(e,n,g,r),y=e.memoizedState),(u=Ei||ux(e,n,u,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Rg(t,e,n,r,s,i)}function Rg(t,e,n,r,i,s){wb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&nx(e,n,!1),Jr(t,e,s);r=e.stateNode,XD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,s),e.child=$a(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&nx(e,n,!0),e.child}function xb(t){var e=t.stateNode;e.pendingContext?tx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tx(t,e.context,!1),Ov(t,e.containerInfo)}function vx(t,e,n,r,i){return za(),Pv(i),e.flags|=256,$t(t,e,n,r),e.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function kg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Eb(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(je,i&1),t===null)return Tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Of(o,r,0,null),t=so(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kg(n),e.memoizedState=Cg,t):zv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xi(a,s):(s=so(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?kg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cg,r}return s=t.child,t=s.sibling,r=Xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zv(t,e){return e=Of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&Pv(r),$a(e,t.child,null,n),t=zv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cm(Error(z(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Of({mode:"visible",children:r.children},i,0,null),s=so(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=kg(o),e.memoizedState=Cg,s);if(!(e.mode&1))return dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=cm(s,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xr(t,i),Kn(r,t,i,-1))}return Gv(),r=cm(Error(z(421))),dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Ki(i.nextSibling),pn=e,Le=!0,zn=null,t!==null&&(In[bn++]=Fr,In[bn++]=Ur,In[bn++]=ao,Fr=t.id,Ur=t.overflow,ao=e),e=zv(e,r.children),e.flags|=4096,e)}function _x(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sg(t.return,e,n)}function um(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Tb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_x(t,n,e);else if(t.tag===19)_x(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Th(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),um(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Th(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}um(e,!0,n,null,s);break;case"together":um(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZD(t,e,n){switch(e.tag){case 3:xb(e),za();break;case 5:QI(e);break;case 1:on(e.type)&&yh(e);break;case 4:Ov(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(wh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?Eb(t,e,n):(Re(je,je.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Re(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,_b(t,e,n)}return Jr(t,e,n)}var Sb,Ng,Ib,bb;Sb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};Ib=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bs(yr.current);var s=null;switch(n){case"input":i=eg(t,i),r=eg(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=rg(t,i),r=rg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mh)}sg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ec.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};bb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ul(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eO(t,e,n){var r=e.pendingProps;switch(Av(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return on(e.type)&&gh(),Ct(e),null;case 3:return r=e.stateNode,qa(),De(sn),De(Mt),Lv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(Ug(zn),zn=null))),Ng(t,e),Ct(e),null;case 5:Vv(e);var i=Bs(Oc.current);if(n=e.type,t!==null&&e.stateNode!=null)Ib(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ct(e),null}if(t=Bs(yr.current),cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[Nc]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Ql.length;i++)Ne(Ql[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Pw(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":Cw(r,s),Ne("invalid",r)}sg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",""+a]):Ec.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":ed(r),Rw(r,s,!0);break;case"textarea":ed(r),kw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[Nc]=r,Sb(t,e,!1,!1),e.stateNode=t;e:{switch(o=og(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ql.length;i++)Ne(Ql[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":Pw(t,r),i=eg(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Cw(t,r),i=rg(t,r),Ne("invalid",t);break;default:i=r}sg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tc(t,l):typeof l=="number"&&Tc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ec.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&hv(t,s,l,o))}switch(n){case"input":ed(t),Rw(t,r,!1);break;case"textarea":ed(t),kw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+as(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pa(t,!!r.multiple,s,!1):r.defaultValue!=null&&pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)bb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Bs(Oc.current),Bs(yr.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Ct(e),null;case 13:if(De(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&fn!==null&&e.mode&1&&!(e.flags&128))qI(),za(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[fr]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else zn!==null&&(Ug(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?ut===0&&(ut=3):Gv())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return qa(),Ng(t,e),t===null&&Cc(e.stateNode.containerInfo),Ct(e),null;case 10:return kv(e.type._context),Ct(e),null;case 17:return on(e.type)&&gh(),Ct(e),null;case 19:if(De(je),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ul(s,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Th(t),o!==null){for(e.flags|=128,Ul(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Wa&&(e.flags|=128,r=!0,Ul(s,!1),e.lanes=4194304)}else{if(!r)if(t=Th(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ul(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return Ct(e),null}else 2*Ye()-s.renderingStartTime>Wa&&n!==1073741824&&(e.flags|=128,r=!0,Ul(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=je.current,Re(je,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return Kv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function tO(t,e){switch(Av(e),e.tag){case 1:return on(e.type)&&gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qa(),De(sn),De(Mt),Lv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vv(e),null;case 13:if(De(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(je),null;case 4:return qa(),null;case 10:return kv(e.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var hd=!1,Ot=!1,nO=typeof WeakSet=="function"?WeakSet:Set,Y=null;function la(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Dg(t,e,n){try{n()}catch(r){He(t,e,r)}}var wx=!1;function rO(t,e){if(gg=hh,t=kI(),Iv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yg={focusedElem:t,selectionRange:n},hh=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:jn(e.type,w),S);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){He(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=wx,wx=!1,y}function cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dg(e,n,s)}i=i.next}while(i!==r)}}function Nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ab(t){var e=t.alternate;e!==null&&(t.alternate=null,Ab(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Nc],delete e[wg],delete e[FD],delete e[UD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pb(t){return t.tag===5||t.tag===3||t.tag===4}function xx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mh));else if(r!==4&&(t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}function Lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}var xt=null,Bn=!1;function yi(t,e,n){for(n=n.child;n!==null;)Rb(t,e,n),n=n.sibling}function Rb(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Sf,n)}catch{}switch(n.tag){case 5:Ot||la(n,e);case 6:var r=xt,i=Bn;xt=null,yi(t,e,n),xt=r,Bn=i,xt!==null&&(Bn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Bn?(t=xt,n=n.stateNode,t.nodeType===8?rm(t.parentNode,n):t.nodeType===1&&rm(t,n),Ac(t)):rm(xt,n.stateNode));break;case 4:r=xt,i=Bn,xt=n.stateNode.containerInfo,Bn=!0,yi(t,e,n),xt=r,Bn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dg(n,e,o),i=i.next}while(i!==r)}yi(t,e,n);break;case 1:if(!Ot&&(la(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,yi(t,e,n),Ot=r):yi(t,e,n);break;default:yi(t,e,n)}}function Ex(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nO),e.forEach(function(r){var i=hO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Bn=!1;break e;case 3:xt=a.stateNode.containerInfo,Bn=!0;break e;case 4:xt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(xt===null)throw Error(z(160));Rb(s,o,i),xt=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cb(e,t),e=e.sibling}function Cb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),sr(t),r&4){try{cc(3,t,t.return),Nf(3,t)}catch(w){He(t,t.return,w)}try{cc(5,t,t.return)}catch(w){He(t,t.return,w)}}break;case 1:Mn(e,t),sr(t),r&512&&n!==null&&la(n,n.return);break;case 5:if(Mn(e,t),sr(t),r&512&&n!==null&&la(n,n.return),t.flags&32){var i=t.stateNode;try{Tc(i,"")}catch(w){He(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JS(i,s),og(a,o);var u=og(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?rI(i,h):d==="dangerouslySetInnerHTML"?tI(i,h):d==="children"?Tc(i,h):hv(i,d,h,u)}switch(a){case"input":tg(i,s);break;case"textarea":ZS(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?pa(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?pa(i,!!s.multiple,s.defaultValue,!0):pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nc]=s}catch(w){He(t,t.return,w)}}break;case 6:if(Mn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){He(t,t.return,w)}}break;case 3:if(Mn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ac(e.containerInfo)}catch(w){He(t,t.return,w)}break;case 4:Mn(e,t),sr(t);break;case 13:Mn(e,t),sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hv=Ye())),r&4&&Ex(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||d,Mn(e,t),Ot=u):Mn(e,t),sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:cc(4,p,p.return);break;case 1:la(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){He(r,n,w)}}break;case 5:la(p,p.return);break;case 22:if(p.memoizedState!==null){Sx(h);continue}}g!==null?(g.return=p,Y=g):Sx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nI("display",o))}catch(w){He(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){He(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),sr(t),r&4&&Ex(t);break;case 21:break;default:Mn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pb(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tc(i,""),r.flags&=-33);var s=xx(t);Lg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xx(t);Vg(t,a,o);break;default:throw Error(z(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iO(t,e,n){Y=t,kb(t)}function kb(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=hd;var u=Ot;if(hd=o,(Ot=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Ix(i):l!==null?(l.return=o,Y=l):Ix(i);for(;s!==null;)Y=s,kb(s),s=s.sibling;Y=i,hd=a,Ot=u}Tx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Tx(t)}}function Tx(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Nf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ax(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ax(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ac(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ot||e.flags&512&&Og(e)}catch(p){He(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Sx(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Ix(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nf(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Og(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Og(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var sO=Math.ceil,bh=si.ReactCurrentDispatcher,$v=si.ReactCurrentOwner,Cn=si.ReactCurrentBatchConfig,we=0,vt=null,et=null,St=0,hn=0,ca=_s(0),ut=0,jc=null,co=0,Df=0,qv=0,uc=null,tn=null,Hv=0,Wa=1/0,Nr=null,Ah=!1,Mg=null,Qi=null,fd=!1,Ui=null,Ph=0,dc=0,jg=null,Ud=-1,Bd=0;function Wt(){return we&6?Ye():Ud!==-1?Ud:Ud=Ye()}function Yi(t){return t.mode&1?we&2&&St!==0?St&-St:zD.transition!==null?(Bd===0&&(Bd=mI()),Bd):(t=Te,t!==0||(t=window.event,t=t===void 0?16:EI(t.type)),t):1}function Kn(t,e,n,r){if(50<dc)throw dc=0,jg=null,Error(z(185));yu(t,n,r),(!(we&2)||t!==vt)&&(t===vt&&(!(we&2)&&(Df|=n),ut===4&&Ii(t,St)),an(t,r),n===1&&we===0&&!(e.mode&1)&&(Wa=Ye()+500,Rf&&ws()))}function an(t,e){var n=t.callbackNode;zN(t,e);var r=dh(t,t===vt?St:0);if(r===0)n!==null&&Ow(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ow(n),e===1)t.tag===0?BD(bx.bind(null,t)):BI(bx.bind(null,t)),MD(function(){!(we&6)&&ws()}),n=null;else{switch(gI(r)){case 1:n=yv;break;case 4:n=fI;break;case 16:n=uh;break;case 536870912:n=pI;break;default:n=uh}n=Fb(n,Nb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nb(t,e){if(Ud=-1,Bd=0,we&6)throw Error(z(327));var n=t.callbackNode;if(_a()&&t.callbackNode!==n)return null;var r=dh(t,t===vt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rh(t,r);else{e=r;var i=we;we|=2;var s=Ob();(vt!==t||St!==e)&&(Nr=null,Wa=Ye()+500,io(t,e));do try{lO();break}catch(a){Db(t,a)}while(1);Cv(),bh.current=s,we=i,et!==null?e=0:(vt=null,St=0,e=ut)}if(e!==0){if(e===2&&(i=dg(t),i!==0&&(r=i,e=Fg(t,i))),e===1)throw n=jc,io(t,0),Ii(t,r),an(t,Ye()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!oO(i)&&(e=Rh(t,r),e===2&&(s=dg(t),s!==0&&(r=s,e=Fg(t,s))),e===1))throw n=jc,io(t,0),Ii(t,r),an(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ds(t,tn,Nr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Hv+500-Ye(),10<e)){if(dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_g(Ds.bind(null,t,tn,Nr),e);break}Ds(t,tn,Nr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sO(r/1960))-r,10<r){t.timeoutHandle=_g(Ds.bind(null,t,tn,Nr),r);break}Ds(t,tn,Nr);break;case 5:Ds(t,tn,Nr);break;default:throw Error(z(329))}}}return an(t,Ye()),t.callbackNode===n?Nb.bind(null,t):null}function Fg(t,e){var n=uc;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=Rh(t,e),t!==2&&(e=tn,tn=n,e!==null&&Ug(e)),t}function Ug(t){tn===null?tn=t:tn.push.apply(tn,t)}function oO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~qv,e&=~Df,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wn(e),r=1<<n;t[n]=-1,e&=~r}}function bx(t){if(we&6)throw Error(z(327));_a();var e=dh(t,0);if(!(e&1))return an(t,Ye()),null;var n=Rh(t,e);if(t.tag!==0&&n===2){var r=dg(t);r!==0&&(e=r,n=Fg(t,r))}if(n===1)throw n=jc,io(t,0),Ii(t,e),an(t,Ye()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,tn,Nr),an(t,Ye()),null}function Wv(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Wa=Ye()+500,Rf&&ws())}}function uo(t){Ui!==null&&Ui.tag===0&&!(we&6)&&_a();var e=we;we|=1;var n=Cn.transition,r=Te;try{if(Cn.transition=null,Te=1,t)return t()}finally{Te=r,Cn.transition=n,we=e,!(we&6)&&ws()}}function Kv(){hn=ca.current,De(ca)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LD(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(Av(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gh();break;case 3:qa(),De(sn),De(Mt),Lv();break;case 5:Vv(r);break;case 4:qa();break;case 13:De(je);break;case 19:De(je);break;case 10:kv(r.type._context);break;case 22:case 23:Kv()}n=n.return}if(vt=t,et=t=Xi(t.current,null),St=hn=e,ut=0,jc=null,qv=Df=co=0,tn=uc=null,Us!==null){for(e=0;e<Us.length;e++)if(n=Us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Us=null}return t}function Db(t,e){do{var n=et;try{if(Cv(),Md.current=Ih,Sh){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sh=!1}if(lo=0,gt=at=Ue=null,lc=!1,Vc=0,$v.current=null,n===null||n.return===null){ut=1,jc=e,et=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=fx(o);if(g!==null){g.flags&=-257,px(g,o,a,s,e),g.mode&1&&hx(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){hx(s,u,e),Gv();break e}l=Error(z(426))}}else if(Le&&a.mode&1){var S=fx(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),px(S,o,a,s,e),Pv(Ha(l,a));break e}}s=l=Ha(l,a),ut!==4&&(ut=2),uc===null?uc=[s]:uc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=gb(s,l,e);ox(s,_);break e;case 1:a=l;var E=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=yb(s,a,e);ox(s,P);break e}}s=s.return}while(s!==null)}Lb(n)}catch(O){e=O,et===n&&n!==null&&(et=n=n.return);continue}break}while(1)}function Ob(){var t=bh.current;return bh.current=Ih,t===null?Ih:t}function Gv(){(ut===0||ut===3||ut===2)&&(ut=4),vt===null||!(co&268435455)&&!(Df&268435455)||Ii(vt,St)}function Rh(t,e){var n=we;we|=2;var r=Ob();(vt!==t||St!==e)&&(Nr=null,io(t,e));do try{aO();break}catch(i){Db(t,i)}while(1);if(Cv(),we=n,bh.current=r,et!==null)throw Error(z(261));return vt=null,St=0,ut}function aO(){for(;et!==null;)Vb(et)}function lO(){for(;et!==null&&!DN();)Vb(et)}function Vb(t){var e=jb(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?Lb(t):et=e,$v.current=null}function Lb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tO(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,et=null;return}}else if(n=eO(n,e,hn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);ut===0&&(ut=5)}function Ds(t,e,n){var r=Te,i=Cn.transition;try{Cn.transition=null,Te=1,cO(t,e,n,r)}finally{Cn.transition=i,Te=r}return null}function cO(t,e,n,r){do _a();while(Ui!==null);if(we&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($N(t,s),t===vt&&(et=vt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,Fb(uh,function(){return _a(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=Te;Te=1;var a=we;we|=4,$v.current=null,rO(t,n),Cb(n,t),RD(yg),hh=!!gg,yg=gg=null,t.current=n,iO(n),ON(),we=a,Te=o,Cn.transition=s}else t.current=n;if(fd&&(fd=!1,Ui=t,Ph=i),s=t.pendingLanes,s===0&&(Qi=null),MN(n.stateNode),an(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ah)throw Ah=!1,t=Mg,Mg=null,t;return Ph&1&&t.tag!==0&&_a(),s=t.pendingLanes,s&1?t===jg?dc++:(dc=0,jg=t):dc=0,ws(),null}function _a(){if(Ui!==null){var t=gI(Ph),e=Cn.transition,n=Te;try{if(Cn.transition=null,Te=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,Ph=0,we&6)throw Error(z(331));var i=we;for(we|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:cc(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(Ab(d),d===u){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cc(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Y=_;break e}Y=s.return}}var E=t.current;for(Y=E;Y!==null;){o=Y;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Y=v;else e:for(o=E;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nf(9,a)}}catch(O){He(a,a.return,O)}if(a===o){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(we=i,ws(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Sf,t)}catch{}r=!0}return r}finally{Te=n,Cn.transition=e}}return!1}function Ax(t,e,n){e=Ha(n,e),e=gb(t,e,1),t=Gi(t,e,1),e=Wt(),t!==null&&(yu(t,1,e),an(t,e))}function He(t,e,n){if(t.tag===3)Ax(t,t,n);else for(;e!==null;){if(e.tag===3){Ax(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=Ha(n,t),t=yb(e,t,1),e=Gi(e,t,1),t=Wt(),e!==null&&(yu(e,1,t),an(e,t));break}}e=e.return}}function uO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(St&n)===n&&(ut===4||ut===3&&(St&130023424)===St&&500>Ye()-Hv?io(t,0):qv|=n),an(t,e)}function Mb(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Wt();t=Xr(t,e),t!==null&&(yu(t,e,n),an(t,n))}function dO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mb(t,n)}function hO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Mb(t,n)}var jb;jb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,ZD(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Le&&e.flags&1048576&&zI(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fd(t,e),t=e.pendingProps;var i=Ba(e,Mt.current);va(e,n),i=jv(null,e,r,t,i,n);var s=Fv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,yh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dv(e),i.updater=kf,e.stateNode=i,i._reactInternals=e,bg(e,r,t,n),e=Rg(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&bv(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pO(r),t=jn(r,t),i){case 0:e=Pg(null,e,r,t,n);break e;case 1:e=yx(null,e,r,t,n);break e;case 11:e=mx(null,e,r,t,n);break e;case 14:e=gx(null,e,r,jn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Pg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),yx(t,e,r,i,n);case 3:e:{if(xb(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,GI(t,e),Eh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ha(Error(z(423)),e),e=vx(t,e,r,n,i);break e}else if(r!==i){i=Ha(Error(z(424)),e),e=vx(t,e,r,n,i);break e}else for(fn=Ki(e.stateNode.containerInfo.firstChild),pn=e,Le=!0,zn=null,n=WI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),r===i){e=Jr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return QI(e),t===null&&Tg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vg(r,i)?o=null:s!==null&&vg(r,s)&&(e.flags|=32),wb(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Tg(e),null;case 13:return Eb(t,e,n);case 4:return Ov(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),mx(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Re(wh,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!sn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=qr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,va(e,n),i=kn(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=jn(r,e.pendingProps),i=jn(r.type,i),gx(t,e,r,i,n);case 15:return vb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Fd(t,e),e.tag=1,on(r)?(t=!0,yh(e)):t=!1,va(e,n),mb(e,r,i),bg(e,r,i,n),Rg(null,e,r,!0,t,n);case 19:return Tb(t,e,n);case 22:return _b(t,e,n)}throw Error(z(156,e.tag))};function Fb(t,e){return hI(t,e)}function fO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new fO(t,e,n,r)}function Qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pO(t){if(typeof t=="function")return Qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pv)return 11;if(t===mv)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zo:return so(n.children,i,s,e);case fv:o=8,i|=8;break;case Ym:return t=Rn(12,n,e,i|2),t.elementType=Ym,t.lanes=s,t;case Xm:return t=Rn(13,n,e,i),t.elementType=Xm,t.lanes=s,t;case Jm:return t=Rn(19,n,e,i),t.elementType=Jm,t.lanes=s,t;case QS:return Of(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KS:o=10;break e;case GS:o=9;break e;case pv:o=11;break e;case mv:o=14;break e;case xi:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function so(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Of(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=QS,t.lanes=n,t.stateNode={isHidden:!1},t}function dm(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function hm(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wp(0),this.expirationTimes=Wp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yv(t,e,n,r,i,s,o,a,l){return t=new mO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dv(s),t}function gO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ub(t){if(!t)return ls;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(on(n))return UI(t,n,e)}return e}function Bb(t,e,n,r,i,s,o,a,l){return t=Yv(n,r,!0,t,i,s,o,a,l),t.context=Ub(null),n=t.current,r=Wt(),i=Yi(n),s=qr(r,i),s.callback=e??null,Gi(n,s,i),t.current.lanes=i,yu(t,i,r),an(t,r),t}function Vf(t,e,n,r){var i=e.current,s=Wt(),o=Yi(i);return n=Ub(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gi(i,e,o),t!==null&&(Kn(t,i,o,s),Ld(t,i,o)),o}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Px(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xv(t,e){Px(t,e),(t=t.alternate)&&Px(t,e)}function yO(){return null}var zb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jv(t){this._internalRoot=t}Lf.prototype.render=Jv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Vf(t,e,null,null)};Lf.prototype.unmount=Jv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uo(function(){Vf(null,t,null,null)}),e[Yr]=null}};function Lf(t){this._internalRoot=t}Lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=_I();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&xI(t)}};function Zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rx(){}function vO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ch(o);s.call(u)}}var o=Bb(e,r,t,0,null,!1,!1,"",Rx);return t._reactRootContainer=o,t[Yr]=o.current,Cc(t.nodeType===8?t.parentNode:t),uo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ch(l);a.call(u)}}var l=Yv(t,0,!1,null,null,!1,!1,"",Rx);return t._reactRootContainer=l,t[Yr]=l.current,Cc(t.nodeType===8?t.parentNode:t),uo(function(){Vf(e,l,n,r)}),l}function jf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ch(o);a.call(l)}}Vf(e,o,t,i)}else o=vO(n,e,t,i,r);return Ch(o)}yI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gl(e.pendingLanes);n!==0&&(vv(e,n|1),an(e,Ye()),!(we&6)&&(Wa=Ye()+500,ws()))}break;case 13:uo(function(){var r=Xr(t,1);if(r!==null){var i=Wt();Kn(r,t,1,i)}}),Xv(t,1)}};_v=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=Wt();Kn(e,t,134217728,n)}Xv(t,134217728)}};vI=function(t){if(t.tag===13){var e=Yi(t),n=Xr(t,e);if(n!==null){var r=Wt();Kn(n,t,e,r)}Xv(t,e)}};_I=function(){return Te};wI=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};lg=function(t,e,n){switch(e){case"input":if(tg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pf(r);if(!i)throw Error(z(90));XS(r),tg(r,i)}}}break;case"textarea":ZS(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};oI=Wv;aI=uo;var _O={usingClientEntryPoint:!1,Events:[_u,ra,Pf,iI,sI,Wv]},Bl={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wO={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uI(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||yO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Sf=pd.inject(wO),gr=pd}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_O;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zv(e))throw Error(z(200));return gO(t,e,null,n)};vn.createRoot=function(t,e){if(!Zv(t))throw Error(z(299));var n=!1,r="",i=zb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yv(t,1,!1,null,null,n,!1,r,i),t[Yr]=e.current,Cc(t.nodeType===8?t.parentNode:t),new Jv(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=uI(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return uo(t)};vn.hydrate=function(t,e,n){if(!Mf(e))throw Error(z(200));return jf(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Zv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Bb(e,null,t,1,n??null,i,!1,s,o),t[Yr]=e.current,Cc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lf(e)};vn.render=function(t,e,n){if(!Mf(e))throw Error(z(200));return jf(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Mf(t))throw Error(z(40));return t._reactRootContainer?(uo(function(){jf(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};vn.unstable_batchedUpdates=Wv;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return jf(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function $b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($b)}catch(t){console.error(t)}}$b(),$S.exports=vn;var xO=$S.exports,Cx=xO;Gm.createRoot=Cx.createRoot,Gm.hydrateRoot=Cx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const kx="popstate";function EO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Bg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kh(i)}return SO(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TO(){return Math.random().toString(36).substr(2,8)}function Nx(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,n,r){return n===void 0&&(n=null),Fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?al(e):e,{state:n,key:e&&e.key||r||TO()})}function kh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Bi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Fc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Bi.Pop;let S=d(),_=S==null?null:S-u;u=S,l&&l({action:a,location:w.location,delta:_})}function p(S,_){a=Bi.Push;let E=Bg(w.location,S,_);n&&n(E,S),u=d()+1;let v=Nx(E,u),P=w.createHref(E);try{o.pushState(v,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&l&&l({action:a,location:w.location,delta:1})}function g(S,_){a=Bi.Replace;let E=Bg(w.location,S,_);n&&n(E,S),u=d();let v=Nx(E,u),P=w.createHref(E);o.replaceState(v,"",P),s&&l&&l({action:a,location:w.location,delta:0})}function y(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:kh(S);return E=E.replace(/ $/,"%20"),rt(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let w={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kx,h),l=S,()=>{i.removeEventListener(kx,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let _=y(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(S){return o.go(S)}};return w}var Dx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dx||(Dx={}));function IO(t,e,n){return n===void 0&&(n="/"),bO(t,e,n,!1)}function bO(t,e,n,r){let i=typeof e=="string"?al(e):e,s=e0(i.pathname||"/",n);if(s==null)return null;let o=Hb(t);AO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=jO(s);a=LO(o[l],u,r)}return a}function Hb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ji([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Hb(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:OO(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Wb(s.path))i(s,o,l)}),e}function Wb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Wb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function AO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PO=/^:[\w-]+$/,RO=3,CO=2,kO=1,NO=10,DO=-2,Ox=t=>t==="*";function OO(t,e){let n=t.split("/"),r=n.length;return n.some(Ox)&&(r+=DO),e&&(r+=CO),n.filter(i=>!Ox(i)).reduce((i,s)=>i+(PO.test(s)?RO:s===""?kO:NO),r)}function VO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LO(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Vx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Vx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ji([s,h.pathname]),pathnameBase:zO(Ji([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ji([s,h.pathnameBase]))}return o}function Vx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return g&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function e0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?al(t):t;return{pathname:n?n.startsWith("/")?n:UO(n,e):e,search:$O(r),hash:qO(i)}}function UO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kb(t,e){let n=BO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Gb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=al(t):(i=Fc({},t),rt(!i.pathname||!i.pathname.includes("?"),fm("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),fm("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),fm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=FO(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),zO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$O=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qb=["post","put","patch","delete"];new Set(Qb);const WO=["get",...Qb];new Set(WO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}const t0=D.createContext(null),KO=D.createContext(null),To=D.createContext(null),Ff=D.createContext(null),So=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Yb=D.createContext(null);function GO(t,e){let{relative:n}=e===void 0?{}:e;xu()||rt(!1);let{basename:r,navigator:i}=D.useContext(To),{hash:s,pathname:o,search:a}=Jb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ji([r,o])),i.createHref({pathname:l,search:a,hash:s})}function xu(){return D.useContext(Ff)!=null}function Uf(){return xu()||rt(!1),D.useContext(Ff).location}function Xb(t){D.useContext(To).static||D.useLayoutEffect(t)}function Bf(){let{isDataRoute:t}=D.useContext(So);return t?aV():QO()}function QO(){xu()||rt(!1);let t=D.useContext(t0),{basename:e,future:n,navigator:r}=D.useContext(To),{matches:i}=D.useContext(So),{pathname:s}=Uf(),o=JSON.stringify(Kb(i,n.v7_relativeSplatPath)),a=D.useRef(!1);return Xb(()=>{a.current=!0}),D.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Gb(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ji([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function Jb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(To),{matches:i}=D.useContext(So),{pathname:s}=Uf(),o=JSON.stringify(Kb(i,r.v7_relativeSplatPath));return D.useMemo(()=>Gb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function YO(t,e){return XO(t,e)}function XO(t,e,n,r){xu()||rt(!1);let{navigator:i}=D.useContext(To),{matches:s}=D.useContext(So),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Uf(),d;if(e){var h;let S=typeof e=="string"?al(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||rt(!1),d=S}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=IO(t,{pathname:g}),w=nV(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Ji([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Ji([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&w?D.createElement(Ff.Provider,{value:{location:Uc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bi.Pop}},w):w}function JO(){let t=oV(),e=HO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,s)}const ZO=D.createElement(JO,null);class eV extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(So.Provider,{value:this.props.routeContext},D.createElement(Yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tV(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(t0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(So.Provider,{value:e},r)}function nV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,y=!1,w=null,S=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||ZO,l&&(u<0&&p===0?(lV("route-fallback",!1),y=!0,S=null):u===p&&(y=!0,S=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),E=()=>{let v;return g?v=w:y?v=S:h.route.Component?v=D.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,D.createElement(tV,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?D.createElement(eV,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var Zb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Zb||{}),Nh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nh||{});function rV(t){let e=D.useContext(t0);return e||rt(!1),e}function iV(t){let e=D.useContext(KO);return e||rt(!1),e}function sV(t){let e=D.useContext(So);return e||rt(!1),e}function eA(t){let e=sV(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function oV(){var t;let e=D.useContext(Yb),n=iV(Nh.UseRouteError),r=eA(Nh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function aV(){let{router:t}=rV(Zb.UseNavigateStable),e=eA(Nh.UseNavigateStable),n=D.useRef(!1);return Xb(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Uc({fromRouteId:e},s)))},[t,e])}const Lx={};function lV(t,e,n){!e&&!Lx[t]&&(Lx[t]=!0)}function cV(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Os(t){rt(!1)}function uV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bi.Pop,navigator:s,static:o=!1,future:a}=t;xu()&&rt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:s,static:o,future:Uc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=al(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,w=D.useMemo(()=>{let S=e0(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:y},navigationType:i}},[l,d,h,p,g,y,i]);return w==null?null:D.createElement(To.Provider,{value:u},D.createElement(Ff.Provider,{children:n,value:w}))}function dV(t){let{children:e,location:n}=t;return YO(zg(e),n)}new Promise(()=>{});function zg(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){n.push.apply(n,zg(r.props.children,s));return}r.type!==Os&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function hV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pV(t,e){return t.button===0&&(!e||e==="_self")&&!fV(t)}const mV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gV="6";try{window.__reactRouterVersion=gV}catch{}const yV="startTransition",Mx=uN[yV];function vV(t){let{basename:e,children:n,future:r,window:i}=t,s=D.useRef();s.current==null&&(s.current=EO({window:i,v5Compat:!0}));let o=s.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=D.useCallback(h=>{u&&Mx?Mx(()=>l(h)):l(h)},[l,u]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.useEffect(()=>cV(r),[r]),D.createElement(uV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const _V=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=hV(e,mV),{basename:g}=D.useContext(To),y,w=!1;if(typeof u=="string"&&wV.test(u)&&(y=u,_V))try{let v=new URL(window.location.href),P=u.startsWith("//")?new URL(v.protocol+u):new URL(u),O=e0(P.pathname,g);P.origin===v.origin&&O!=null?u=O+P.search+P.hash:w=!0}catch{}let S=GO(u,{relative:i}),_=xV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function E(v){r&&r(v),v.defaultPrevented||_(v)}return D.createElement("a",$g({},p,{href:y||S,onClick:w||s?r:E,ref:n,target:l}))});var jx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jx||(jx={}));var Fx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fx||(Fx={}));function xV(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Bf(),u=Uf(),d=Jb(t,{relative:o});return D.useCallback(h=>{if(pV(h,n)){h.preventDefault();let p=r!==void 0?r:kh(u)===kh(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}var ll=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},EV={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ci,sv,wS,TV=(wS=class{constructor(){X(this,Ci,EV);X(this,sv,!1)}setTimeoutProvider(t){W(this,Ci,t)}setTimeout(t,e){return N(this,Ci).setTimeout(t,e)}clearTimeout(t){N(this,Ci).clearTimeout(t)}setInterval(t,e){return N(this,Ci).setInterval(t,e)}clearInterval(t){N(this,Ci).clearInterval(t)}},Ci=new WeakMap,sv=new WeakMap,wS),zs=new TV;function SV(t){setTimeout(t,0)}var ho=typeof window>"u"||"Deno"in globalThis;function Ht(){}function IV(t,e){return typeof t=="function"?t(e):t}function qg(t){return typeof t=="number"&&t>=0&&t!==1/0}function tA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zi(t,e){return typeof t=="function"?t(e):t}function Sn(t,e){return typeof t=="function"?t(e):t}function Ux(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==n0(o,e.options))return!1}else if(!Bc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Bx(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(fo(e.options.mutationKey)!==fo(s))return!1}else if(!Bc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function n0(t,e){return((e==null?void 0:e.queryKeyHashFn)||fo)(t)}function fo(t){return JSON.stringify(t,(e,n)=>Hg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bc(t[n],e[n])):!1}var bV=Object.prototype.hasOwnProperty;function nA(t,e){if(t===e)return t;const n=zx(t)&&zx(e);if(!n&&!(Hg(t)&&Hg(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u],h=t[d],p=e[d];if(h===p){a[d]=h,(n?u<i:bV.call(t,d))&&l++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[d]=p;continue}const g=nA(h,p);a[d]=g,g===h&&l++}return i===o&&l===i?t:a}function Dh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hg(t){if(!$x(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$x(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $x(t){return Object.prototype.toString.call(t)==="[object Object]"}function AV(t){return new Promise(e=>{zs.setTimeout(e,t)})}function Wg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nA(t,e):e}function PV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function RV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var r0=Symbol();function rA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===r0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function iA(t,e){return typeof t=="function"?t(...e):!!t}var Gs,ki,Aa,xS,CV=(xS=class extends ll{constructor(){super();X(this,Gs,void 0);X(this,ki,void 0);X(this,Aa,void 0);W(this,Aa,e=>{if(!ho&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,ki)||this.setEventListener(N(this,Aa))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,ki))==null||e.call(this),W(this,ki,void 0))}setEventListener(e){var n;W(this,Aa,e),(n=N(this,ki))==null||n.call(this),W(this,ki,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,Gs)!==e&&(W(this,Gs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof N(this,Gs)=="boolean"?N(this,Gs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gs=new WeakMap,ki=new WeakMap,Aa=new WeakMap,xS),i0=new CV;function Kg(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var kV=SV;function NV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=kV;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var lt=NV(),Pa,Ni,Ra,ES,DV=(ES=class extends ll{constructor(){super();X(this,Pa,!0);X(this,Ni,void 0);X(this,Ra,void 0);W(this,Ra,e=>{if(!ho&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,Ni)||this.setEventListener(N(this,Ra))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Ni))==null||e.call(this),W(this,Ni,void 0))}setEventListener(e){var n;W(this,Ra,e),(n=N(this,Ni))==null||n.call(this),W(this,Ni,e(this.setOnline.bind(this)))}setOnline(e){N(this,Pa)!==e&&(W(this,Pa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,Pa)}},Pa=new WeakMap,Ni=new WeakMap,Ra=new WeakMap,ES),Oh=new DV;function OV(t){return Math.min(1e3*2**t,3e4)}function sA(t){return(t??"online")==="online"?Oh.isOnline():!0}var Gg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function oA(t){let e=!1,n=0,r;const i=Kg(),s=()=>i.status!=="pending",o=w=>{var S;if(!s()){const _=new Gg(w);p(_),(S=t.onCancel)==null||S.call(t,_)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>i0.isFocused()&&(t.networkMode==="always"||Oh.isOnline())&&t.canRun(),d=()=>sA(t.networkMode)&&t.canRun(),h=w=>{s()||(r==null||r(),i.resolve(w))},p=w=>{s()||(r==null||r(),i.reject(w))},g=()=>new Promise(w=>{var S;r=_=>{(s()||u())&&w(_)},(S=t.onPause)==null||S.call(t)}).then(()=>{var w;r=void 0,s()||(w=t.onContinue)==null||w.call(t)}),y=()=>{if(s())return;let w;const S=n===0?t.initialPromise:void 0;try{w=S??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(h).catch(_=>{var M;if(s())return;const E=t.retry??(ho?0:3),v=t.retryDelay??OV,P=typeof v=="function"?v(n,_):v,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!O){p(_);return}n++,(M=t.onFail)==null||M.call(t,n,_),AV(P).then(()=>u()?void 0:g()).then(()=>{e?p(_):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():g().then(y),i)}}var Qs,TS,aA=(TS=class{constructor(){X(this,Qs,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qg(this.gcTime)&&W(this,Qs,zs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ho?1/0:5*60*1e3))}clearGcTimeout(){N(this,Qs)&&(zs.clearTimeout(N(this,Qs)),W(this,Qs,void 0))}},Qs=new WeakMap,TS),Ys,Ca,Tn,Xs,pt,nu,Js,Fn,kr,SS,VV=(SS=class extends aA{constructor(n){super();X(this,Fn);X(this,Ys,void 0);X(this,Ca,void 0);X(this,Tn,void 0);X(this,Xs,void 0);X(this,pt,void 0);X(this,nu,void 0);X(this,Js,void 0);W(this,Js,!1),W(this,nu,n.defaultOptions),this.setOptions(n.options),this.observers=[],W(this,Xs,n.client),W(this,Tn,N(this,Xs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,W(this,Ys,qx(this.options)),this.state=n.state??N(this,Ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=N(this,pt))==null?void 0:n.promise}setOptions(n){if(this.options={...N(this,nu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=qx(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),W(this,Ys,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Tn).remove(this)}setData(n,r){const i=Wg(this.state.data,n,this.options);return ue(this,Fn,kr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){ue(this,Fn,kr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=N(this,pt))==null?void 0:i.promise;return(s=N(this,pt))==null||s.cancel(n),r?r.then(Ht).catch(Ht):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Ys))}isActive(){return this.observers.some(n=>Sn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Zi(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!tA(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=N(this,pt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=N(this,pt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),N(this,Tn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(N(this,pt)&&(N(this,Js)?N(this,pt).cancel({revert:!0}):N(this,pt).cancelRetry()),this.scheduleGc()),N(this,Tn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,Fn,kr).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,h,p,g,y,w,S,_,E,v,P;if(this.state.fetchStatus!=="idle"&&((u=N(this,pt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,pt))return N(this,pt).continueRetry(),N(this,pt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const O=this.observers.find(M=>M.options.queryFn);O&&this.setOptions(O.options)}const i=new AbortController,s=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(W(this,Js,!0),i.signal)})},o=()=>{const O=rA(this.options,r),b=(()=>{const x={client:N(this,Xs),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return W(this,Js,!1),this.options.persister?this.options.persister(O,b,this):O(b)},l=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,Xs),state:this.state,fetchFn:o};return s(O),O})();(d=this.options.behavior)==null||d.onFetch(l,this),W(this,Ca,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&ue(this,Fn,kr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),W(this,pt,oA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:O=>{O instanceof Gg&&O.revert&&this.setState({...N(this,Ca),fetchStatus:"idle"}),i.abort()},onFail:(O,M)=>{ue(this,Fn,kr).call(this,{type:"failed",failureCount:O,error:M})},onPause:()=>{ue(this,Fn,kr).call(this,{type:"pause"})},onContinue:()=>{ue(this,Fn,kr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const O=await N(this,pt).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(y=(g=N(this,Tn).config).onSuccess)==null||y.call(g,O,this),(S=(w=N(this,Tn).config).onSettled)==null||S.call(w,O,this.state.error,this),O}catch(O){if(O instanceof Gg){if(O.silent)return N(this,pt).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw ue(this,Fn,kr).call(this,{type:"error",error:O}),(E=(_=N(this,Tn).config).onError)==null||E.call(_,O,this),(P=(v=N(this,Tn).config).onSettled)==null||P.call(v,this.state.data,O,this),O}finally{this.scheduleGc()}}},Ys=new WeakMap,Ca=new WeakMap,Tn=new WeakMap,Xs=new WeakMap,pt=new WeakMap,nu=new WeakMap,Js=new WeakMap,Fn=new WeakSet,kr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...lA(i.data,this.options),fetchMeta:n.meta??null};case"success":const s={...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,Ca,n.manual?s:void 0),s;case"error":const o=n.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),lt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),N(this,Tn).notify({query:this,type:"updated",action:n})})},SS);function lA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function qx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jt,ye,ru,Ut,Zs,ka,Or,Di,iu,Na,Da,eo,to,Oi,Oa,no,Yl,su,Qg,ou,Yg,au,Xg,lu,Jg,cu,Zg,uu,ey,du,ty,Ef,cA,IS,LV=(IS=class extends ll{constructor(e,n){super();X(this,no);X(this,su);X(this,ou);X(this,au);X(this,lu);X(this,cu);X(this,uu);X(this,du);X(this,Ef);X(this,Jt,void 0);X(this,ye,void 0);X(this,ru,void 0);X(this,Ut,void 0);X(this,Zs,void 0);X(this,ka,void 0);X(this,Or,void 0);X(this,Di,void 0);X(this,iu,void 0);X(this,Na,void 0);X(this,Da,void 0);X(this,eo,void 0);X(this,to,void 0);X(this,Oi,void 0);X(this,Oa,new Set);this.options=n,W(this,Jt,e),W(this,Di,null),W(this,Or,Kg()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,ye).addObserver(this),Hx(N(this,ye),this.options)?ue(this,no,Yl).call(this):this.updateResult(),ue(this,lu,Jg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ny(N(this,ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ny(N(this,ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,cu,Zg).call(this),ue(this,uu,ey).call(this),N(this,ye).removeObserver(this)}setOptions(e){const n=this.options,r=N(this,ye);if(this.options=N(this,Jt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sn(this.options.enabled,N(this,ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,du,ty).call(this),N(this,ye).setOptions(this.options),n._defaulted&&!Dh(this.options,n)&&N(this,Jt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,ye),observer:this});const i=this.hasListeners();i&&Wx(N(this,ye),r,this.options,n)&&ue(this,no,Yl).call(this),this.updateResult(),i&&(N(this,ye)!==r||Sn(this.options.enabled,N(this,ye))!==Sn(n.enabled,N(this,ye))||Zi(this.options.staleTime,N(this,ye))!==Zi(n.staleTime,N(this,ye)))&&ue(this,su,Qg).call(this);const s=ue(this,ou,Yg).call(this);i&&(N(this,ye)!==r||Sn(this.options.enabled,N(this,ye))!==Sn(n.enabled,N(this,ye))||s!==N(this,Oi))&&ue(this,au,Xg).call(this,s)}getOptimisticResult(e){const n=N(this,Jt).getQueryCache().build(N(this,Jt),e),r=this.createResult(n,e);return jV(this,r)&&(W(this,Ut,r),W(this,ka,this.options),W(this,Zs,N(this,ye).state)),r}getCurrentResult(){return N(this,Ut)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&N(this,Or).status==="pending"&&N(this,Or).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(e){N(this,Oa).add(e)}getCurrentQuery(){return N(this,ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=N(this,Jt).defaultQueryOptions(e),r=N(this,Jt).getQueryCache().build(N(this,Jt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ue(this,no,Yl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Ut)))}createResult(e,n){var A;const r=N(this,ye),i=this.options,s=N(this,Ut),o=N(this,Zs),a=N(this,ka),u=e!==r?e.state:N(this,ru),{state:d}=e;let h={...d},p=!1,g;if(n._optimisticResults){const R=this.hasListeners(),k=!R&&Hx(e,n),V=R&&Wx(e,r,n,i);(k||V)&&(h={...h,...lA(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:S}=h;g=h.data;let _=!1;if(n.placeholderData!==void 0&&g===void 0&&S==="pending"){let R;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(R=s.data,_=!0):R=typeof n.placeholderData=="function"?n.placeholderData((A=N(this,Da))==null?void 0:A.state.data,N(this,Da)):n.placeholderData,R!==void 0&&(S="success",g=Wg(s==null?void 0:s.data,R,n),p=!0)}if(n.select&&g!==void 0&&!_)if(s&&g===(o==null?void 0:o.data)&&n.select===N(this,iu))g=N(this,Na);else try{W(this,iu,n.select),g=n.select(g),g=Wg(s==null?void 0:s.data,g,n),W(this,Na,g),W(this,Di,null)}catch(R){W(this,Di,R)}N(this,Di)&&(y=N(this,Di),g=N(this,Na),w=Date.now(),S="error");const E=h.fetchStatus==="fetching",v=S==="pending",P=S==="error",O=v&&E,M=g!==void 0,x={status:S,fetchStatus:h.fetchStatus,isPending:v,isSuccess:S==="success",isError:P,isInitialLoading:O,isLoading:O,data:g,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!v,isLoadingError:P&&!M,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:P&&M,isStale:s0(e,n),refetch:this.refetch,promise:N(this,Or),isEnabled:Sn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=C=>{x.status==="error"?C.reject(x.error):x.data!==void 0&&C.resolve(x.data)},k=()=>{const C=W(this,Or,x.promise=Kg());R(C)},V=N(this,Or);switch(V.status){case"pending":e.queryHash===r.queryHash&&R(V);break;case"fulfilled":(x.status==="error"||x.data!==V.value)&&k();break;case"rejected":(x.status!=="error"||x.error!==V.reason)&&k();break}}return x}updateResult(){const e=N(this,Ut),n=this.createResult(N(this,ye),this.options);if(W(this,Zs,N(this,ye).state),W(this,ka,this.options),N(this,Zs).data!==void 0&&W(this,Da,N(this,ye)),Dh(n,e))return;W(this,Ut,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!N(this,Oa).size)return!0;const o=new Set(s??N(this,Oa));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,Ut)).some(a=>{const l=a;return N(this,Ut)[l]!==e[l]&&o.has(l)})};ue(this,Ef,cA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,lu,Jg).call(this)}},Jt=new WeakMap,ye=new WeakMap,ru=new WeakMap,Ut=new WeakMap,Zs=new WeakMap,ka=new WeakMap,Or=new WeakMap,Di=new WeakMap,iu=new WeakMap,Na=new WeakMap,Da=new WeakMap,eo=new WeakMap,to=new WeakMap,Oi=new WeakMap,Oa=new WeakMap,no=new WeakSet,Yl=function(e){ue(this,du,ty).call(this);let n=N(this,ye).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ht)),n},su=new WeakSet,Qg=function(){ue(this,cu,Zg).call(this);const e=Zi(this.options.staleTime,N(this,ye));if(ho||N(this,Ut).isStale||!qg(e))return;const r=tA(N(this,Ut).dataUpdatedAt,e)+1;W(this,eo,zs.setTimeout(()=>{N(this,Ut).isStale||this.updateResult()},r))},ou=new WeakSet,Yg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,ye)):this.options.refetchInterval)??!1},au=new WeakSet,Xg=function(e){ue(this,uu,ey).call(this),W(this,Oi,e),!(ho||Sn(this.options.enabled,N(this,ye))===!1||!qg(N(this,Oi))||N(this,Oi)===0)&&W(this,to,zs.setInterval(()=>{(this.options.refetchIntervalInBackground||i0.isFocused())&&ue(this,no,Yl).call(this)},N(this,Oi)))},lu=new WeakSet,Jg=function(){ue(this,su,Qg).call(this),ue(this,au,Xg).call(this,ue(this,ou,Yg).call(this))},cu=new WeakSet,Zg=function(){N(this,eo)&&(zs.clearTimeout(N(this,eo)),W(this,eo,void 0))},uu=new WeakSet,ey=function(){N(this,to)&&(zs.clearInterval(N(this,to)),W(this,to,void 0))},du=new WeakSet,ty=function(){const e=N(this,Jt).getQueryCache().build(N(this,Jt),this.options);if(e===N(this,ye))return;const n=N(this,ye);W(this,ye,e),W(this,ru,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Ef=new WeakSet,cA=function(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(N(this,Ut))}),N(this,Jt).getQueryCache().notify({query:N(this,ye),type:"observerResultsUpdated"})})},IS);function MV(t,e){return Sn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Hx(t,e){return MV(t,e)||t.state.data!==void 0&&ny(t,e,e.refetchOnMount)}function ny(t,e,n){if(Sn(e.enabled,t)!==!1&&Zi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&s0(t,e)}return!1}function Wx(t,e,n,r){return(t!==e||Sn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&s0(t,n)}function s0(t,e){return Sn(e.enabled,t)!==!1&&t.isStaleByTime(Zi(e.staleTime,t))}function jV(t,e){return!Dh(t.getCurrentResult(),e)}function Kx(t){return{onFetch:(e,n)=>{var d,h,p,g,y;const r=e.options,i=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const S=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=rA(e.options,e.fetchOptions),E=async(v,P,O)=>{if(w)return Promise.reject();if(P==null&&v.pages.length)return Promise.resolve(v);const b=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:P,direction:O?"backward":"forward",meta:e.options.meta};return S(k),k})(),x=await _(b),{maxPages:A}=e.options,R=O?RV:PV;return{pages:R(v.pages,x,A),pageParams:R(v.pageParams,P,A)}};if(i&&s.length){const v=i==="backward",P=v?FV:Gx,O={pages:s,pageParams:o},M=P(r,O);a=await E(O,M,v)}else{const v=t??s.length;do{const P=l===0?o[0]??r.initialPageParam:Gx(r,a);if(l>0&&P==null)break;a=await E(a,P),l++}while(l<v)}return a};e.options.persister?e.fetchFn=()=>{var w,S;return(S=(w=e.options).persister)==null?void 0:S.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Gx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function FV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var hu,ur,Bt,ro,dr,_i,bS,UV=(bS=class extends aA{constructor(n){super();X(this,dr);X(this,hu,void 0);X(this,ur,void 0);X(this,Bt,void 0);X(this,ro,void 0);W(this,hu,n.client),this.mutationId=n.mutationId,W(this,Bt,n.mutationCache),W(this,ur,[]),this.state=n.state||uA(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){N(this,ur).includes(n)||(N(this,ur).push(n),this.clearGcTimeout(),N(this,Bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){W(this,ur,N(this,ur).filter(r=>r!==n)),this.scheduleGc(),N(this,Bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){N(this,ur).length||(this.state.status==="pending"?this.scheduleGc():N(this,Bt).remove(this))}continue(){var n;return((n=N(this,ro))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,u,d,h,p,g,y,w,S,_,E,v,P,O,M,b,x,A,R;const r=()=>{ue(this,dr,_i).call(this,{type:"continue"})},i={client:N(this,hu),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,ro,oA({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(k,V)=>{ue(this,dr,_i).call(this,{type:"failed",failureCount:k,error:V})},onPause:()=>{ue(this,dr,_i).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Bt).canRun(this)}));const s=this.state.status==="pending",o=!N(this,ro).canStart();try{if(s)r();else{ue(this,dr,_i).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=N(this,Bt).config).onMutate)==null?void 0:l.call(a,n,this,i));const V=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n,i));V!==this.state.context&&ue(this,dr,_i).call(this,{type:"pending",context:V,variables:n,isPaused:o})}const k=await N(this,ro).start();return await((p=(h=N(this,Bt).config).onSuccess)==null?void 0:p.call(h,k,n,this.state.context,this,i)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,k,n,this.state.context,i)),await((S=(w=N(this,Bt).config).onSettled)==null?void 0:S.call(w,k,null,this.state.variables,this.state.context,this,i)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,k,null,n,this.state.context,i)),ue(this,dr,_i).call(this,{type:"success",data:k}),k}catch(k){try{throw await((P=(v=N(this,Bt).config).onError)==null?void 0:P.call(v,k,n,this.state.context,this,i)),await((M=(O=this.options).onError)==null?void 0:M.call(O,k,n,this.state.context,i)),await((x=(b=N(this,Bt).config).onSettled)==null?void 0:x.call(b,void 0,k,this.state.variables,this.state.context,this,i)),await((R=(A=this.options).onSettled)==null?void 0:R.call(A,void 0,k,n,this.state.context,i)),k}finally{ue(this,dr,_i).call(this,{type:"error",error:k})}}finally{N(this,Bt).runNext(this)}}},hu=new WeakMap,ur=new WeakMap,Bt=new WeakMap,ro=new WeakMap,dr=new WeakSet,_i=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lt.batch(()=>{N(this,ur).forEach(i=>{i.onMutationUpdate(n)}),N(this,Bt).notify({mutation:this,type:"updated",action:n})})},bS);function uA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vr,Un,fu,AS,BV=(AS=class extends ll{constructor(e={}){super();X(this,Vr,void 0);X(this,Un,void 0);X(this,fu,void 0);this.config=e,W(this,Vr,new Set),W(this,Un,new Map),W(this,fu,0)}build(e,n,r){const i=new UV({client:e,mutationCache:this,mutationId:++Xu(this,fu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){N(this,Vr).add(e);const n=md(e);if(typeof n=="string"){const r=N(this,Un).get(n);r?r.push(e):N(this,Un).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,Vr).delete(e)){const n=md(e);if(typeof n=="string"){const r=N(this,Un).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&N(this,Un).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=md(e);if(typeof n=="string"){const r=N(this,Un).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=md(e);if(typeof n=="string"){const i=(r=N(this,Un).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{N(this,Vr).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,Vr).clear(),N(this,Un).clear()})}getAll(){return Array.from(N(this,Vr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bx(n,r))}findAll(e={}){return this.getAll().filter(n=>Bx(e,n))}notify(e){lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ht))))}},Vr=new WeakMap,Un=new WeakMap,fu=new WeakMap,AS);function md(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Lr,Vi,Zt,Mr,Va,$d,pu,ry,PS,zV=(PS=class extends ll{constructor(n,r){super();X(this,Va);X(this,pu);X(this,Lr,void 0);X(this,Vi,void 0);X(this,Zt,void 0);X(this,Mr,void 0);W(this,Lr,n),this.setOptions(r),this.bindMethods(),ue(this,Va,$d).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=N(this,Lr).defaultMutationOptions(n),Dh(this.options,r)||N(this,Lr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Zt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&fo(r.mutationKey)!==fo(this.options.mutationKey)?this.reset():((i=N(this,Zt))==null?void 0:i.state.status)==="pending"&&N(this,Zt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=N(this,Zt))==null||n.removeObserver(this)}onMutationUpdate(n){ue(this,Va,$d).call(this),ue(this,pu,ry).call(this,n)}getCurrentResult(){return N(this,Vi)}reset(){var n;(n=N(this,Zt))==null||n.removeObserver(this),W(this,Zt,void 0),ue(this,Va,$d).call(this),ue(this,pu,ry).call(this)}mutate(n,r){var i;return W(this,Mr,r),(i=N(this,Zt))==null||i.removeObserver(this),W(this,Zt,N(this,Lr).getMutationCache().build(N(this,Lr),this.options)),N(this,Zt).addObserver(this),N(this,Zt).execute(n)}},Lr=new WeakMap,Vi=new WeakMap,Zt=new WeakMap,Mr=new WeakMap,Va=new WeakSet,$d=function(){var r;const n=((r=N(this,Zt))==null?void 0:r.state)??uA();W(this,Vi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},pu=new WeakSet,ry=function(n){lt.batch(()=>{var r,i,s,o,a,l,u,d;if(N(this,Mr)&&this.hasListeners()){const h=N(this,Vi).variables,p=N(this,Vi).context,g={client:N(this,Lr),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=N(this,Mr)).onSuccess)==null||i.call(r,n.data,h,p,g),(o=(s=N(this,Mr)).onSettled)==null||o.call(s,n.data,null,h,p,g)):(n==null?void 0:n.type)==="error"&&((l=(a=N(this,Mr)).onError)==null||l.call(a,n.error,h,p,g),(d=(u=N(this,Mr)).onSettled)==null||d.call(u,void 0,n.error,h,p,g))}this.listeners.forEach(h=>{h(N(this,Vi))})})},PS),hr,RS,$V=(RS=class extends ll{constructor(e={}){super();X(this,hr,void 0);this.config=e,W(this,hr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??n0(i,n);let o=this.get(s);return o||(o=new VV({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,hr).has(e.queryHash)||(N(this,hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=N(this,hr).get(e.queryHash);n&&(e.destroy(),n===e&&N(this,hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,hr).get(e)}getAll(){return[...N(this,hr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ux(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ux(e,r)):n}notify(e){lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hr=new WeakMap,RS),qe,Li,Mi,La,Ma,ji,ja,Fa,CS,qV=(CS=class{constructor(t={}){X(this,qe,void 0);X(this,Li,void 0);X(this,Mi,void 0);X(this,La,void 0);X(this,Ma,void 0);X(this,ji,void 0);X(this,ja,void 0);X(this,Fa,void 0);W(this,qe,t.queryCache||new $V),W(this,Li,t.mutationCache||new BV),W(this,Mi,t.defaultOptions||{}),W(this,La,new Map),W(this,Ma,new Map),W(this,ji,0)}mount(){Xu(this,ji)._++,N(this,ji)===1&&(W(this,ja,i0.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,qe).onFocus())})),W(this,Fa,Oh.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,qe).onOnline())})))}unmount(){var t,e;Xu(this,ji)._--,N(this,ji)===0&&((t=N(this,ja))==null||t.call(this),W(this,ja,void 0),(e=N(this,Fa))==null||e.call(this),W(this,Fa,void 0))}isFetching(t){return N(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,Li).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=N(this,qe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Zi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return N(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=N(this,qe).get(r.queryHash),s=i==null?void 0:i.state.data,o=IV(e,s);if(o!==void 0)return N(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return lt.batch(()=>N(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=N(this,qe);lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=N(this,qe);return lt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=lt.batch(()=>N(this,qe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ht).catch(Ht)}invalidateQueries(t,e={}){return lt.batch(()=>(N(this,qe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=lt.batch(()=>N(this,qe).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ht)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ht)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=N(this,qe).build(this,e);return n.isStaleByTime(Zi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ht).catch(Ht)}fetchInfiniteQuery(t){return t.behavior=Kx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ht).catch(Ht)}ensureInfiniteQueryData(t){return t.behavior=Kx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Oh.isOnline()?N(this,Li).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,qe)}getMutationCache(){return N(this,Li)}getDefaultOptions(){return N(this,Mi)}setDefaultOptions(t){W(this,Mi,t)}setQueryDefaults(t,e){N(this,La).set(fo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,La).values()],n={};return e.forEach(r=>{Bc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){N(this,Ma).set(fo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,Ma).values()],n={};return e.forEach(r=>{Bc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Mi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=n0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===r0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Mi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,qe).clear(),N(this,Li).clear()}},qe=new WeakMap,Li=new WeakMap,Mi=new WeakMap,La=new WeakMap,Ma=new WeakMap,ji=new WeakMap,ja=new WeakMap,Fa=new WeakMap,CS),dA=D.createContext(void 0),hA=t=>{const e=D.useContext(dA);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},HV=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(dA.Provider,{value:t,children:e})),fA=D.createContext(!1),WV=()=>D.useContext(fA);fA.Provider;function KV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var GV=D.createContext(KV()),QV=()=>D.useContext(GV),YV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},XV=t=>{D.useEffect(()=>{t.clearReset()},[t])},JV=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||iA(n,[t.error,r])),ZV=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},eL=(t,e)=>t.isLoading&&t.isFetching&&!e,tL=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Qx=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function nL(t,e,n){var h,p,g,y,w;const r=WV(),i=QV(),s=hA(n),o=s.defaultQueryOptions(t);(p=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",ZV(o),YV(o,i),XV(i);const a=!s.getQueryCache().get(o.queryHash),[l]=D.useState(()=>new e(s,o)),u=l.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(S=>{const _=d?l.subscribe(lt.batchCalls(S)):Ht;return l.updateResult(),_},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),D.useEffect(()=>{l.setOptions(o)},[o,l]),tL(o,u))throw Qx(o,l,i);if(JV({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,u),o.experimental_prefetchInRender&&!ho&&eL(u,r)){const S=a?Qx(o,l,i):(w=s.getQueryCache().get(o.queryHash))==null?void 0:w.promise;S==null||S.catch(Ht).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function rL(t,e){return nL(t,LV,e)}function iy(t,e){const n=hA(e),[r]=D.useState(()=>new zV(n,t));D.useEffect(()=>{r.setOptions(t)},[r,t]);const i=D.useSyncExternalStore(D.useCallback(o=>r.subscribe(lt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=D.useCallback((o,a)=>{r.mutate(o,a).catch(Ht)},[r]);if(i.error&&iA(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}let iL={data:""},sL=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||iL},oL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aL=/\/\*[^]*?\*\/|  +/g,Yx=/\n+/g,bi=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?bi(o,s):s+"{"+bi(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=bi(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=bi.p?bi.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Cr={},pA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+pA(t[n]);return e}return t},lL=(t,e,n,r,i)=>{let s=pA(t),o=Cr[s]||(Cr[s]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Cr[o]){let l=s!==t?t:(u=>{let d,h,p=[{}];for(;d=oL.exec(u.replace(aL,""));)d[4]?p.shift():d[3]?(h=d[3].replace(Yx," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(Yx," ").trim();return p[0]})(t);Cr[o]=bi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Cr.g?Cr.g:null;return n&&(Cr.g=Cr[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Cr[o],e,r,a),o},cL=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":bi(a,""):a===!1?"":a}return r+i+(o??"")},"");function zf(t){let e=this||{},n=t.call?t(e.p):t;return lL(n.unshift?n.raw?cL(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,sL(e.target),e.g,e.o,e.k)}let mA,sy,oy;zf.bind({g:1});let Zr=zf.bind({k:1});function uL(t,e,n,r){bi.p=e,mA=t,sy=n,oy=r}function xs(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:sy&&sy()},a),n.o=/ *go\d+/.test(l),a.className=zf.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),oy&&u[0]&&oy(a),mA(u,a)}return e?e(i):i}}var dL=t=>typeof t=="function",Vh=(t,e)=>dL(t)?t(e):t,hL=(()=>{let t=0;return()=>(++t).toString()})(),gA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),fL=20,o0="default",yA=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return yA(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},qd=[],vA={toasts:[],pausedAt:void 0,settings:{toastLimit:fL}},mr={},_A=(t,e=o0)=>{mr[e]=yA(mr[e]||vA,t),qd.forEach(([n,r])=>{n===e&&r(mr[e])})},wA=t=>Object.keys(mr).forEach(e=>_A(t,e)),pL=t=>Object.keys(mr).find(e=>mr[e].toasts.some(n=>n.id===t)),$f=(t=o0)=>e=>{_A(e,t)},mL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gL=(t={},e=o0)=>{let[n,r]=D.useState(mr[e]||vA),i=D.useRef(mr[e]);D.useEffect(()=>(i.current!==mr[e]&&r(mr[e]),qd.push([e,r]),()=>{let o=qd.findIndex(([a])=>a===e);o>-1&&qd.splice(o,1)}),[e]);let s=n.toasts.map(o=>{var a,l,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((a=t[o.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||mL[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:s}},yL=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||hL()}),Eu=t=>(e,n)=>{let r=yL(e,t,n);return $f(r.toasterId||pL(r.id))({type:2,toast:r}),r.id},ct=(t,e)=>Eu("blank")(t,e);ct.error=Eu("error");ct.success=Eu("success");ct.loading=Eu("loading");ct.custom=Eu("custom");ct.dismiss=(t,e)=>{let n={type:3,toastId:t};e?$f(e)(n):wA(n)};ct.dismissAll=t=>ct.dismiss(void 0,t);ct.remove=(t,e)=>{let n={type:4,toastId:t};e?$f(e)(n):wA(n)};ct.removeAll=t=>ct.remove(void 0,t);ct.promise=(t,e,n)=>{let r=ct.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Vh(e.success,i):void 0;return s?ct.success(s,{id:r,...n,...n==null?void 0:n.success}):ct.dismiss(r),i}).catch(i=>{let s=e.error?Vh(e.error,i):void 0;s?ct.error(s,{id:r,...n,...n==null?void 0:n.error}):ct.dismiss(r)}),t};var vL=1e3,_L=(t,e="default")=>{let{toasts:n,pausedAt:r}=gL(t,e),i=D.useRef(new Map).current,s=D.useCallback((h,p=vL)=>{if(i.has(h))return;let g=setTimeout(()=>{i.delete(h),o({type:4,toastId:h})},p);i.set(h,g)},[]);D.useEffect(()=>{if(r)return;let h=Date.now(),p=n.map(g=>{if(g.duration===1/0)return;let y=(g.duration||0)+g.pauseDuration-(h-g.createdAt);if(y<0){g.visible&&ct.dismiss(g.id);return}return setTimeout(()=>ct.dismiss(g.id,e),y)});return()=>{p.forEach(g=>g&&clearTimeout(g))}},[n,r,e]);let o=D.useCallback($f(e),[e]),a=D.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=D.useCallback((h,p)=>{o({type:1,toast:{id:h,height:p}})},[o]),u=D.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=D.useCallback((h,p)=>{let{reverseOrder:g=!1,gutter:y=8,defaultPosition:w}=p||{},S=n.filter(v=>(v.position||w)===(h.position||w)&&v.height),_=S.findIndex(v=>v.id===h.id),E=S.filter((v,P)=>P<_&&v.visible).length;return S.filter(v=>v.visible).slice(...g?[E+1]:[0,E]).reduce((v,P)=>v+(P.height||0)+y,0)},[n]);return D.useEffect(()=>{n.forEach(h=>{if(h.dismissed)s(h.id,h.removeDelay);else{let p=i.get(h.id);p&&(clearTimeout(p),i.delete(h.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:d}}},wL=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xL=Zr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EL=Zr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TL=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${EL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SL=Zr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IL=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${SL} 1s linear infinite;
`,bL=Zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,AL=Zr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PL=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${AL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RL=xs("div")`
  position: absolute;
`,CL=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kL=Zr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NL=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,DL=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?D.createElement(NL,null,e):e:n==="blank"?null:D.createElement(CL,null,D.createElement(IL,{...r}),n!=="loading"&&D.createElement(RL,null,n==="error"?D.createElement(TL,{...r}):D.createElement(PL,{...r})))},OL=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VL=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,LL="0%{opacity:0;} 100%{opacity:1;}",ML="0%{opacity:1;} 100%{opacity:0;}",jL=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FL=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UL=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=gA()?[LL,ML]:[OL(n),VL(n)];return{animation:e?`${Zr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BL=D.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?UL(t.position||e||"top-center",t.visible):{opacity:0},s=D.createElement(DL,{toast:t}),o=D.createElement(FL,{...t.ariaProps},Vh(t.message,t));return D.createElement(jL,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):D.createElement(D.Fragment,null,s,o))});uL(D.createElement);var zL=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=D.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return D.createElement("div",{ref:s,className:e,style:n},i)},$L=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},qL=zf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gd=16,HL=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=_L(n,s);return D.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:gd,left:gd,right:gd,bottom:gd,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let h=d.position||e,p=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),g=$L(h,p);return D.createElement(zL,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?qL:"",style:g},d.type==="custom"?Vh(d.message,d):i?i(d):D.createElement(BL,{toast:d,position:h}))}))},zi=ct;const xA=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),qf=D.createContext({}),a0=D.createContext(null),Hf=typeof document<"u",WL=Hf?D.useLayoutEffect:D.useEffect,EA=D.createContext({strict:!1}),l0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),KL="framerAppearId",TA="data-"+l0(KL);function GL(t,e,n,r){const{visualElement:i}=D.useContext(qf),s=D.useContext(EA),o=D.useContext(a0),a=D.useContext(xA).reducedMotion,l=D.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;D.useInsertionEffect(()=>{u&&u.update(n,o)});const d=D.useRef(!!(n[TA]&&!window.HandoffComplete));return WL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),D.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QL(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ua(n)&&(n.current=r))},[e])}function zc(t){return typeof t=="string"||Array.isArray(t)}function Wf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const c0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u0=["initial",...c0];function Kf(t){return Wf(t.animate)||u0.some(e=>zc(t[e]))}function SA(t){return!!(Kf(t)||t.variants)}function YL(t,e){if(Kf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zc(n)?n:void 0,animate:zc(r)?r:void 0}}return t.inherit!==!1?e:{}}function XL(t){const{initial:e,animate:n}=YL(t,D.useContext(qf));return D.useMemo(()=>({initial:e,animate:n}),[Xx(e),Xx(n)])}function Xx(t){return Array.isArray(t)?t.join(" "):t}const Jx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$c={};for(const t in Jx)$c[t]={isEnabled:e=>Jx[t].some(n=>!!e[n])};function JL(t){for(const e in t)$c[e]={...$c[e],...t[e]}}const IA=D.createContext({}),bA=D.createContext({}),ZL=Symbol.for("motionComponentSymbol");function eM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&JL(t);function s(a,l){let u;const d={...D.useContext(xA),...a,layoutId:tM(a)},{isStatic:h}=d,p=XL(a),g=r(a,h);if(!h&&Hf){p.visualElement=GL(i,g,d,e);const y=D.useContext(bA),w=D.useContext(EA).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,w,t,y))}return D.createElement(qf.Provider,{value:p},u&&p.visualElement?D.createElement(u,{visualElement:p.visualElement,...d}):null,n(i,a,QL(g,p.visualElement,l),g,h,p.visualElement))}const o=D.forwardRef(s);return o[ZL]=i,o}function tM({layoutId:t}){const e=D.useContext(IA).id;return e&&t!==void 0?e+"-"+t:t}function nM(t){function e(r,i={}){return eM(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const rM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d0(t){return typeof t!="string"||t.includes("-")?!1:!!(rM.indexOf(t)>-1||/[A-Z]/.test(t))}const Lh={};function iM(t){Object.assign(Lh,t)}const Tu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(Tu);function AA(t,{layout:e,layoutId:n}){return Io.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lh[t]||t==="opacity")}const un=t=>!!(t&&t.getVelocity),sM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oM=Tu.length;function aM(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<oM;o++){const a=Tu[o];if(t[a]!==void 0){const l=sM[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const PA=t=>e=>typeof e=="string"&&e.startsWith(t),RA=PA("--"),ay=PA("var(--"),lM=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,cM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cs=(t,e,n)=>Math.min(Math.max(n,t),e),bo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hc={...bo,transform:t=>cs(0,1,t)},yd={...bo,default:1},fc=t=>Math.round(t*1e5)/1e5,Gf=/(-)?([\d]*\.?[\d])+/g,CA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,uM=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Su(t){return typeof t=="string"}const Iu=t=>({test:e=>Su(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wi=Iu("deg"),vr=Iu("%"),re=Iu("px"),dM=Iu("vh"),hM=Iu("vw"),Zx={...vr,parse:t=>vr.parse(t)/100,transform:t=>vr.transform(t*100)},eE={...bo,transform:Math.round},kA={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:wi,rotateX:wi,rotateY:wi,rotateZ:wi,scale:yd,scaleX:yd,scaleY:yd,scaleZ:yd,skew:wi,skewX:wi,skewY:wi,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:hc,originX:Zx,originY:Zx,originZ:re,zIndex:eE,fillOpacity:hc,strokeOpacity:hc,numOctaves:eE};function h0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const p=e[h];if(RA(h)){s[h]=p;continue}const g=kA[h],y=cM(p,g);if(Io.has(h)){if(l=!0,o[h]=y,!d)continue;p!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):i[h]=y}if(e.transform||(l||r?i.transform=aM(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${p} ${g}`}}const f0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NA(t,e,n){for(const r in e)!un(e[r])&&!AA(r,n)&&(t[r]=e[r])}function fM({transformTemplate:t},e,n){return D.useMemo(()=>{const r=f0();return h0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function pM(t,e,n){const r=t.style||{},i={};return NA(i,r,t),Object.assign(i,fM(t,e,n)),t.transformValues?t.transformValues(i):i}function mM(t,e,n){const r={},i=pM(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const gM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gM.has(t)}let DA=t=>!Mh(t);function yM(t){t&&(DA=e=>e.startsWith("on")?!Mh(e):t(e))}try{yM(require("@emotion/is-prop-valid").default)}catch{}function vM(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(DA(i)||n===!0&&Mh(i)||!e&&!Mh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function tE(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function _M(t,e,n){const r=tE(e,t.x,t.width),i=tE(n,t.y,t.height);return`${r} ${i}`}const wM={offset:"stroke-dashoffset",array:"stroke-dasharray"},xM={offset:"strokeDashoffset",array:"strokeDasharray"};function EM(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?wM:xM;t[s.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(n);t[s.array]=`${o} ${a}`}function p0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,p){if(h0(t,u,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y,dimensions:w}=t;g.transform&&(w&&(y.transform=g.transform),delete g.transform),w&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=_M(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&EM(g,o,a,l,!1)}const OA=()=>({...f0(),attrs:{}}),m0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TM(t,e,n,r){const i=D.useMemo(()=>{const s=OA();return p0(s,e,{enableHardwareAcceleration:!1},m0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};NA(s,t.style,t),i.style={...s,...i.style}}return i}function SM(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(d0(n)?TM:mM)(r,s,o,n),d={...vM(r,typeof n=="string",t),...l,ref:i},{children:h}=r,p=D.useMemo(()=>un(h)?h.get():h,[h]);return D.createElement(n,{...d,children:p})}}function VA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const LA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MA(t,e,n,r){VA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(LA.has(i)?i:l0(i),e.attrs[i])}function g0(t,e){const{style:n}=t,r={};for(const i in n)(un(n[i])||e.style&&un(e.style[i])||AA(i,t))&&(r[i]=n[i]);return r}function jA(t,e){const n=g0(t,e);for(const r in t)if(un(t[r])||un(e[r])){const i=Tu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function y0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function IM(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const jh=t=>Array.isArray(t),bM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),AM=t=>jh(t)?t[t.length-1]||0:t;function Hd(t){const e=un(t)?t.get():t;return bM(e)?e.toValue():e}function PM({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:RM(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const FA=t=>(e,n)=>{const r=D.useContext(qf),i=D.useContext(a0),s=()=>PM(t,e,r,i);return n?s():IM(s)};function RM(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Hd(s[p]);let{initial:o,animate:a}=t;const l=Kf(t),u=SA(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Wf(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const y=y0(t,g);if(!y)return;const{transitionEnd:w,transition:S,..._}=y;for(const E in _){let v=_[E];if(Array.isArray(v)){const P=d?v.length-1:0;v=v[P]}v!==null&&(i[E]=v)}for(const E in w)i[E]=w[E]}),i}const We=t=>t;class nE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function CM(t){let e=new nE,n=new nE,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,p=h?e:n;return u&&o.add(l),p.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const vd=["prepare","read","update","preRender","render","postRender"],kM=40;function NM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=vd.reduce((h,p)=>(h[p]=CM(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,kM),1),i.timestamp=h,i.isProcessing=!0,vd.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:vd.reduce((h,p)=>{const g=s[p];return h[p]=(y,w=!1,S=!1)=>(n||l(),g.schedule(y,w,S)),h},{}),cancel:h=>vd.forEach(p=>s[p].cancel(h)),state:i,steps:s}}const{schedule:Oe,cancel:ei,state:Nt,steps:pm}=NM(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),DM={useVisualState:FA({scrapeMotionValuesFromProps:jA,createRenderState:OA,onMount:(t,e,{renderState:n,latestValues:r})=>{Oe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Oe.render(()=>{p0(n,r,{enableHardwareAcceleration:!1},m0(e.tagName),t.transformTemplate),MA(e,n)})}})},OM={useVisualState:FA({scrapeMotionValuesFromProps:g0,createRenderState:f0})};function VM(t,{forwardMotionProps:e=!1},n,r){return{...d0(t)?DM:OM,preloadedFeatures:n,useRender:SM(e),createVisualElement:r,Component:t}}function Br(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const UA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Qf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const LM=t=>e=>UA(e)&&t(e,Qf(e));function Hr(t,e,n,r){return Br(t,e,LM(n),r)}const MM=(t,e)=>n=>e(t(n)),es=(...t)=>t.reduce(MM);function BA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const rE=BA("dragHorizontal"),iE=BA("dragVertical");function zA(t){let e=!1;if(t==="y")e=iE();else if(t==="x")e=rE();else{const n=rE(),r=iE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function $A(){const t=zA(!0);return t?(t(),!1):!0}class Es{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||$A())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Oe.update(()=>a[r](s,o))};return Hr(t.current,n,i,{passive:!t.getProps()[r]})}class jM extends Es{mount(){this.unmount=es(sE(this.node,!0),sE(this.node,!1))}unmount(){}}class FM extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=es(Br(this.node.current,"focus",()=>this.onFocus()),Br(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qA=(t,e)=>e?t===e?!0:qA(t,e.parentElement):!1;function mm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Qf(n))}class UM extends Es{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Hr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Oe.update(()=>{!h&&!qA(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Hr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=es(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||mm("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Oe.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Br(this.node.current,"keyup",o),mm("down",(a,l)=>{this.startPress(a,l)})},n=Br(this.node.current,"keydown",e),r=()=>{this.isPressing&&mm("cancel",(s,o)=>this.cancelPress(s,o))},i=Br(this.node.current,"blur",r);this.removeAccessibleListeners=es(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Oe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$A()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Oe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Hr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Br(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=es(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ly=new WeakMap,gm=new WeakMap,BM=t=>{const e=ly.get(t.target);e&&e(t)},zM=t=>{t.forEach(BM)};function $M({root:t,...e}){const n=t||document;gm.has(n)||gm.set(n,{});const r=gm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(zM,{root:t,...e})),r[i]}function qM(t,e,n){const r=$M(e);return ly.set(t,n),r.observe(t),()=>{ly.delete(t),r.unobserve(t)}}const HM={some:0,all:1};class WM extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:HM[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return qM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KM(e,n))&&this.startObserver()}unmount(){}}function KM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GM={inView:{Feature:WM},tap:{Feature:UM},focus:{Feature:FM},hover:{Feature:jM}};function HA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function QM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function YM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Yf(t,e,n){const r=t.getProps();return y0(r,e,n!==void 0?n:r.custom,QM(t),YM(t))}let XM=We,v0=We;const ts=t=>t*1e3,Wr=t=>t/1e3,JM={current:!1},WA=t=>Array.isArray(t)&&typeof t[0]=="number";function KA(t){return!!(!t||typeof t=="string"&&GA[t]||WA(t)||Array.isArray(t)&&t.every(KA))}const Xl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,GA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xl([0,.65,.55,1]),circOut:Xl([.55,0,1,.45]),backIn:Xl([.31,.01,.66,-.59]),backOut:Xl([.33,1.53,.69,.99])};function QA(t){if(t)return WA(t)?Xl(t):Array.isArray(t)?t.map(QA):GA[t]}function ZM(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=QA(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function e4(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const YA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,t4=1e-7,n4=12;function r4(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=YA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>t4&&++a<n4);return o}function bu(t,e,n,r){if(t===e&&n===r)return We;const i=s=>r4(s,0,1,t,n);return s=>s===0||s===1?s:YA(i(s),e,r)}const i4=bu(.42,0,1,1),s4=bu(0,0,.58,1),XA=bu(.42,0,.58,1),o4=t=>Array.isArray(t)&&typeof t[0]!="number",JA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZA=t=>e=>1-t(1-e),_0=t=>1-Math.sin(Math.acos(t)),eP=ZA(_0),a4=JA(_0),tP=bu(.33,1.53,.69,.99),w0=ZA(tP),l4=JA(w0),c4=t=>(t*=2)<1?.5*w0(t):.5*(2-Math.pow(2,-10*(t-1))),u4={linear:We,easeIn:i4,easeInOut:XA,easeOut:s4,circIn:_0,circInOut:a4,circOut:eP,backIn:w0,backInOut:l4,backOut:tP,anticipate:c4},oE=t=>{if(Array.isArray(t)){v0(t.length===4);const[e,n,r,i]=t;return bu(e,n,r,i)}else if(typeof t=="string")return u4[t];return t},x0=(t,e)=>n=>!!(Su(n)&&uM.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),nP=(t,e,n)=>r=>{if(!Su(r))return r;const[i,s,o,a]=r.match(Gf);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},d4=t=>cs(0,255,t),ym={...bo,transform:t=>Math.round(d4(t))},$s={test:x0("rgb","red"),parse:nP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ym.transform(t)+", "+ym.transform(e)+", "+ym.transform(n)+", "+fc(hc.transform(r))+")"};function h4(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cy={test:x0("#"),parse:h4,transform:$s.transform},da={test:x0("hsl","hue"),parse:nP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vr.transform(fc(e))+", "+vr.transform(fc(n))+", "+fc(hc.transform(r))+")"},zt={test:t=>$s.test(t)||cy.test(t)||da.test(t),parse:t=>$s.test(t)?$s.parse(t):da.test(t)?da.parse(t):cy.parse(t),transform:t=>Su(t)?t:t.hasOwnProperty("red")?$s.transform(t):da.transform(t)},Fe=(t,e,n)=>-n*t+n*e+t;function vm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=vm(l,a,t+1/3),s=vm(l,a,t),o=vm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const _m=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},p4=[cy,$s,da],m4=t=>p4.find(e=>e.test(t));function aE(t){const e=m4(t);let n=e.parse(t);return e===da&&(n=f4(n)),n}const rP=(t,e)=>{const n=aE(t),r=aE(e),i={...n};return s=>(i.red=_m(n.red,r.red,s),i.green=_m(n.green,r.green,s),i.blue=_m(n.blue,r.blue,s),i.alpha=Fe(n.alpha,r.alpha,s),$s.transform(i))};function g4(t){var e,n;return isNaN(t)&&Su(t)&&(((e=t.match(Gf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(CA))===null||n===void 0?void 0:n.length)||0)>0}const iP={regex:lM,countKey:"Vars",token:"${v}",parse:We},sP={regex:CA,countKey:"Colors",token:"${c}",parse:zt.parse},oP={regex:Gf,countKey:"Numbers",token:"${n}",parse:bo.parse};function wm(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Fh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&wm(n,iP),wm(n,sP),wm(n,oP),n}function aP(t){return Fh(t).values}function lP(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Fh(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(iP.token,o[l]):l<r+n?a=a.replace(sP.token,zt.transform(o[l])):a=a.replace(oP.token,fc(o[l]));return a}}const y4=t=>typeof t=="number"?0:t;function v4(t){const e=aP(t);return lP(t)(e.map(y4))}const us={test:g4,parse:aP,createTransformer:lP,getAnimatableNone:v4},cP=(t,e)=>n=>`${n>0?e:t}`;function uP(t,e){return typeof t=="number"?n=>Fe(t,e,n):zt.test(t)?rP(t,e):t.startsWith("var(")?cP(t,e):hP(t,e)}const dP=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>uP(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},_4=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=uP(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},hP=(t,e)=>{const n=us.createTransformer(e),r=Fh(t),i=Fh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?es(dP(r.values,i.values),n):cP(t,e)},qc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},lE=(t,e)=>n=>Fe(t,e,n);function w4(t){return typeof t=="number"?lE:typeof t=="string"?zt.test(t)?rP:hP:Array.isArray(t)?dP:typeof t=="object"?_4:lE}function x4(t,e,n){const r=[],i=n||w4(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||We:e;a=es(l,a)}r.push(a)}return r}function fP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(v0(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=x4(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=qc(t[d],t[d+1],u);return o[d](h)};return n?u=>l(cs(t[0],t[s-1],u)):l}function E4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qc(0,e,r);t.push(Fe(n,1,i))}}function T4(t){const e=[0];return E4(e,t.length-1),e}function S4(t,e){return t.map(n=>n*e)}function I4(t,e){return t.map(()=>e||XA).splice(0,t.length-1)}function Uh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=o4(r)?r.map(oE):oE(r),s={done:!1,value:e[0]},o=S4(n&&n.length===e.length?n:T4(e),t),a=fP(o,e,{ease:Array.isArray(i)?i:I4(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function pP(t,e){return e?t*(1e3/e):0}const b4=5;function mP(t,e,n){const r=Math.max(e-b4,0);return pP(n-t(r),e-r)}const xm=.001,A4=.01,cE=10,P4=.05,R4=1;function C4({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;XM(t<=ts(cE));let o=1-e;o=cs(P4,R4,o),t=cs(A4,cE,Wr(t)),o<1?(i=u=>{const d=u*o,h=d*t,p=d-n,g=uy(u,o),y=Math.exp(-h);return xm-p/g*y},s=u=>{const h=u*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),w=uy(Math.pow(u,2),o);return(-i(u)+xm>0?-1:1)*((p-g)*y)/w}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-xm+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=N4(i,s,a);if(t=ts(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const k4=12;function N4(t,e,n){let r=n;for(let i=1;i<k4;i++)r=r-t(r)/e(r);return r}function uy(t,e){return t*Math.sqrt(1-e*e)}const D4=["duration","bounce"],O4=["stiffness","damping","mass"];function uE(t,e){return e.some(n=>t[n]!==void 0)}function V4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!uE(t,O4)&&uE(t,D4)){const n=C4(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function gP({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=V4({...r,velocity:-Wr(r.velocity||0)}),g=h||0,y=l/(2*Math.sqrt(a*u)),w=s-i,S=Wr(Math.sqrt(a/u)),_=Math.abs(w)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let E;if(y<1){const v=uy(S,y);E=P=>{const O=Math.exp(-y*S*P);return s-O*((g+y*S*w)/v*Math.sin(v*P)+w*Math.cos(v*P))}}else if(y===1)E=v=>s-Math.exp(-S*v)*(w+(g+S*w)*v);else{const v=S*Math.sqrt(y*y-1);E=P=>{const O=Math.exp(-y*S*P),M=Math.min(v*P,300);return s-O*((g+y*S*w)*Math.sinh(M)+v*w*Math.cosh(M))/v}}return{calculatedDuration:p&&d||null,next:v=>{const P=E(v);if(p)o.done=v>=d;else{let O=g;v!==0&&(y<1?O=mP(E,v,P):O=0);const M=Math.abs(O)<=n,b=Math.abs(s-P)<=e;o.done=M&&b}return o.value=o.done?s:P,o}}}function dE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},g=x=>a!==void 0&&x<a||l!==void 0&&x>l,y=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let w=n*e;const S=h+w,_=o===void 0?S:o(S);_!==S&&(w=_-h);const E=x=>-w*Math.exp(-x/r),v=x=>_+E(x),P=x=>{const A=E(x),R=v(x);p.done=Math.abs(A)<=u,p.value=p.done?_:R};let O,M;const b=x=>{g(p.value)&&(O=x,M=gP({keyframes:[p.value,y(p.value)],velocity:mP(v,x,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return b(0),{calculatedDuration:null,next:x=>{let A=!1;return!M&&O===void 0&&(A=!0,P(x),b(x)),O!==void 0&&x>O?M.next(x-O):(!A&&P(x),p)}}}const L4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Oe.update(e,!0),stop:()=>ei(e),now:()=>Nt.isProcessing?Nt.timestamp:performance.now()}},hE=2e4;function fE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<hE;)e+=n,r=t.next(e);return e>=hE?1/0:e}const M4={decay:dE,inertia:dE,tween:Uh,keyframes:Uh,spring:gP};function Bh({autoplay:t=!0,delay:e=0,driver:n=L4,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...p}){let g=1,y=!1,w,S;const _=()=>{S=new Promise(J=>{w=J})};_();let E;const v=M4[i]||Uh;let P;v!==Uh&&typeof r[0]!="number"&&(P=fP([0,100],r,{clamp:!1}),r=[0,100]);const O=v({...p,keyframes:r});let M;a==="mirror"&&(M=v({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let b="idle",x=null,A=null,R=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=fE(O));const{calculatedDuration:k}=O;let V=1/0,C=1/0;k!==null&&(V=k+o,C=V*(s+1)-o);let Z=0;const _e=J=>{if(A===null)return;g>0&&(A=Math.min(A,J)),g<0&&(A=Math.min(J-C/g,A)),x!==null?Z=x:Z=Math.round(J-A)*g;const de=Z-e*(g>=0?1:-1),_t=g>=0?de<0:de>C;Z=Math.max(de,0),b==="finished"&&x===null&&(Z=C);let Se=Z,At=O;if(s){const Pr=Math.min(Z,C)/V;let wn=Math.floor(Pr),Xt=Pr%1;!Xt&&Pr>=1&&(Xt=1),Xt===1&&wn--,wn=Math.min(wn,s+1),!!(wn%2)&&(a==="reverse"?(Xt=1-Xt,o&&(Xt-=o/V)):a==="mirror"&&(At=M)),Se=cs(0,1,Xt)*V}const Ce=_t?{done:!1,value:r[0]}:At.next(Se);P&&(Ce.value=P(Ce.value));let{done:Yt}=Ce;!_t&&k!==null&&(Yt=g>=0?Z>=C:Z<=0);const li=x===null&&(b==="finished"||b==="running"&&Yt);return h&&h(Ce.value),li&&$(),Ce},fe=()=>{E&&E.stop(),E=void 0},Xe=()=>{b="idle",fe(),w(),_(),A=R=null},$=()=>{b="finished",d&&d(),fe(),w()},K=()=>{if(y)return;E||(E=n(_e));const J=E.now();l&&l(),x!==null?A=J-x:(!A||b==="finished")&&(A=J),b==="finished"&&_(),R=A,x=null,b="running",E.start()};t&&K();const se={then(J,de){return S.then(J,de)},get time(){return Wr(Z)},set time(J){J=ts(J),Z=J,x!==null||!E||g===0?x=J:A=E.now()-J/g},get duration(){const J=O.calculatedDuration===null?fE(O):O.calculatedDuration;return Wr(J)},get speed(){return g},set speed(J){J===g||!E||(g=J,se.time=Wr(Z))},get state(){return b},play:K,pause:()=>{b="paused",x=Z},stop:()=>{y=!0,b!=="idle"&&(b="idle",u&&u(),Xe())},cancel:()=>{R!==null&&_e(R),Xe()},complete:()=>{b="finished"},sample:J=>(A=0,_e(J))};return se}function j4(t){let e;return()=>(e===void 0&&(e=t()),e)}const F4=j4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),U4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_d=10,B4=2e4,z4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!KA(e.ease);function $4(t,e,{onUpdate:n,onComplete:r,...i}){if(!(F4()&&U4.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(v=>{a=v})};d();let{keyframes:h,duration:p=300,ease:g,times:y}=i;if(z4(e,i)){const v=Bh({...i,repeat:0,delay:0});let P={done:!1,value:h[0]};const O=[];let M=0;for(;!P.done&&M<B4;)P=v.sample(M),O.push(P.value),M+=_d;y=void 0,h=O,p=M-_d,g="linear"}const w=ZM(t.owner.current,e,h,{...i,duration:p,ease:g,times:y}),S=()=>{u=!1,w.cancel()},_=()=>{u=!0,Oe.update(S),a(),d()};return w.onfinish=()=>{u||(t.set(e4(h,i)),r&&r(),_())},{then(v,P){return l.then(v,P)},attachTimeline(v){return w.timeline=v,w.onfinish=null,We},get time(){return Wr(w.currentTime||0)},set time(v){w.currentTime=ts(v)},get speed(){return w.playbackRate},set speed(v){w.playbackRate=v},get duration(){return Wr(p)},play:()=>{o||(w.play(),ei(S))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:v}=w;if(v){const P=Bh({...i,autoplay:!1});t.setWithVelocity(P.sample(v-_d).value,P.sample(v).value,_d)}_()},complete:()=>{u||w.finish()},cancel:_}}function q4({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:We,pause:We,stop:We,then:s=>(s(),Promise.resolve()),cancel:We,complete:We});return e?Bh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const H4={type:"spring",stiffness:500,damping:25,restSpeed:10},W4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),K4={type:"keyframes",duration:.8},G4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q4=(t,{keyframes:e})=>e.length>2?K4:Io.has(t)?t.startsWith("scale")?W4(e[1]):H4:G4,dy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(us.test(e)||e==="0")&&!e.startsWith("url(")),Y4=new Set(["brightness","contrast","saturate","opacity"]);function X4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gf)||[];if(!r)return t;const i=n.replace(r,"");let s=Y4.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const J4=/([a-z-]*)\(.*?\)/g,hy={...us,getAnimatableNone:t=>{const e=t.match(J4);return e?e.map(X4).join(" "):t}},Z4={...kA,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:hy,WebkitFilter:hy},E0=t=>Z4[t];function yP(t,e){let n=E0(t);return n!==hy&&(n=us),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vP=t=>/^0[^.\s]+$/.test(t);function ej(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||vP(t)}function tj(t,e,n,r){const i=dy(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),ej(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=yP(e,a)}return s}function nj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function T0(t,e){return t[e]||t.default||t}const rj={skipAnimations:!1},S0=(t,e,n,r={})=>i=>{const s=T0(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ts(o);const l=tj(e,t,n,s),u=l[0],d=l[l.length-1],h=dy(t,u),p=dy(t,d);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(nj(s)||(g={...g,...Q4(t,g)}),g.duration&&(g.duration=ts(g.duration)),g.repeatDelay&&(g.repeatDelay=ts(g.repeatDelay)),!h||!p||JM.current||s.type===!1||rj.skipAnimations)return q4(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=$4(e,t,g);if(y)return y}return Bh(g)};function zh(t){return!!(un(t)&&t.add)}const _P=t=>/^\-?\d*\.?\d+$/.test(t);function I0(t,e){t.indexOf(e)===-1&&t.push(e)}function b0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class A0{constructor(){this.subscriptions=[]}add(e){return I0(this.subscriptions,e),()=>b0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ij=t=>!isNaN(parseFloat(t));class sj{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Nt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Oe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Oe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=ij(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new A0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?pP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ka(t,e){return new sj(t,e)}const wP=t=>e=>e.test(t),oj={test:t=>t==="auto",parse:t=>t},xP=[bo,re,vr,wi,hM,dM,oj],zl=t=>xP.find(wP(t)),aj=[...xP,zt,us],lj=t=>aj.find(wP(t));function cj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ka(n))}function uj(t,e){const n=Yf(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=AM(s[o]);cj(t,o,a)}}function dj(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(_P(d)||vP(d))?d=parseFloat(d):!lj(d)&&us.test(u)&&(d=yP(l,u)),t.addValue(l,Ka(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function hj(t,e){return e?(e[t]||e.default||e).from:void 0}function fj(t,e,n){const r={};for(const i in t){const s=hj(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function pj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mj(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function EP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const p=t.getValue(h),g=a[h];if(!p||g===void 0||d&&pj(d,h))continue;const y={delay:n,elapsed:0,...T0(s||{},h)};if(window.HandoffAppearAnimations){const _=t.getProps()[TA];if(_){const E=window.HandoffAppearAnimations(_,h,p,Oe);E!==null&&(y.elapsed=E,y.isHandoff=!0)}}let w=!y.isHandoff&&!mj(p,g);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(w=!1),p.animation&&(w=!1),w)continue;p.start(S0(h,p,g,t.shouldReduceMotion&&Io.has(h)?{type:!1}:y));const S=p.animation;zh(l)&&(l.add(h),S.then(()=>l.remove(h))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&uj(t,o)}),u}function fy(t,e,n={}){const r=Yf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(EP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return gj(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function gj(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(yj).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(fy(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function yj(t,e){return t.sortNodePosition(e)}function vj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>fy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=fy(t,e,n);else{const i=typeof e=="function"?Yf(t,e,n.custom):e;r=Promise.all(EP(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const _j=[...c0].reverse(),wj=c0.length;function xj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vj(t,n,r)))}function Ej(t){let e=xj(t);const n=Sj();let r=!0;const i=(l,u)=>{const d=Yf(t,u);if(d){const{transition:h,transitionEnd:p,...g}=d;l={...l,...g,...p}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},p=[],g=new Set;let y={},w=1/0;for(let _=0;_<wj;_++){const E=_j[_],v=n[E],P=d[E]!==void 0?d[E]:h[E],O=zc(P),M=E===u?v.isActive:null;M===!1&&(w=_);let b=P===h[E]&&P!==d[E]&&O;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),v.protectedKeys={...y},!v.isActive&&M===null||!P&&!v.prevProp||Wf(P)||typeof P=="boolean")continue;let A=Tj(v.prevProp,P)||E===u&&v.isActive&&!b&&O||_>w&&O,R=!1;const k=Array.isArray(P)?P:[P];let V=k.reduce(i,{});M===!1&&(V={});const{prevResolvedValues:C={}}=v,Z={...C,...V},_e=fe=>{A=!0,g.has(fe)&&(R=!0,g.delete(fe)),v.needsAnimating[fe]=!0};for(const fe in Z){const Xe=V[fe],$=C[fe];if(y.hasOwnProperty(fe))continue;let K=!1;jh(Xe)&&jh($)?K=!HA(Xe,$):K=Xe!==$,K?Xe!==void 0?_e(fe):g.add(fe):Xe!==void 0&&g.has(fe)?_e(fe):v.protectedKeys[fe]=!0}v.prevProp=P,v.prevResolvedValues=V,v.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(A=!1),A&&(!b||R)&&p.push(...k.map(fe=>({animation:fe,options:{type:E,...l}})))}if(g.size){const _={};g.forEach(E=>{const v=t.getBaseTarget(E);v!==void 0&&(_[E]=v)}),p.push({animation:_})}let S=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const p=o(d,l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Tj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HA(e,t):!1}function ks(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sj(){return{animate:ks(!0),whileInView:ks(),whileHover:ks(),whileTap:ks(),whileDrag:ks(),whileFocus:ks(),exit:ks()}}class Ij extends Es{constructor(e){super(e),e.animationState||(e.animationState=Ej(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Wf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let bj=0;class Aj extends Es{constructor(){super(...arguments),this.id=bj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Pj={animation:{Feature:Ij},exit:{Feature:Aj}},pE=(t,e)=>Math.abs(t-e);function Rj(t,e){const n=pE(t.x,e.x),r=pE(t.y,e.y);return Math.sqrt(n**2+r**2)}class TP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Tm(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Rj(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:y}=h,{timestamp:w}=Nt;this.history.push({...y,timestamp:w});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Em(p,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Tm(h.type==="pointercancel"?this.lastMoveEventInfo:Em(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,S),y&&y(h,S)},!UA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Qf(e),a=Em(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Nt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Tm(a,this.history)),this.removeListeners=es(Hr(this.contextWindow,"pointermove",this.handlePointerMove),Hr(this.contextWindow,"pointerup",this.handlePointerUp),Hr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ei(this.updatePoint)}}function Em(t,e){return e?{point:e(t.point)}:t}function mE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tm({point:t},e){return{point:t,delta:mE(t,SP(e)),offset:mE(t,Cj(e)),velocity:kj(e,.1)}}function Cj(t){return t[0]}function SP(t){return t[t.length-1]}function kj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=SP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ts(e)));)n--;if(!r)return{x:0,y:0};const s=Wr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yn(t){return t.max-t.min}function py(t,e=0,n=.01){return Math.abs(t-e)<=n}function gE(t,e,n,r=.5){t.origin=r,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),(py(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(py(t.translate)||isNaN(t.translate))&&(t.translate=0)}function pc(t,e,n,r){gE(t.x,e.x,n.x,r?r.originX:void 0),gE(t.y,e.y,n.y,r?r.originY:void 0)}function yE(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function Nj(t,e,n){yE(t.x,e.x,n.x),yE(t.y,e.y,n.y)}function vE(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function mc(t,e,n){vE(t.x,e.x,n.x),vE(t.y,e.y,n.y)}function Dj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fe(n,t,r.max):Math.min(t,n)),t}function _E(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Oj(t,{top:e,left:n,bottom:r,right:i}){return{x:_E(t.x,n,i),y:_E(t.y,e,r)}}function wE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Vj(t,e){return{x:wE(t.x,e.x),y:wE(t.y,e.y)}}function Lj(t,e){let n=.5;const r=yn(t),i=yn(e);return i>r?n=qc(e.min,e.max-r,t.min):r>i&&(n=qc(t.min,t.max-i,e.min)),cs(0,1,n)}function Mj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const my=.35;function jj(t=my){return t===!1?t=0:t===!0&&(t=my),{x:xE(t,"left","right"),y:xE(t,"top","bottom")}}function xE(t,e,n){return{min:EE(t,e),max:EE(t,n)}}function EE(t,e){return typeof t=="number"?t:t[e]||0}const TE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:TE(),y:TE()}),SE=()=>({min:0,max:0}),Ze=()=>({x:SE(),y:SE()});function En(t){return[t("x"),t("y")]}function IP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Fj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Uj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sm(t){return t===void 0||t===1}function gy({scale:t,scaleX:e,scaleY:n}){return!Sm(t)||!Sm(e)||!Sm(n)}function Vs(t){return gy(t)||bP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function bP(t){return IE(t.x)||IE(t.y)}function IE(t){return t&&t!=="0%"}function $h(t,e,n){const r=t-n,i=e*r;return n+i}function bE(t,e,n,r,i){return i!==void 0&&(t=$h(t,i,r)),$h(t,n,r)+e}function yy(t,e=0,n=1,r,i){t.min=bE(t.min,e,n,r,i),t.max=bE(t.max,e,n,r,i)}function AP(t,{x:e,y:n}){yy(t.x,e.translate,e.scale,e.originPoint),yy(t.y,n.translate,n.scale,n.originPoint)}function Bj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AP(t,o)),r&&Vs(s.latestValues)&&fa(t,s.latestValues))}e.x=AE(e.x),e.y=AE(e.y)}function AE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ti(t,e){t.min=t.min+e,t.max=t.max+e}function PE(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Fe(t.min,t.max,s);yy(t,e[n],e[r],o,e.scale)}const zj=["x","scaleX","originX"],$j=["y","scaleY","originY"];function fa(t,e){PE(t.x,e,zj),PE(t.y,e,$j)}function PP(t,e){return IP(Uj(t.getBoundingClientRect(),e))}function qj(t,e,n){const r=PP(t,n),{scroll:i}=e;return i&&(Ti(r.x,i.offset.x),Ti(r.y,i.offset.y)),r}const RP=({current:t})=>t?t.ownerDocument.defaultView:null,Hj=new WeakMap;class Wj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qf(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zA(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(S=>{let _=this.getAxisMotionValue(S).get()||0;if(vr.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const v=E.layout.layoutBox[S];v&&(_=yn(v)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&Oe.update(()=>y(d,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=h;if(g&&this.currentDirection===null){this.currentDirection=Kj(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>En(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new TP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:RP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Oe.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!wd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Dj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ua(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Oj(i.layoutBox,n):this.constraints=!1,this.elastic=jj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&En(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Mj(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ua(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=qj(r,i.root,this.visualElement.getTransformPagePoint());let o=Vj(i.layout.layoutBox,s);if(n){const a=n(Fj(o));this.hasMutatedConstraints=!!a,a&&(o=IP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=En(d=>{if(!wd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(S0(e,r,0,n))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){En(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){En(n=>{const{drag:r}=this.getProps();if(!wd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ua(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};En(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Lj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),En(o=>{if(!wd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Fe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Hj.set(this.visualElement,this);const e=this.visualElement.current,n=Hr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ua(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Br(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(En(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=my,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function wd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Kj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Gj extends Es{constructor(e){super(e),this.removeGroupControls=We,this.removeListeners=We,this.controls=new Wj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const RE=t=>(e,n)=>{t&&Oe.update(()=>t(e,n))};class Qj extends Es{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(e){this.session=new TP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RE(e),onStart:RE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Oe.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Hr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Yj(){const t=D.useContext(a0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=D.useId();return D.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $l={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=CE(t,e.target.x),r=CE(t,e.target.y);return`${n}% ${r}%`}},Xj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=us.parse(t);if(i.length>5)return r;const s=us.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Fe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Jj extends gu.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;iM(Zj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Oe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CP(t){const[e,n]=Yj(),r=D.useContext(IA);return gu.createElement(Jj,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(bA),isPresent:e,safeToRemove:n})}const Zj={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:Xj},kP=["TopLeft","TopRight","BottomLeft","BottomRight"],eF=kP.length,kE=t=>typeof t=="string"?parseFloat(t):t,NE=t=>typeof t=="number"||re.test(t);function tF(t,e,n,r,i,s){i?(t.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,nF(r)),t.opacityExit=Fe(e.opacity!==void 0?e.opacity:1,0,rF(r))):s&&(t.opacity=Fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<eF;o++){const a=`border${kP[o]}Radius`;let l=DE(e,a),u=DE(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||NE(l)===NE(u)?(t[a]=Math.max(Fe(kE(l),kE(u),r),0),(vr.test(u)||vr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,r))}function DE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nF=NP(0,.5,eP),rF=NP(.5,.95,We);function NP(t,e,n){return r=>r<t?0:r>e?1:n(qc(t,e,r))}function OE(t,e){t.min=e.min,t.max=e.max}function xn(t,e){OE(t.x,e.x),OE(t.y,e.y)}function VE(t,e,n,r,i){return t-=e,t=$h(t,1/n,r),i!==void 0&&(t=$h(t,1/i,r)),t}function iF(t,e=0,n=1,r=.5,i,s=t,o=t){if(vr.test(e)&&(e=parseFloat(e),e=Fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fe(s.min,s.max,r);t===s&&(a-=e),t.min=VE(t.min,e,n,a,i),t.max=VE(t.max,e,n,a,i)}function LE(t,e,[n,r,i],s,o){iF(t,e[n],e[r],e[i],e.scale,s,o)}const sF=["x","scaleX","originX"],oF=["y","scaleY","originY"];function ME(t,e,n,r){LE(t.x,e,sF,n?n.x:void 0,r?r.x:void 0),LE(t.y,e,oF,n?n.y:void 0,r?r.y:void 0)}function jE(t){return t.translate===0&&t.scale===1}function DP(t){return jE(t.x)&&jE(t.y)}function aF(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function OP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function FE(t){return yn(t.x)/yn(t.y)}class lF{constructor(){this.members=[]}add(e){I0(this.members,e),e.scheduleRender()}remove(e){if(b0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UE(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const cF=(t,e)=>t.depth-e.depth;class uF{constructor(){this.children=[],this.isDirty=!1}add(e){I0(this.children,e),this.isDirty=!0}remove(e){b0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cF),this.isDirty=!1,this.children.forEach(e)}}function dF(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ei(r),t(s-e))};return Oe.read(r,!0),()=>ei(r)}function hF(t){window.MotionDebug&&window.MotionDebug.record(t)}function fF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function pF(t,e,n){const r=un(t)?t:Ka(t);return r.start(S0("",r,e,n)),r.animation}const BE=["","X","Y","Z"],mF={visibility:"hidden"},zE=1e3;let gF=0;const Ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function VP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=gF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ls.totalNodes=Ls.resolvedTargetDeltas=Ls.recalculatedProjection=0,this.nodes.forEach(_F),this.nodes.forEach(SF),this.nodes.forEach(IF),this.nodes.forEach(wF),hF(Ls)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new A0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fF(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=dF(p,250),Wd.hasAnimatedSinceResize&&(Wd.hasAnimatedSinceResize=!1,this.nodes.forEach(qE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||CF,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),E=!this.targetLayout||!OP(this.targetLayout,y)||g,v=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const P={...T0(w,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||qE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($E);return}this.isUpdating||this.nodes.forEach(EF),this.isUpdating=!1,this.nodes.forEach(TF),this.nodes.forEach(yF),this.nodes.forEach(vF),this.clearAllSnapshots();const a=performance.now();Nt.delta=cs(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,pm.update.process(Nt),pm.preRender.process(Nt),pm.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(xF),this.sharedNodes.forEach(AF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!DP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Vs(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ze();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ti(a.x,l.offset.x),Ti(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ze();xn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){xn(a,o);const{scroll:p}=this.root;p&&(Ti(a.x,-p.offset.x),Ti(a.y,-p.offset.y))}Ti(a.x,d.offset.x),Ti(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Ze();xn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&fa(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Vs(d.latestValues)&&fa(l,d.latestValues)}return Vs(this.latestValues)&&fa(l,this.latestValues),l}removeTransform(o){const a=Ze();xn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Vs(u.latestValues))continue;gy(u.latestValues)&&u.updateSnapshot();const d=Ze(),h=u.measurePageBox();xn(d,h),ME(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Vs(this.latestValues)&&ME(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),mc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),AP(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),mc(this.relativeTargetOrigin,this.target,g.target),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gy(this.parent.latestValues)||bP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;xn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Bj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=ha(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha());const w=this.projectionTransform;pc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=UE(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ze(),g=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=g!==y,S=this.getStack(),_=!S||S.members.length<=1,E=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(RF));this.animationProgress=0;let v;this.mixTargetDelta=P=>{const O=P/1e3;HE(h.x,o.x,O),HE(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PF(this.relativeTarget,this.relativeTargetOrigin,p,O),v&&aF(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ze()),xn(v,this.relativeTarget)),w&&(this.animationValues=d,tF(d,u,this.latestValues,O,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{Wd.hasAnimatedSinceResize=!0,this.currentAnimation=pF(0,zE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&LP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ze();const h=yn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=yn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}xn(a,l),fa(a,d),pc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lF),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<BE.length;d++){const h="rotate"+BE[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mF;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Hd(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Hd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Vs(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=UE(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Lh){if(p[w]===void 0)continue;const{correct:S,applyTo:_}=Lh[w],E=u.transform==="none"?p[w]:S(p[w],h);if(_){const v=_.length;for(let P=0;P<v;P++)u[_[P]]=E}else u[w]=E}return this.options.layoutId&&(u.pointerEvents=h===this?Hd(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($E),this.root.sharedNodes.clear()}}}function yF(t){t.updateLayout()}function vF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?En(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=yn(p);p.min=r[h].min,p.max=p.min+g}):LP(s,n.layoutBox,r)&&En(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=yn(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=ha();pc(a,r,n.layoutBox);const l=ha();o?pc(l,t.applyTransform(i,!0),n.measuredBox):pc(l,r,n.layoutBox);const u=!DP(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const y=Ze();mc(y,n.layoutBox,p.layoutBox);const w=Ze();mc(w,r,g.layoutBox),OP(y,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _F(t){Ls.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xF(t){t.clearSnapshot()}function $E(t){t.clearMeasurements()}function EF(t){t.isLayoutDirty=!1}function TF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SF(t){t.resolveTargetDelta()}function IF(t){t.calcProjection()}function bF(t){t.resetRotation()}function AF(t){t.removeLeadSnapshot()}function HE(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function WE(t,e,n,r){t.min=Fe(e.min,n.min,r),t.max=Fe(e.max,n.max,r)}function PF(t,e,n,r){WE(t.x,e.x,n.x,r),WE(t.y,e.y,n.y,r)}function RF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CF={duration:.45,ease:[.4,0,.1,1]},KE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),GE=KE("applewebkit/")&&!KE("chrome/")?Math.round:We;function QE(t){t.min=GE(t.min),t.max=GE(t.max)}function kF(t){QE(t.x),QE(t.y)}function LP(t,e,n){return t==="position"||t==="preserve-aspect"&&!py(FE(e),FE(n),.2)}const NF=VP({attachResizeListener:(t,e)=>Br(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Im={current:void 0},MP=VP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Im.current){const t=new NF({});t.mount(window),t.setOptions({layoutScroll:!0}),Im.current=t}return Im.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DF={pan:{Feature:Qj},drag:{Feature:Gj,ProjectionNode:MP,MeasureLayout:CP}},OF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function VF(t){const e=OF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function vy(t,e,n=1){const[r,i]=VF(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return _P(o)?parseFloat(o):o}else return ay(i)?vy(i,e,n+1):i}function LF(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!ay(s))return;const o=vy(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!ay(s))continue;const o=vy(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const MF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),jP=t=>MF.has(t),jF=t=>Object.keys(t).some(jP),YE=t=>t===bo||t===re,XE=(t,e)=>parseFloat(t.split(", ")[e]),JE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return XE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?XE(s[1],t):0}},FF=new Set(["x","y","z"]),UF=Tu.filter(t=>!FF.has(t));function BF(t){const e=[];return UF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:JE(4,13),y:JE(5,14)};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const zF=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Ga[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=Ga[u](l,s)}),t},$F=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(jP);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=zl(d);const p=e[l];let g;if(jh(p)){const y=p.length,w=p[0]===null?1:0;d=p[w],h=zl(d);for(let S=w;S<y&&p[S]!==null;S++)g?v0(zl(p[S])===g):g=zl(p[S])}else g=zl(p);if(h!==g)if(YE(h)&&YE(g)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===re&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(d===0||p===0)?d===0?u.set(g.transform(d)):e[l]=h.transform(p):(o||(s=BF(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=zF(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Hf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function qF(t,e,n,r){return jF(e)?$F(t,e,n,r):{target:e,transitionEnd:r}}const HF=(t,e,n,r)=>{const i=LF(t,e,r);return e=i.target,r=i.transitionEnd,qF(t,e,n,r)},_y={current:null},FP={current:!1};function WF(){if(FP.current=!0,!!Hf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_y.current=t.matches;t.addListener(e),e()}else _y.current=!1}function KF(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(un(s))t.addValue(i,s),zh(r)&&r.add(i);else if(un(o))t.addValue(i,Ka(s,{owner:t})),zh(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ka(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ZE=new WeakMap,UP=Object.keys($c),GF=UP.length,e1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],QF=u0.length;class YF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Oe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Kf(n),this.isVariantNode=SA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const p=d[h];a[h]!==void 0&&un(p)&&(p.set(a[h],!1),zh(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,ZE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FP.current||WF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_y.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZE.delete(this.current),this.projection&&this.projection.unmount(),ei(this.notifyUpdate),ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Io.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Oe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<GF;l++){const u=UP[l],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:g}=$c[u];p&&(o=p),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&ua(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<e1.length;r++){const i=e1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=KF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<QF;r++){const i=u0[r],s=this.props[i];(zc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ka(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=y0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!un(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new A0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class BP extends YF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=fj(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){dj(this,r,o);const a=HF(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function XF(t){return window.getComputedStyle(t)}class JF extends BP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Io.has(n)){const r=E0(n);return r&&r.default||0}else{const r=XF(e),i=(RA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PP(e,n)}build(e,n,r,i){h0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return g0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){VA(e,n,r,i)}}class ZF extends BP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Io.has(n)){const r=E0(n);return r&&r.default||0}return n=LA.has(n)?n:l0(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ze()}scrapeMotionValuesFromProps(e,n){return jA(e,n)}build(e,n,r,i){p0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){MA(e,n,r,i)}mount(e){this.isSVGTag=m0(e.tagName),super.mount(e)}}const e3=(t,e)=>d0(t)?new ZF(e,{enableHardwareAcceleration:!1}):new JF(e,{enableHardwareAcceleration:!0}),t3={layout:{ProjectionNode:MP,MeasureLayout:CP}},n3={...Pj,...GM,...DF,...t3},yt=nM((t,e)=>VM(t,e,n3,e3)),r3=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},i3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new s3;const p=s<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o3=function(t){const e=zP(t);return $P.encodeByteArray(e,!0)},qh=function(t){return o3(t).replace(/\./g,"")},qP=function(t){try{return $P.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=()=>a3().__FIREBASE_DEFAULTS__,c3=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},u3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qP(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return r3()||l3()||c3()||u3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HP=t=>{var e,n;return(n=(e=Xf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},WP=t=>{const e=HP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KP=()=>{var t;return(t=Xf())==null?void 0:t.config},GP=t=>{var e;return(e=Xf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[qh(JSON.stringify(n)),qh(JSON.stringify(o)),a].join(".")}const gc={};function h3(){const t={prod:[],emulator:[]};for(const e of Object.keys(gc))gc[e]?t.emulator.push(e):t.prod.push(e);return t}function f3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let t1=!1;function R0(t,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||gc[t]===e||gc[t]||t1)return;gc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=h3().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{t1=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=f3(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),S=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const v=p.element;a(v),d(S,w);const P=u();l(E,_),v.append(E,y,S,P),document.body.appendChild(v)}s?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function m3(){var e;const t=(e=Xf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v3(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _3(){return!m3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XP(){try{return typeof indexedDB=="object"}catch{return!1}}function JP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function w3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x3,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vn(i,a,r)}}function E3(t,e){return t.replace(T3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T3=/\{\$([^}]+)}/g;function S3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(n1(s)&&n1(o)){if(!ds(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function n1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function I3(t,e){const n=new b3(t,e);return n.subscribe.bind(n)}class b3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bm),i.error===void 0&&(i.error=bm),i.complete===void 0&&(i.complete=bm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=1e3,R3=2,C3=4*60*60*1e3,k3=.5;function r1(t,e=P3,n=R3){const r=e*Math.pow(n,t),i=Math.round(k3*r*(Math.random()-.5)*2);return Math.min(C3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class Dn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new d3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O3(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D3(t){return t===Ms?void 0:t}function O3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const L3={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},M3=pe.INFO,j3={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},F3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=j3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=M3,this._logHandler=F3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const U3=(t,e)=>e.some(n=>t instanceof n);let i1,s1;function B3(){return i1||(i1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z3(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZP=new WeakMap,wy=new WeakMap,eR=new WeakMap,Am=new WeakMap,C0=new WeakMap;function $3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZP.set(n,t)}).catch(()=>{}),C0.set(e,t),e}function q3(t){if(wy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wy.set(t,e)}let xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H3(t){xy=t(xy)}function W3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pm(this),e,...n);return eR.set(r,e.sort?e.sort():[e]),ns(r)}:z3().includes(t)?function(...e){return t.apply(Pm(this),e),ns(ZP.get(this))}:function(...e){return ns(t.apply(Pm(this),e))}}function K3(t){return typeof t=="function"?W3(t):(t instanceof IDBTransaction&&q3(t),U3(t,B3())?new Proxy(t,xy):t)}function ns(t){if(t instanceof IDBRequest)return $3(t);if(Am.has(t))return Am.get(t);const e=K3(t);return e!==t&&(Am.set(t,e),C0.set(e,t)),e}const Pm=t=>C0.get(t);function tR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ns(o.result),l.oldVersion,l.newVersion,ns(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const G3=["get","getKey","getAll","getAllKeys","count"],Q3=["put","add","delete","clear"],Rm=new Map;function o1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Q3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Rm.set(e,s),s}H3(t=>({...t,get:(e,n,r)=>o1(e,n)||t.get(e,n,r),has:(e,n)=>!!o1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",a1="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Jf("@firebase/app"),J3="@firebase/app-compat",Z3="@firebase/analytics-compat",eU="@firebase/analytics",tU="@firebase/app-check-compat",nU="@firebase/app-check",rU="@firebase/auth",iU="@firebase/auth-compat",sU="@firebase/database",oU="@firebase/data-connect",aU="@firebase/database-compat",lU="@firebase/functions",cU="@firebase/functions-compat",uU="@firebase/installations",dU="@firebase/installations-compat",hU="@firebase/messaging",fU="@firebase/messaging-compat",pU="@firebase/performance",mU="@firebase/performance-compat",gU="@firebase/remote-config",yU="@firebase/remote-config-compat",vU="@firebase/storage",_U="@firebase/storage-compat",wU="@firebase/firestore",xU="@firebase/ai",EU="@firebase/firestore-compat",TU="firebase",SU="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",IU={[Ey]:"fire-core",[J3]:"fire-core-compat",[eU]:"fire-analytics",[Z3]:"fire-analytics-compat",[nU]:"fire-app-check",[tU]:"fire-app-check-compat",[rU]:"fire-auth",[iU]:"fire-auth-compat",[sU]:"fire-rtdb",[oU]:"fire-data-connect",[aU]:"fire-rtdb-compat",[lU]:"fire-fn",[cU]:"fire-fn-compat",[uU]:"fire-iid",[dU]:"fire-iid-compat",[hU]:"fire-fcm",[fU]:"fire-fcm-compat",[pU]:"fire-perf",[mU]:"fire-perf-compat",[gU]:"fire-rc",[yU]:"fire-rc-compat",[vU]:"fire-gcs",[_U]:"fire-gcs-compat",[wU]:"fire-fst",[EU]:"fire-fst-compat",[xU]:"fire-vertex","fire-js":"fire-js",[TU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,bU=new Map,Sy=new Map;function l1(t,e){try{t.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xn(t){const e=t.name;if(Sy.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Sy.set(e,t);for(const n of Hh.values())l1(n,t);for(const n of bU.values())l1(n,t);return!0}function Ts(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new Po("app","Firebase",AU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=SU;function nR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ty,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(n||(n=KP()),!n)throw rs.create("no-options");const s=Hh.get(i);if(s){if(ds(n,s.options)&&ds(r,s.config))return s;throw rs.create("duplicate-app",{appName:i})}const o=new V3(i);for(const l of Sy.values())o.addComponent(l);const a=new PU(n,r,o);return Hh.set(i,a),a}function Zf(t=Ty){const e=Hh.get(t);if(!e&&t===Ty&&KP())return nR();if(!e)throw rs.create("no-app",{appName:t});return e}function ln(t,e,n){let r=IU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(o.join(" "));return}Xn(new Dn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firebase-heartbeat-database",CU=1,Hc="firebase-heartbeat-store";let Cm=null;function rR(){return Cm||(Cm=tR(RU,CU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),Cm}async function kU(t){try{const n=(await rR()).transaction(Hc),r=await n.objectStore(Hc).get(iR(t));return await n.done,r}catch(e){if(e instanceof Vn)ti.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function c1(t,e){try{const r=(await rR()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,iR(t)),await r.done}catch(n){if(n instanceof Vn)ti.warn(n.message);else{const r=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(r.message)}}}function iR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=1024,DU=30;class OU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>DU){const o=MU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u1(),{heartbeatsToSend:r,unsentEntries:i}=VU(this._heartbeatsCache.heartbeats),s=qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ti.warn(n),""}}}function u1(){return new Date().toISOString().substring(0,10)}function VU(t,e=NU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),d1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XP()?JP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function d1(t){return qh(JSON.stringify({version:2,heartbeats:t})).length}function MU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){Xn(new Dn("platform-logger",e=>new Y3(e),"PRIVATE")),Xn(new Dn("heartbeat",e=>new OU(e),"PRIVATE")),ln(Ey,a1,t),ln(Ey,a1,"esm2020"),ln("fire-js","")}jU("");function sR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FU=sR,oR=new Po("auth","Firebase",sR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Jf("@firebase/auth");function UU(t,...e){Wh.logLevel<=pe.WARN&&Wh.warn(`Auth (${Ro}): ${t}`,...e)}function Kd(t,...e){Wh.logLevel<=pe.ERROR&&Wh.error(`Auth (${Ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw N0(t,...e)}function Gn(t,...e){return N0(t,...e)}function k0(t,e,n){const r={...FU(),[e]:n};return new Po("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return k0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&On(t,"argument-error"),k0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oR.create(t,...e)}function te(t,e,...n){if(!t)throw N0(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kd(e),new Error(e)}function ni(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zU(){return h1()==="http:"||h1()==="https:"}function h1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zU()||YP()||"connection"in navigator)?navigator.onLine:!0}function qU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=p3()||y3()}get(){return $U()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e){ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KU=new Pu(3e4,6e4);function oi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function br(t,e,n,r,i={}){return lR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Au({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return g3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(u.credentials="include"),aR.fetch()(await cR(t,t.config.apiHost,n,a),u)})}async function lR(t,e,n){t._canInitEmulator=!1;const r={...HU,...e};try{const i=new QU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw k0(t,d,u);On(t,d)}}catch(i){if(i instanceof Vn)throw i;On(t,"network-request-failed",{message:String(i)})}}async function Ru(t,e,n,r,i={}){const s=await br(t,e,n,r,i);return"mfaPendingCredential"in s&&On(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function cR(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?D0(t.config,i):`${t.config.apiScheme}://${i}`;return WU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function GU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),KU.get())})}}function xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(t,e,r);return i.customData._tokenResponse=n,i}function f1(t){return t!==void 0&&t.enterprise!==void 0}class YU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XU(t,e){return br(t,"GET","/v2/recaptchaConfig",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){return br(t,"POST","/v1/accounts:delete",e)}async function Kh(t,e){return br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZU(t,e=!1){const n=it(t),r=await n.getIdToken(e),i=O0(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yc(km(i.auth_time)),issuedAtTime:yc(km(i.iat)),expirationTime:yc(km(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function km(t){return Number(t)*1e3}function O0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=qP(n);return i?JSON.parse(i):(Kd("Failed to decode base64 JWT payload"),null)}catch(i){return Kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p1(t){const e=O0(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&e6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Qa(t,Kh(e,{idToken:n}));te(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?uR(i.providerUserInfo):[],o=r6(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new by(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function n6(t){const e=it(t);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e){const n=await lR(t,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await cR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(l.credentials="include"),aR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s6(t,e){return br(t,"POST","/v2/accounts:revokeToken",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=p1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wa;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new t6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new by(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZU(this,e)}reload(){return n6(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Qa(this,JU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:y,stsTokenManager:w}=n;te(h&&w,e,"internal-error");const S=wa.fromJSON(this.name,w);te(typeof h=="string",e,"internal-error"),vi(r,e.name),vi(i,e.name),te(typeof p=="boolean",e,"internal-error"),te(typeof g=="boolean",e,"internal-error"),vi(s,e.name),vi(o,e.name),vi(a,e.name),vi(l,e.name),vi(u,e.name),vi(d,e.name);const _=new $n({uid:h,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(_.providerData=y.map(E=>({...E}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new wa;i.updateFromServerResponse(n);const s=new $n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?uR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new wa;a.updateFromIdToken(r);const l=new $n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new by(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function $r(t){ni(t instanceof Function,"Expected a class definition");let e=m1.get(t);return e?(ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dR.type="NONE";const g1=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xa($r(g1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||$r(g1);const o=Gd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await Kh(e,{idToken:d}).catch(()=>{});if(!p)break;h=await $n._fromGetAccountInfoResponse(e,p,d)}else h=$n._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yR(e))return"Blackberry";if(vR(e))return"Webos";if(fR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(gR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hR(t=jt()){return/firefox\//i.test(t)}function fR(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=jt()){return/crios\//i.test(t)}function mR(t=jt()){return/iemobile/i.test(t)}function gR(t=jt()){return/android/i.test(t)}function yR(t=jt()){return/blackberry/i.test(t)}function vR(t=jt()){return/webos/i.test(t)}function V0(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o6(t=jt()){var e;return V0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function a6(){return v3()&&document.documentMode===10}function _R(t=jt()){return V0(t)||gR(t)||vR(t)||yR(t)||/windows phone/i.test(t)||mR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e=[]){let n;switch(t){case"Browser":n=y1(jt());break;case"Worker":n=`${y1(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e={}){return br(t,"GET","/v2/passwordPolicy",oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=6;class d6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new l6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(Kr(this));const n=e?it(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c6(this),n=new d6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ai(t){return it(t)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=I3(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f6(t){ep=t}function xR(t){return ep.loadJS(t)}function p6(){return ep.recaptchaEnterpriseScript}function m6(){return ep.gapiScript}function g6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y6{constructor(){this.enterprise=new v6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _6="recaptcha-enterprise",ER="NO_RECAPTCHA";class w6{constructor(e){this.type=_6,this.auth=ai(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{XU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new YU(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;f1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(ER)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y6().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&f1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=p6();l.length!==0&&(l+=a),xR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ql(t,e,n,r=!1,i=!1){const s=new w6(t);let o;if(i)o=ER;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qh(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ql(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ql(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ql(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await ql(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await ql(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e){const n=Ts(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ds(s,e??{}))return i;On(i,"already-initialized")}return n.initialize({options:e})}function E6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T6(t,e,n){const r=ai(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=TR(e),{host:o,port:a}=S6(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(ds(u,r.config.emulator)&&ds(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ao(o)?(P0(`${s}//${o}${l}`),R0("Auth",!0)):i||I6()}function TR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S6(t){const e=TR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_1(o)}}}function _1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function b6(t,e){return br(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",oi(t,e))}async function P6(t,e){return br(t,"POST","/v1/accounts:sendOobCode",oi(t,e))}async function R6(t,e){return P6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}async function k6(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends L0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,n,"signInWithPassword",A6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return C6(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,r,"signUpPassword",b6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k6(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="http://localhost";class po extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new po(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){const e={requestUri:N6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O6(t){const e=Jl(Zl(t)).link,n=e?Jl(Zl(e)).deep_link_id:null,r=Jl(Zl(t)).deep_link_id;return(r?Jl(Zl(r)).link:null)||r||n||e||t}class M0{constructor(e){const n=Jl(Zl(e)),r=n.apiKey??null,i=n.oobCode??null,s=D6(n.mode??null);te(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=O6(e);try{return new M0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=M0.parseLink(n);return te(r,"argument-error"),Wc._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Cu{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return po._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Cu{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Cu{constructor(){super("twitter.com")}static credential(e,n){return po._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return Ru(t,"POST","/v1/accounts:signUp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $n._fromIdTokenResponse(e,r,i),o=w1(r);return new mo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w1(r);return new mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Vn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yh(e,n,r,i)}}function SR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,s,e,r):s})}async function L6(t,e,n=!1){const r=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e,n=!1){const{auth:r}=t;if(nn(r.app))return Promise.reject(Kr(r));const i="reauthenticate";try{const s=await Qa(t,SR(r,i,e,t),n);te(s.idToken,r,"internal-error");const o=O0(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),mo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&On(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t,e,n=!1){if(nn(t.app))return Promise.reject(Kr(t));const r="signIn",i=await SR(t,r,e),s=await mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function j6(t,e){return IR(ai(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e,n){var r;te(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),te(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t){const e=ai(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U6(t,e,n){const r=ai(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&F6(r,i,n),await Qh(r,i,"getOobCode",R6,"EMAIL_PASSWORD_PROVIDER")}async function B6(t,e,n){if(nn(t.app))return Promise.reject(Kr(t));const r=ai(t),o=await Qh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V6,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&bR(t),l}),a=await mo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function z6(t,e,n){return nn(t.app)?Promise.reject(Kr(t)):j6(it(t),cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=it(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Qa(r,$6(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function q6(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function H6(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function W6(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}function K6(t){return it(t).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=1e3,Q6=10;class PR extends AR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Q6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PR.type="LOCAL";const Y6=PR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR extends AR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RR.type="SESSION";const CR=RR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await X6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=F0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function Z6(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function e5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function n5(){return kR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebaseLocalStorageDb",r5=1,Jh="firebaseLocalStorage",DR="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function np(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function i5(){const t=indexedDB.deleteDatabase(NR);return new ku(t).toPromise()}function Ay(){const t=indexedDB.open(NR,r5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jh,{keyPath:DR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),await i5(),e(await Ay()))})})}async function E1(t,e,n){const r=np(t,!0).put({[DR]:e,value:n});return new ku(r).toPromise()}async function s5(t,e){const n=np(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function T1(t,e){const n=np(t,!0).delete(e);return new ku(n).toPromise()}const o5=800,a5=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(n5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await e5(),!this.activeServiceWorker)return;this.sender=new J6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ay();return await E1(e,Xh,"1"),await T1(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=np(i,!1).getAll();return new ku(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const l5=OR;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e){return e?$r(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends L0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c5(t){return IR(t.auth,new U0(t),t.bypassAuthState)}function u5(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),M6(n,new U0(t),t.bypassAuthState)}async function d5(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),L6(n,new U0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c5;case"linkViaPopup":case"linkViaRedirect":return d5;case"reauthViaPopup":case"reauthViaRedirect":return u5;default:On(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Pu(2e3,1e4);async function f5(t,e,n){if(nn(t.app))return Promise.reject(Gn(t,"operation-not-supported-in-this-environment"));const r=ai(t);BU(t,e,j0);const i=VR(r,n);return new qs(r,"signInViaPopup",e,i).executeNotNull()}class qs extends LR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=F0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h5.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="pendingRedirect",Qd=new Map;class m5 extends LR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const r=await g5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g5(t,e){const n=_5(e),r=v5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function y5(t,e){Qd.set(t._key(),e)}function v5(t){return $r(t._redirectPersistence)}function _5(t){return Gd(p5,t.config.apiKey,t.name)}async function w5(t,e,n=!1){if(nn(t.app))return Promise.reject(Kr(t));const r=ai(t),i=VR(r,e),o=await new m5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=10*60*1e3;class E5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x5&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e={}){return br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b5=/^https?/;async function A5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S5(t);for(const n of e)try{if(P5(n))return}catch{}On(t,"unauthorized-domain")}function P5(t){const e=Iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!b5.test(n))return!1;if(I5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new Pu(3e4,6e4);function I1(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C5(t){return new Promise((e,n)=>{var i,s,o;function r(){I1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I1(),n(Gn(t,"network-request-failed"))},timeout:R5.get()})}if((s=(i=_r().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=_r().gapi)!=null&&o.load)r();else{const a=g6("iframefcb");return _r()[a]=()=>{gapi.load?r():n(Gn(t,"network-request-failed"))},xR(`${m6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function k5(t){return Yd=Yd||C5(t),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=new Pu(5e3,15e3),D5="__/auth/iframe",O5="emulator/auth/iframe",V5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M5(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?D0(e,O5):`https://${t.config.authDomain}/${D5}`,r={apiKey:e.apiKey,appName:t.name,v:Ro},i=L5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Au(r).slice(1)}`}async function j5(t){const e=await k5(t),n=_r().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:M5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=_r().setTimeout(()=>{s(o)},N5.get());function l(){_r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U5=500,B5=600,z5="_blank",$5="http://localhost";class b1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q5(t,e,n,r=U5,i=B5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...F5,width:r.toString(),height:i.toString(),top:s,left:o},u=jt().toLowerCase();n&&(a=pR(u)?z5:n),hR(u)&&(e=e||$5,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(o6(u)&&a!=="_self")return H5(e||"",a),new b1(null);const h=window.open(e||"",a,d);te(h,t,"popup-blocked");try{h.focus()}catch{}return new b1(h)}function H5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="__/auth/handler",K5="emulator/auth/handler",G5=encodeURIComponent("fac");async function A1(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ro,eventId:i};if(e instanceof j0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",S3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Cu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${G5}=${encodeURIComponent(l)}`:"";return`${Q5(t)}?${Au(a).slice(1)}${u}`}function Q5({config:t}){return t.emulator?D0(t,K5):`https://${t.authDomain}/${W5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class Y5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CR,this._completeRedirectFn=w5,this._overrideRedirectResult=y5}async _openPopup(e,n,r,i){var o;ni((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await A1(e,n,r,Iy(),i);return q5(e,s,F0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await A1(e,n,r,Iy(),i);return Z6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j5(e),r=new E5(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Nm];s!==void 0&&n(!!s),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _R()||fR()||V0()}}const X5=Y5;var P1="@firebase/auth",R1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e9(t){Xn(new Dn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(t)},u=new h6(r,i,s,l);return E6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xn(new Dn("auth-internal",e=>{const n=ai(e.getProvider("auth").getImmediate());return(r=>new J5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ln(P1,R1,Z5(t)),ln(P1,R1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=5*60,n9=GP("authIdTokenMaxAge")||t9;let C1=null;const r9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n9)return;const i=n==null?void 0:n.token;C1!==i&&(C1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function i9(t=Zf()){const e=Ts(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x6(t,{popupRedirectResolver:X5,persistence:[l5,Y6,CR]}),r=GP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=r9(s.toString());H6(n,o,()=>o(n.currentUser)),q6(n,a=>o(a))}}const i=HP("auth");return i&&T6(n,`http://${i}`),n}function s9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}f6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",s9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e9("Browser");var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,jR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,x){function A(){}A.prototype=x.prototype,b.F=x.prototype,b.prototype=new A,b.prototype.constructor=b,b.D=function(R,k,V){for(var C=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)C[Z-2]=arguments[Z];return x.prototype[k].apply(R,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,x,A){A||(A=0);const R=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)R[k]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(k=0;k<16;++k)R[k]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=b.g[0],A=b.g[1],k=b.g[2];let V=b.g[3],C;C=x+(V^A&(k^V))+R[0]+3614090360&4294967295,x=A+(C<<7&4294967295|C>>>25),C=V+(k^x&(A^k))+R[1]+3905402710&4294967295,V=x+(C<<12&4294967295|C>>>20),C=k+(A^V&(x^A))+R[2]+606105819&4294967295,k=V+(C<<17&4294967295|C>>>15),C=A+(x^k&(V^x))+R[3]+3250441966&4294967295,A=k+(C<<22&4294967295|C>>>10),C=x+(V^A&(k^V))+R[4]+4118548399&4294967295,x=A+(C<<7&4294967295|C>>>25),C=V+(k^x&(A^k))+R[5]+1200080426&4294967295,V=x+(C<<12&4294967295|C>>>20),C=k+(A^V&(x^A))+R[6]+2821735955&4294967295,k=V+(C<<17&4294967295|C>>>15),C=A+(x^k&(V^x))+R[7]+4249261313&4294967295,A=k+(C<<22&4294967295|C>>>10),C=x+(V^A&(k^V))+R[8]+1770035416&4294967295,x=A+(C<<7&4294967295|C>>>25),C=V+(k^x&(A^k))+R[9]+2336552879&4294967295,V=x+(C<<12&4294967295|C>>>20),C=k+(A^V&(x^A))+R[10]+4294925233&4294967295,k=V+(C<<17&4294967295|C>>>15),C=A+(x^k&(V^x))+R[11]+2304563134&4294967295,A=k+(C<<22&4294967295|C>>>10),C=x+(V^A&(k^V))+R[12]+1804603682&4294967295,x=A+(C<<7&4294967295|C>>>25),C=V+(k^x&(A^k))+R[13]+4254626195&4294967295,V=x+(C<<12&4294967295|C>>>20),C=k+(A^V&(x^A))+R[14]+2792965006&4294967295,k=V+(C<<17&4294967295|C>>>15),C=A+(x^k&(V^x))+R[15]+1236535329&4294967295,A=k+(C<<22&4294967295|C>>>10),C=x+(k^V&(A^k))+R[1]+4129170786&4294967295,x=A+(C<<5&4294967295|C>>>27),C=V+(A^k&(x^A))+R[6]+3225465664&4294967295,V=x+(C<<9&4294967295|C>>>23),C=k+(x^A&(V^x))+R[11]+643717713&4294967295,k=V+(C<<14&4294967295|C>>>18),C=A+(V^x&(k^V))+R[0]+3921069994&4294967295,A=k+(C<<20&4294967295|C>>>12),C=x+(k^V&(A^k))+R[5]+3593408605&4294967295,x=A+(C<<5&4294967295|C>>>27),C=V+(A^k&(x^A))+R[10]+38016083&4294967295,V=x+(C<<9&4294967295|C>>>23),C=k+(x^A&(V^x))+R[15]+3634488961&4294967295,k=V+(C<<14&4294967295|C>>>18),C=A+(V^x&(k^V))+R[4]+3889429448&4294967295,A=k+(C<<20&4294967295|C>>>12),C=x+(k^V&(A^k))+R[9]+568446438&4294967295,x=A+(C<<5&4294967295|C>>>27),C=V+(A^k&(x^A))+R[14]+3275163606&4294967295,V=x+(C<<9&4294967295|C>>>23),C=k+(x^A&(V^x))+R[3]+4107603335&4294967295,k=V+(C<<14&4294967295|C>>>18),C=A+(V^x&(k^V))+R[8]+1163531501&4294967295,A=k+(C<<20&4294967295|C>>>12),C=x+(k^V&(A^k))+R[13]+2850285829&4294967295,x=A+(C<<5&4294967295|C>>>27),C=V+(A^k&(x^A))+R[2]+4243563512&4294967295,V=x+(C<<9&4294967295|C>>>23),C=k+(x^A&(V^x))+R[7]+1735328473&4294967295,k=V+(C<<14&4294967295|C>>>18),C=A+(V^x&(k^V))+R[12]+2368359562&4294967295,A=k+(C<<20&4294967295|C>>>12),C=x+(A^k^V)+R[5]+4294588738&4294967295,x=A+(C<<4&4294967295|C>>>28),C=V+(x^A^k)+R[8]+2272392833&4294967295,V=x+(C<<11&4294967295|C>>>21),C=k+(V^x^A)+R[11]+1839030562&4294967295,k=V+(C<<16&4294967295|C>>>16),C=A+(k^V^x)+R[14]+4259657740&4294967295,A=k+(C<<23&4294967295|C>>>9),C=x+(A^k^V)+R[1]+2763975236&4294967295,x=A+(C<<4&4294967295|C>>>28),C=V+(x^A^k)+R[4]+1272893353&4294967295,V=x+(C<<11&4294967295|C>>>21),C=k+(V^x^A)+R[7]+4139469664&4294967295,k=V+(C<<16&4294967295|C>>>16),C=A+(k^V^x)+R[10]+3200236656&4294967295,A=k+(C<<23&4294967295|C>>>9),C=x+(A^k^V)+R[13]+681279174&4294967295,x=A+(C<<4&4294967295|C>>>28),C=V+(x^A^k)+R[0]+3936430074&4294967295,V=x+(C<<11&4294967295|C>>>21),C=k+(V^x^A)+R[3]+3572445317&4294967295,k=V+(C<<16&4294967295|C>>>16),C=A+(k^V^x)+R[6]+76029189&4294967295,A=k+(C<<23&4294967295|C>>>9),C=x+(A^k^V)+R[9]+3654602809&4294967295,x=A+(C<<4&4294967295|C>>>28),C=V+(x^A^k)+R[12]+3873151461&4294967295,V=x+(C<<11&4294967295|C>>>21),C=k+(V^x^A)+R[15]+530742520&4294967295,k=V+(C<<16&4294967295|C>>>16),C=A+(k^V^x)+R[2]+3299628645&4294967295,A=k+(C<<23&4294967295|C>>>9),C=x+(k^(A|~V))+R[0]+4096336452&4294967295,x=A+(C<<6&4294967295|C>>>26),C=V+(A^(x|~k))+R[7]+1126891415&4294967295,V=x+(C<<10&4294967295|C>>>22),C=k+(x^(V|~A))+R[14]+2878612391&4294967295,k=V+(C<<15&4294967295|C>>>17),C=A+(V^(k|~x))+R[5]+4237533241&4294967295,A=k+(C<<21&4294967295|C>>>11),C=x+(k^(A|~V))+R[12]+1700485571&4294967295,x=A+(C<<6&4294967295|C>>>26),C=V+(A^(x|~k))+R[3]+2399980690&4294967295,V=x+(C<<10&4294967295|C>>>22),C=k+(x^(V|~A))+R[10]+4293915773&4294967295,k=V+(C<<15&4294967295|C>>>17),C=A+(V^(k|~x))+R[1]+2240044497&4294967295,A=k+(C<<21&4294967295|C>>>11),C=x+(k^(A|~V))+R[8]+1873313359&4294967295,x=A+(C<<6&4294967295|C>>>26),C=V+(A^(x|~k))+R[15]+4264355552&4294967295,V=x+(C<<10&4294967295|C>>>22),C=k+(x^(V|~A))+R[6]+2734768916&4294967295,k=V+(C<<15&4294967295|C>>>17),C=A+(V^(k|~x))+R[13]+1309151649&4294967295,A=k+(C<<21&4294967295|C>>>11),C=x+(k^(A|~V))+R[4]+4149444226&4294967295,x=A+(C<<6&4294967295|C>>>26),C=V+(A^(x|~k))+R[11]+3174756917&4294967295,V=x+(C<<10&4294967295|C>>>22),C=k+(x^(V|~A))+R[2]+718787259&4294967295,k=V+(C<<15&4294967295|C>>>17),C=A+(V^(k|~x))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+x&4294967295,b.g[1]=b.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+V&4294967295}r.prototype.v=function(b,x){x===void 0&&(x=b.length);const A=x-this.blockSize,R=this.C;let k=this.h,V=0;for(;V<x;){if(k==0)for(;V<=A;)i(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<x;)if(R[k++]=b.charCodeAt(V++),k==this.blockSize){i(this,R),k=0;break}}else for(;V<x;)if(R[k++]=b[V++],k==this.blockSize){i(this,R),k=0;break}}this.h=k,this.o+=x},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var x=1;x<b.length-8;++x)b[x]=0;x=this.o*8;for(var A=b.length-8;A<b.length;++A)b[A]=x&255,x/=256;for(this.v(b),b=Array(16),x=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)b[x++]=this.g[A]>>>R&255;return b};function s(b,x){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=x(b)}function o(b,x){this.h=x;const A=[];let R=!0;for(let k=b.length-1;k>=0;k--){const V=b[k]|0;R&&V==x||(A[k]=V,R=!1)}this.g=A}var a={};function l(b){return-128<=b&&b<128?s(b,function(x){return new o([x|0],x<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(b<0)return S(u(-b));const x=[];let A=1;for(let R=0;b>=A;R++)x[R]=b/A|0,A*=4294967296;return new o(x,0)}function d(b,x){if(b.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(b.charAt(0)=="-")return S(d(b.substring(1),x));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(x,8));let R=h;for(let V=0;V<b.length;V+=8){var k=Math.min(8,b.length-V);const C=parseInt(b.substring(V,V+k),x);k<8?(k=u(Math.pow(x,k)),R=R.j(k).add(u(C))):(R=R.j(A),R=R.add(u(C)))}return R}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-S(this).m();let b=0,x=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);b+=(R>=0?R:4294967296+R)*x,x*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(y(this))return"0";if(w(this))return"-"+S(this).toString(b);const x=u(Math.pow(b,6));var A=this;let R="";for(;;){const k=P(A,x).g;A=_(A,k.j(x));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(b);if(A=k,y(A))return V+R;for(;V.length<6;)V="0"+V;R=V+R}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function y(b){if(b.h!=0)return!1;for(let x=0;x<b.g.length;x++)if(b.g[x]!=0)return!1;return!0}function w(b){return b.h==-1}t.l=function(b){return b=_(this,b),w(b)?-1:y(b)?0:1};function S(b){const x=b.g.length,A=[];for(let R=0;R<x;R++)A[R]=~b.g[R];return new o(A,~b.h).add(p)}t.abs=function(){return w(this)?S(this):this},t.add=function(b){const x=Math.max(this.g.length,b.g.length),A=[];let R=0;for(let k=0;k<=x;k++){let V=R+(this.i(k)&65535)+(b.i(k)&65535),C=(V>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);R=C>>>16,V&=65535,C&=65535,A[k]=C<<16|V}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(b,x){return b.add(S(x))}t.j=function(b){if(y(this)||y(b))return h;if(w(this))return w(b)?S(this).j(S(b)):S(S(this).j(b));if(w(b))return S(this.j(S(b)));if(this.l(g)<0&&b.l(g)<0)return u(this.m()*b.m());const x=this.g.length+b.g.length,A=[];for(var R=0;R<2*x;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let k=0;k<b.g.length;k++){const V=this.i(R)>>>16,C=this.i(R)&65535,Z=b.i(k)>>>16,_e=b.i(k)&65535;A[2*R+2*k]+=C*_e,E(A,2*R+2*k),A[2*R+2*k+1]+=V*_e,E(A,2*R+2*k+1),A[2*R+2*k+1]+=C*Z,E(A,2*R+2*k+1),A[2*R+2*k+2]+=V*Z,E(A,2*R+2*k+2)}for(b=0;b<x;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=x;b<2*x;b++)A[b]=0;return new o(A,0)};function E(b,x){for(;(b[x]&65535)!=b[x];)b[x+1]+=b[x]>>>16,b[x]&=65535,x++}function v(b,x){this.g=b,this.h=x}function P(b,x){if(y(x))throw Error("division by zero");if(y(b))return new v(h,h);if(w(b))return x=P(S(b),x),new v(S(x.g),S(x.h));if(w(x))return x=P(b,S(x)),new v(S(x.g),x.h);if(b.g.length>30){if(w(b)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var A=p,R=x;R.l(b)<=0;)A=O(A),R=O(R);var k=M(A,1),V=M(R,1);for(R=M(R,2),A=M(A,2);!y(R);){var C=V.add(R);C.l(b)<=0&&(k=k.add(A),V=C),R=M(R,1),A=M(A,1)}return x=_(b,k.j(x)),new v(k,x)}for(k=h;b.l(x)>=0;){for(A=Math.max(1,Math.floor(b.m()/x.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),V=u(A),C=V.j(x);w(C)||C.l(b)>0;)A-=R,V=u(A),C=V.j(x);y(V)&&(V=p),k=k.add(V),b=_(b,C)}return new v(k,b)}t.B=function(b){return P(this,b).h},t.and=function(b){const x=Math.max(this.g.length,b.g.length),A=[];for(let R=0;R<x;R++)A[R]=this.i(R)&b.i(R);return new o(A,this.h&b.h)},t.or=function(b){const x=Math.max(this.g.length,b.g.length),A=[];for(let R=0;R<x;R++)A[R]=this.i(R)|b.i(R);return new o(A,this.h|b.h)},t.xor=function(b){const x=Math.max(this.g.length,b.g.length),A=[];for(let R=0;R<x;R++)A[R]=this.i(R)^b.i(R);return new o(A,this.h^b.h)};function O(b){const x=b.g.length+1,A=[];for(let R=0;R<x;R++)A[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(A,b.h)}function M(b,x){const A=x>>5;x%=32;const R=b.g.length-A,k=[];for(let V=0;V<R;V++)k[V]=x>0?b.i(V+A)>>>x|b.i(V+A+1)<<32-x:b.i(V+A);return new o(k,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,is=o}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FR,ec,UR,Xd,Py,BR,zR,$R;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var L=c[I];if(!(L in m))break e;m=m[L]}c=c[c.length-1],I=m[c],f=f(I),f!=I&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(f){var m=[],I;for(I in f)Object.prototype.hasOwnProperty.call(f,I)&&m.push([I,f[I]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,m){return c.call.apply(c.bind,arguments)}function u(c,f,m){return u=l,u.apply(null,arguments)}function d(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function h(c,f){function m(){}m.prototype=f.prototype,c.Z=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Ob=function(I,L,j){for(var q=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)q[ce-2]=arguments[ce];return f.prototype[L].apply(I,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const f=c.length;if(f>0){const m=Array(f);for(let I=0;I<f;I++)m[I]=c[I];return m}return[]}function y(c,f){for(let I=1;I<arguments.length;I++){const L=arguments[I];var m=typeof L;if(m=m!="object"?m:L?Array.isArray(L)?"array":m:"null",m=="array"||m=="object"&&typeof L.length=="number"){m=c.length||0;const j=L.length||0;c.length=m+j;for(let q=0;q<j;q++)c[m+q]=L[q]}else c.push(L)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function S(c){o.setTimeout(()=>{throw c},0)}function _(){var c=b;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class E{constructor(){this.h=this.g=null}add(f,m){const I=v.get();I.set(f,m),this.h?this.h.next=I:this.g=I,this.h=I}}var v=new w(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,b=new E,x=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(A)}};function A(){for(var c;c=_();){try{c.h.call(c.g)}catch(m){S(m)}var f=v;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return c}();function C(c){return/^[\s\xa0]*$/.test(c)}function Z(c,f){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}h(Z,k),Z.prototype.init=function(c,f){const m=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),fe=0;function Xe(c,f,m,I,L){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!I,this.ha=L,this.key=++fe,this.da=this.fa=!1}function $(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function K(c,f,m){for(const I in c)f.call(m,c[I],I,c)}function se(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function J(c){const f={};for(const m in c)f[m]=c[m];return f}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(c,f){let m,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(m in I)c[m]=I[m];for(let j=0;j<de.length;j++)m=de[j],Object.prototype.hasOwnProperty.call(I,m)&&(c[m]=I[m])}}function Se(c){this.src=c,this.g={},this.h=0}Se.prototype.add=function(c,f,m,I,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const q=Ce(c,f,I,L);return q>-1?(f=c[q],m||(f.fa=!1)):(f=new Xe(f,this.src,j,!!I,L),f.fa=m,c.push(f)),f};function At(c,f){const m=f.type;if(m in c.g){var I=c.g[m],L=Array.prototype.indexOf.call(I,f,void 0),j;(j=L>=0)&&Array.prototype.splice.call(I,L,1),j&&($(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Ce(c,f,m,I){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==I)return L}return-1}var Yt="closure_lm_"+(Math.random()*1e6|0),li={};function Pr(c,f,m,I,L){if(I&&I.once)return er(c,f,m,I,L);if(Array.isArray(f)){for(let j=0;j<f.length;j++)Pr(c,f[j],m,I,L);return null}return m=ci(m),c&&c[_e]?c.J(f,m,a(I)?!!I.capture:!!I,L):wn(c,f,m,!1,I,L)}function wn(c,f,m,I,L,j){if(!f)throw Error("Invalid event type");const q=a(L)?!!L.capture:!!L;let ce=tr(c);if(ce||(c[Yt]=ce=new Se(c)),m=ce.add(f,m,I,q,j),m.proxy)return m;if(I=Xt(),m.proxy=I,I.src=c,I.listener=m,c.addEventListener)V||(L=q),L===void 0&&(L=!1),c.addEventListener(f.toString(),I,L);else if(c.attachEvent)c.attachEvent(vl(f.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Xt(){function c(m){return f.call(c.src,c.listener,m)}const f=Uu;return c}function er(c,f,m,I,L){if(Array.isArray(f)){for(let j=0;j<f.length;j++)er(c,f[j],m,I,L);return null}return m=ci(m),c&&c[_e]?c.K(f,m,a(I)?!!I.capture:!!I,L):wn(c,f,m,!0,I,L)}function yl(c,f,m,I,L){if(Array.isArray(f))for(var j=0;j<f.length;j++)yl(c,f[j],m,I,L);else I=a(I)?!!I.capture:!!I,m=ci(m),c&&c[_e]?(c=c.i,j=String(f).toString(),j in c.g&&(f=c.g[j],m=Ce(f,m,I,L),m>-1&&($(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete c.g[j],c.h--)))):c&&(c=tr(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Ce(f,m,I,L)),(m=c>-1?f[c]:null)&&Mo(m))}function Mo(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[_e])At(f.i,c);else{var m=c.type,I=c.proxy;f.removeEventListener?f.removeEventListener(m,I,c.capture):f.detachEvent?f.detachEvent(vl(m),I):f.addListener&&f.removeListener&&f.removeListener(I),(m=tr(f))?(At(m,c),m.h==0&&(m.src=null,f[Yt]=null)):$(c)}}}function vl(c){return c in li?li[c]:li[c]="on"+c}function Uu(c,f){if(c.da)c=!0;else{f=new Z(f,this);const m=c.listener,I=c.ha||c.src;c.fa&&Mo(c),c=m.call(I,f)}return c}function tr(c){return c=c[Yt],c instanceof Se?c:null}var Ss="__closure_events_fn_"+(Math.random()*1e9>>>0);function ci(c){return typeof c=="function"?c:(c[Ss]||(c[Ss]=function(f){return c.handleEvent(f)}),c[Ss])}function Ke(){R.call(this),this.i=new Se(this),this.M=this,this.G=null}h(Ke,R),Ke.prototype[_e]=!0,Ke.prototype.removeEventListener=function(c,f,m,I){yl(this,c,f,m,I)};function wt(c,f){var m,I=c.G;if(I)for(m=[];I;I=I.G)m.push(I);if(c=c.M,I=f.type||f,typeof f=="string")f=new k(f,c);else if(f instanceof k)f.target=f.target||c;else{var L=f;f=new k(I,c),_t(f,L)}L=!0;let j,q;if(m)for(q=m.length-1;q>=0;q--)j=f.g=m[q],L=jo(j,I,!0,f)&&L;if(j=f.g=c,L=jo(j,I,!0,f)&&L,L=jo(j,I,!1,f)&&L,m)for(q=0;q<m.length;q++)j=f.g=m[q],L=jo(j,I,!1,f)&&L}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const m=c.g[f];for(let I=0;I<m.length;I++)$(m[I]);delete c.g[f],c.h--}}this.G=null},Ke.prototype.J=function(c,f,m,I){return this.i.add(String(c),f,!1,m,I)},Ke.prototype.K=function(c,f,m,I){return this.i.add(String(c),f,!0,m,I)};function jo(c,f,m,I){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let L=!0;for(let j=0;j<f.length;++j){const q=f[j];if(q&&!q.da&&q.capture==m){const ce=q.listener,ot=q.ha||q.src;q.fa&&At(c.i,q),L=ce.call(ot,I)!==!1&&L}}return L&&!I.defaultPrevented}function Ip(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function H(c){c.g=Ip(()=>{c.g=null,c.i&&(c.i=!1,H(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class ne extends R{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:H(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(c){R.call(this),this.h=c,this.g={}}h(Ae,R);var Ge=[];function Pt(c){K(c.g,function(f,m){this.g.hasOwnProperty(m)&&Mo(f)},c),c.g={}}Ae.prototype.N=function(){Ae.Z.N.call(this),Pt(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=o.JSON.stringify,ui=o.JSON.parse,_l=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Fo(){}function Uo(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Is(){k.call(this,"d")}h(Is,k);function bs(){k.call(this,"c")}h(bs,k);var Ln={},Bo=null;function zo(){return Bo=Bo||new Ke}Ln.Ia="serverreachability";function O_(c){k.call(this,Ln.Ia,c)}h(O_,k);function wl(c){const f=zo();wt(f,new O_(f))}Ln.STAT_EVENT="statevent";function V_(c,f){k.call(this,Ln.STAT_EVENT,c),this.stat=f}h(V_,k);function Ft(c){const f=zo();wt(f,new V_(f,c))}Ln.Ja="timingevent";function L_(c,f){k.call(this,Ln.Ja,c),this.size=f}h(L_,k);function xl(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function El(){this.g=!0}El.prototype.ua=function(){this.g=!1};function b2(c,f,m,I,L,j){c.info(function(){if(c.g)if(j){var q="",ce=j.split("&");for(let Ie=0;Ie<ce.length;Ie++){var ot=ce[Ie].split("=");if(ot.length>1){const ft=ot[0];ot=ot[1];const ir=ft.split("_");q=ir.length>=2&&ir[1]=="type"?q+(ft+"="+ot+"&"):q+(ft+"=redacted&")}}}else q=null;else q=j;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+f+`
`+m+`
`+q})}function A2(c,f,m,I,L,j,q){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+f+`
`+m+`
`+j+" "+q})}function $o(c,f,m,I){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+R2(c,m)+(I?" "+I:"")})}function P2(c,f){c.info(function(){return"TIMEOUT: "+f})}El.prototype.info=function(){};function R2(c,f){if(!c.g)return f;if(!f)return null;try{const j=JSON.parse(f);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var m=j[c];if(!(m.length<2)){var I=m[1];if(Array.isArray(I)&&!(I.length<1)){var L=I[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<I.length;q++)I[q]=""}}}}return Rr(j)}catch{return f}}var Bu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},M_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},j_;function bp(){}h(bp,Fo),bp.prototype.g=function(){return new XMLHttpRequest},j_=new bp;function Tl(c){return encodeURIComponent(String(c))}function C2(c){var f=1;c=c.split(":");const m=[];for(;f>0&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function di(c,f,m,I){this.j=c,this.i=f,this.l=m,this.S=I||1,this.V=new Ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new F_}function F_(){this.i=null,this.g="",this.h=!1}var U_={},Ap={};function Pp(c,f,m){c.M=1,c.A=$u(rr(f)),c.u=m,c.R=!0,B_(c,null)}function B_(c,f){c.F=Date.now(),zu(c),c.B=rr(c.A);var m=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),ew(m.i,"t",I),c.C=0,m=c.j.L,c.h=new F_,c.g=vw(c.j,m?f:null,!c.u),c.P>0&&(c.O=new ne(u(c.Y,c,c.g),c.P)),f=c.V,m=c.g,I=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ge[0]=L.toString()),L=Ge);for(let j=0;j<L.length;j++){const q=Pr(m,L[j],I||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=c.J?J(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),wl(),b2(c.i,c.v,c.B,c.l,c.S,c.u)}di.prototype.ba=function(c){c=c.target;const f=this.O;f&&pi(c)==3?f.j():this.Y(c)},di.prototype.Y=function(c){try{if(c==this.g)e:{const ce=pi(this.g),ot=this.g.ya(),Ie=this.g.ca();if(!(ce<3)&&(ce!=3||this.g&&(this.h.h||this.g.la()||aw(this.g)))){this.K||ce!=4||ot==7||(ot==8||Ie<=0?wl(3):wl(2)),Rp(this);var f=this.g.ca();this.X=f;var m=k2(this);if(this.o=f==200,A2(this.i,this.v,this.B,this.l,this.S,ce,f),this.o){if(this.U&&!this.L){t:{if(this.g){var I,L=this.g;if((I=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(I)){var j=I;break t}}j=null}if(c=j)$o(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cp(this,c);else{this.o=!1,this.m=3,Ft(12),As(this),Sl(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<m.length;)if(ft=N2(this,m),ft==Ap){ce==4&&(this.m=4,Ft(14),c=!1),$o(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==U_){this.m=4,Ft(15),$o(this.i,this.l,m,"[Invalid Chunk]"),c=!1;break}else $o(this.i,this.l,ft,null),Cp(this,ft);if(z_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ce!=4||m.length!=0||this.h.h||(this.m=1,Ft(16),c=!1),this.o=this.o&&c,!c)$o(this.i,this.l,m,"[Invalid Chunked Response]"),As(this),Sl(this);else if(m.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),jp(q),q.P=!0,Ft(11))}}else $o(this.i,this.l,m,null),Cp(this,m);ce==4&&As(this),this.o&&!this.K&&(ce==4?pw(this.j,this):(this.o=!1,zu(this)))}else W2(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),As(this),Sl(this)}}}catch{}finally{}};function k2(c){if(!z_(c))return c.g.la();const f=aw(c.g);if(f==="")return"";let m="";const I=f.length,L=pi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return As(c),Sl(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<I;j++)c.h.h=!0,m+=c.h.i.decode(f[j],{stream:!(L&&j==I-1)});return f.length=0,c.h.g+=m,c.C=0,c.h.g}function z_(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function N2(c,f){var m=c.C,I=f.indexOf(`
`,m);return I==-1?Ap:(m=Number(f.substring(m,I)),isNaN(m)?U_:(I+=1,I+m>f.length?Ap:(f=f.slice(I,I+m),c.C=I+m,f)))}di.prototype.cancel=function(){this.K=!0,As(this)};function zu(c){c.T=Date.now()+c.H,$_(c,c.H)}function $_(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=xl(u(c.aa,c),f)}function Rp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}di.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(P2(this.i,this.B),this.M!=2&&(wl(),Ft(17)),As(this),this.m=2,Sl(this)):$_(this,this.T-c)};function Sl(c){c.j.I==0||c.K||pw(c.j,c)}function As(c){Rp(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,Pt(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function Cp(c,f){try{var m=c.j;if(m.I!=0&&(m.g==c||kp(m.h,c))){if(!c.L&&kp(m.h,c)&&m.I==3){try{var I=m.Ba.g.parse(f)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<c.F)Gu(m),Wu(m);else break e;Mp(m),Ft(18)}}else m.xa=L[1],0<m.xa-m.K&&L[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=xl(u(m.Va,m),6e3));W_(m.h)<=1&&m.ta&&(m.ta=void 0)}else Rs(m,11)}else if((c.L||m.g==c)&&Gu(m),!C(f))for(L=m.Ba.g.parse(f),f=0;f<L.length;f++){let Ie=L[f];const ft=Ie[0];if(!(ft<=m.K))if(m.K=ft,Ie=Ie[1],m.I==2)if(Ie[0]=="c"){m.M=Ie[1],m.ba=Ie[2];const ir=Ie[3];ir!=null&&(m.ka=ir,m.j.info("VER="+m.ka));const Cs=Ie[4];Cs!=null&&(m.za=Cs,m.j.info("SVER="+m.za));const mi=Ie[5];mi!=null&&typeof mi=="number"&&mi>0&&(I=1.5*mi,m.O=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const gi=c.g;if(gi){const Yu=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var j=I.h;j.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Np(j,j.h),j.h=null))}if(I.G){const Fp=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(I.wa=Fp,ke(I.J,I.G,Fp))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-c.F,m.j.info("Handshake RTT: "+m.T+"ms")),I=m;var q=c;if(I.na=yw(I,I.L?I.ba:null,I.W),q.L){K_(I.h,q);var ce=q,ot=I.O;ot&&(ce.H=ot),ce.D&&(Rp(ce),zu(ce)),I.g=q}else hw(I);m.i.length>0&&Ku(m)}else Ie[0]!="stop"&&Ie[0]!="close"||Rs(m,7);else m.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Rs(m,7):Lp(m):Ie[0]!="noop"&&m.l&&m.l.qa(Ie),m.A=0)}}wl(4)}catch{}}var D2=class{constructor(c,f){this.g=c,this.map=f}};function q_(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function H_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function W_(c){return c.h?1:c.g?c.g.size:0}function kp(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Np(c,f){c.g?c.g.add(f):c.h=f}function K_(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}q_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function G_(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.G);return f}return g(c.i)}var Q_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O2(c,f){if(c){c=c.split("&");for(let m=0;m<c.length;m++){const I=c[m].indexOf("=");let L,j=null;I>=0?(L=c[m].substring(0,I),j=c[m].substring(I+1)):L=c[m],f(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function hi(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof hi?(this.l=c.l,Il(this,c.j),this.o=c.o,this.g=c.g,bl(this,c.u),this.h=c.h,Dp(this,tw(c.i)),this.m=c.m):c&&(f=String(c).match(Q_))?(this.l=!1,Il(this,f[1]||"",!0),this.o=Al(f[2]||""),this.g=Al(f[3]||"",!0),bl(this,f[4]),this.h=Al(f[5]||"",!0),Dp(this,f[6]||"",!0),this.m=Al(f[7]||"")):(this.l=!1,this.i=new Rl(null,this.l))}hi.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Pl(f,Y_,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Pl(f,Y_,!0),"@"),c.push(Tl(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&c.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Pl(m,m.charAt(0)=="/"?M2:L2,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Pl(m,F2)),c.join("")},hi.prototype.resolve=function(c){const f=rr(this);let m=!!c.j;m?Il(f,c.j):m=!!c.o,m?f.o=c.o:m=!!c.g,m?f.g=c.g:m=c.u!=null;var I=c.h;if(m)bl(f,c.u);else if(m=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var L=f.h.lastIndexOf("/");L!=-1&&(I=f.h.slice(0,L+1)+I)}if(L=I,L==".."||L==".")I="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){I=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let q=0;q<L.length;){const ce=L[q++];ce=="."?I&&q==L.length&&j.push(""):ce==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),I&&q==L.length&&j.push("")):(j.push(ce),I=!0)}I=j.join("/")}else I=L}return m?f.h=I:m=c.i.toString()!=="",m?Dp(f,tw(c.i)):m=!!c.m,m&&(f.m=c.m),f};function rr(c){return new hi(c)}function Il(c,f,m){c.j=m?Al(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function bl(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Dp(c,f,m){f instanceof Rl?(c.i=f,U2(c.i,c.l)):(m||(f=Pl(f,j2)),c.i=new Rl(f,c.l))}function ke(c,f,m){c.i.set(f,m)}function $u(c){return ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Al(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pl(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,V2),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function V2(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Y_=/[#\/\?@]/g,L2=/[#\?:]/g,M2=/[#\?]/g,j2=/[#\?@]/g,F2=/#/g;function Rl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Ps(c){c.g||(c.g=new Map,c.h=0,c.i&&O2(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Rl.prototype,t.add=function(c,f){Ps(this),this.i=null,c=qo(this,c);let m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function X_(c,f){Ps(c),f=qo(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function J_(c,f){return Ps(c),f=qo(c,f),c.g.has(f)}t.forEach=function(c,f){Ps(this),this.g.forEach(function(m,I){m.forEach(function(L){c.call(f,L,I,this)},this)},this)};function Z_(c,f){Ps(c);let m=[];if(typeof f=="string")J_(c,f)&&(m=m.concat(c.g.get(qo(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)m=m.concat(c[f]);return m}t.set=function(c,f){return Ps(this),this.i=null,c=qo(this,c),J_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=Z_(this,c),c.length>0?String(c[0]):f):f};function ew(c,f,m){X_(c,f),m.length>0&&(c.i=null,c.g.set(qo(c,f),g(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let I=0;I<f.length;I++){var m=f[I];const L=Tl(m);m=Z_(this,m);for(let j=0;j<m.length;j++){let q=L;m[j]!==""&&(q+="="+Tl(m[j])),c.push(q)}}return this.i=c.join("&")};function tw(c){const f=new Rl;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function qo(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function U2(c,f){f&&!c.j&&(Ps(c),c.i=null,c.g.forEach(function(m,I){const L=I.toLowerCase();I!=L&&(X_(this,I),ew(this,L,m))},c)),c.j=f}function B2(c,f){const m=new El;if(o.Image){const I=new Image;I.onload=d(fi,m,"TestLoadImage: loaded",!0,f,I),I.onerror=d(fi,m,"TestLoadImage: error",!1,f,I),I.onabort=d(fi,m,"TestLoadImage: abort",!1,f,I),I.ontimeout=d(fi,m,"TestLoadImage: timeout",!1,f,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else f(!1)}function z2(c,f){const m=new El,I=new AbortController,L=setTimeout(()=>{I.abort(),fi(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:I.signal}).then(j=>{clearTimeout(L),j.ok?fi(m,"TestPingServer: ok",!0,f):fi(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),fi(m,"TestPingServer: error",!1,f)})}function fi(c,f,m,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(m)}catch{}}function $2(){this.g=new _l}function Op(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Op,Fo),Op.prototype.g=function(){return new qu(this.i,this.h)};function qu(c,f){Ke.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(qu,Ke),t=qu.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,kl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function nw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Cl(this):kl(this),this.readyState==3&&nw(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Cl(this))},t.Na=function(c){this.g&&(this.response=c,Cl(this))},t.ga=function(){this.g&&Cl(this)};function Cl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,kl(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function kl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rw(c){let f="";return K(c,function(m,I){f+=I,f+=":",f+=m,f+=`\r
`}),f}function Vp(c,f,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=rw(m),typeof c=="string"?m!=null&&Tl(m):ke(c,f,m))}function $e(c){Ke.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h($e,Ke);var q2=/^https?$/i,H2=["POST","PUT"];t=$e.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():j_.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(j){iw(this,j);return}if(c=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)m.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const j of I.keys())m.set(j,I.get(j));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(H2,f,void 0)>=0)||I||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of m)this.g.setRequestHeader(j,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){iw(this,j)}};function iw(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,sw(c),Hu(c)}function sw(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,wt(this,"complete"),wt(this,"abort"),Hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ow(this):this.Xa())},t.Xa=function(){ow(this)};function ow(c){if(c.h&&typeof s<"u"){if(c.v&&pi(c)==4)setTimeout(c.Ca.bind(c),0);else if(wt(c,"readystatechange"),pi(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var I;if(I=j===0){let q=String(c.D).match(Q_)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),I=!q2.test(q?q.toLowerCase():"")}m=I}if(m)wt(c,"complete"),wt(c,"success");else{c.o=6;try{var L=pi(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",sw(c)}}finally{Hu(c)}}}}function Hu(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const m=c.g;c.g=null,f||wt(c,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(c){return c.g?c.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),ui(f)}};function aw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function W2(c){const f={};c=(c.g&&pi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(C(c[I]))continue;var m=C2(c[I]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[L]||[];f[L]=j,j.push(m)}se(f,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nl(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function lw(c){this.za=0,this.i=[],this.j=new El,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nl("baseRetryDelayMs",5e3,c),this.Za=Nl("retryDelaySeedMs",1e4,c),this.Ta=Nl("forwardChannelMaxRetries",2,c),this.va=Nl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new q_(c&&c.concurrentRequestLimit),this.Ba=new $2,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lw.prototype,t.ka=8,t.I=1,t.connect=function(c,f,m,I){Ft(0),this.W=c,this.H=f||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.J=yw(this,null,this.W),Ku(this)};function Lp(c){if(cw(c),c.I==3){var f=c.V++,m=rr(c.J);if(ke(m,"SID",c.M),ke(m,"RID",f),ke(m,"TYPE","terminate"),Dl(c,m),f=new di(c,c.j,f),f.M=2,f.A=$u(rr(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=vw(f.j,null),f.g.ea(f.A)),f.F=Date.now(),zu(f)}gw(c)}function Wu(c){c.g&&(jp(c),c.g.cancel(),c.g=null)}function cw(c){Wu(c),c.v&&(o.clearTimeout(c.v),c.v=null),Gu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Ku(c){if(!H_(c.h)&&!c.m){c.m=!0;var f=c.Ea;O||x(),M||(O(),M=!0),b.add(f,c),c.D=0}}function K2(c,f){return W_(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=xl(u(c.Ea,c,f),mw(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new di(this,this.j,c);let j=this.o;if(this.U&&(j?(j=J(j),_t(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(f+=I,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=dw(this,L,f),m=rr(this.J),ke(m,"RID",c),ke(m,"CVER",22),this.G&&ke(m,"X-HTTP-Session-Id",this.G),Dl(this,m),j&&(this.R?f="headers="+Tl(rw(j))+"&"+f:this.u&&Vp(m,this.u,j)),Np(this.h,L),this.Ra&&ke(m,"TYPE","init"),this.S?(ke(m,"$req",f),ke(m,"SID","null"),L.U=!0,Pp(L,m,null)):Pp(L,m,f),this.I=2}}else this.I==3&&(c?uw(this,c):this.i.length==0||H_(this.h)||uw(this))};function uw(c,f){var m;f?m=f.l:m=c.V++;const I=rr(c.J);ke(I,"SID",c.M),ke(I,"RID",m),ke(I,"AID",c.K),Dl(c,I),c.u&&c.o&&Vp(I,c.u,c.o),m=new di(c,c.j,m,c.D+1),c.u===null&&(m.J=c.o),f&&(c.i=f.G.concat(c.i)),f=dw(c,m,1e3),m.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Np(c.h,m),Pp(m,I,f)}function Dl(c,f){c.H&&K(c.H,function(m,I){ke(f,I,m)}),c.l&&K({},function(m,I){ke(f,I,m)})}function dw(c,f,m){m=Math.min(c.i.length,m);const I=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let ce=-1;for(;;){const ot=["count="+m];ce==-1?m>0?(ce=L[0].g,ot.push("ofs="+ce)):ce=0:ot.push("ofs="+ce);let Ie=!0;for(let ft=0;ft<m;ft++){var j=L[ft].g;const ir=L[ft].map;if(j-=ce,j<0)ce=Math.max(0,L[ft].g-100),Ie=!1;else try{j="req"+j+"_"||"";try{var q=ir instanceof Map?ir:Object.entries(ir);for(const[Cs,mi]of q){let gi=mi;a(mi)&&(gi=Rr(mi)),ot.push(j+Cs+"="+encodeURIComponent(gi))}}catch(Cs){throw ot.push(j+"type="+encodeURIComponent("_badmap")),Cs}}catch{I&&I(ir)}}if(Ie){q=ot.join("&");break e}}q=void 0}return c=c.i.splice(0,m),f.G=c,q}function hw(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;O||x(),M||(O(),M=!0),b.add(f,c),c.A=0}}function Mp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=xl(u(c.Da,c),mw(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,fw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=xl(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),Wu(this),fw(this))};function jp(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function fw(c){c.g=new di(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=rr(c.na);ke(f,"RID","rpc"),ke(f,"SID",c.M),ke(f,"AID",c.K),ke(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&ke(f,"TO",c.ia),ke(f,"TYPE","xmlhttp"),Dl(c,f),c.u&&c.o&&Vp(f,c.u,c.o),c.O&&(c.g.H=c.O);var m=c.g;c=c.ba,m.M=1,m.A=$u(rr(f)),m.u=null,m.R=!0,B_(m,c)}t.Va=function(){this.C!=null&&(this.C=null,Wu(this),Mp(this),Ft(19))};function Gu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function pw(c,f){var m=null;if(c.g==f){Gu(c),jp(c),c.g=null;var I=2}else if(kp(c.h,f))m=f.G,K_(c.h,f),I=1;else return;if(c.I!=0){if(f.o)if(I==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var L=c.D;I=zo(),wt(I,new L_(I,m)),Ku(c)}else hw(c);else if(L=f.m,L==3||L==0&&f.X>0||!(I==1&&K2(c,f)||I==2&&Mp(c)))switch(m&&m.length>0&&(f=c.h,f.i=f.i.concat(m)),L){case 1:Rs(c,5);break;case 4:Rs(c,10);break;case 3:Rs(c,6);break;default:Rs(c,2)}}}function mw(c,f){let m=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(m*=2),m*f}function Rs(c,f){if(c.j.info("Error code "+f),f==2){var m=u(c.bb,c),I=c.Ua;const L=!I;I=new hi(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Il(I,"https"),$u(I),L?B2(I.toString(),m):z2(I.toString(),m)}else Ft(2);c.I=0,c.l&&c.l.pa(f),gw(c),cw(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function gw(c){if(c.I=0,c.ja=[],c.l){const f=G_(c.h);(f.length!=0||c.i.length!=0)&&(y(c.ja,f),y(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function yw(c,f,m){var I=m instanceof hi?rr(m):new hi(m);if(I.g!="")f&&(I.g=f+"."+I.g),bl(I,I.u);else{var L=o.location;I=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;const j=new hi(null);I&&Il(j,I),f&&(j.g=f),L&&bl(j,L),m&&(j.h=m),I=j}return m=c.G,f=c.wa,m&&f&&ke(I,m,f),ke(I,"VER",c.ka),Dl(c,I),I}function vw(c,f,m){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new $e(new Op({ab:m})):new $e(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _w(){}t=_w.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qu(){}Qu.prototype.g=function(c,f){return new dn(c,f)};function dn(c,f){Ke.call(this),this.g=new lw(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!C(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!C(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ho(this)}h(dn,Ke),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Lp(this.g)},dn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.v&&(m={},m.__data__=Rr(c),c=m);f.i.push(new D2(f.Ya++,c)),f.I==3&&Ku(f)},dn.prototype.N=function(){this.g.l=null,delete this.j,Lp(this.g),delete this.g,dn.Z.N.call(this)};function ww(c){Is.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}h(ww,Is);function xw(){bs.call(this),this.status=1}h(xw,bs);function Ho(c){this.g=c}h(Ho,_w),Ho.prototype.ra=function(){wt(this.g,"a")},Ho.prototype.qa=function(c){wt(this.g,new ww(c))},Ho.prototype.pa=function(c){wt(this.g,new xw)},Ho.prototype.oa=function(){wt(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,$R=function(){return new Qu},zR=function(){return zo()},BR=Ln,Py={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bu.NO_ERROR=0,Bu.TIMEOUT=8,Bu.HTTP_ERROR=6,Xd=Bu,M_.COMPLETE="complete",UR=M_,Uo.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,ec=Uo,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,FR=$e}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const N1="@firebase/firestore",D1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Jf("@firebase/firestore");function Go(){return go.logLevel}function Q(t,...e){if(go.logLevel<=pe.DEBUG){const n=e.map(B0);go.debug(`Firestore (${ul}): ${t}`,...n)}}function ri(t,...e){if(go.logLevel<=pe.ERROR){const n=e.map(B0);go.error(`Firestore (${ul}): ${t}`,...n)}}function Ya(t,...e){if(go.logLevel<=pe.WARN){const n=e.map(B0);go.warn(`Firestore (${ul}): ${t}`,...n)}}function B0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qR(t,r,n)}function qR(t,e,n){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ri(r),new Error(r)}function Ee(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||qR(e,i,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class a9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l9{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ss,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ss)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new HR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class c9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new c9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=h9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Ry(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Dm(i)===Dm(s)?me(i,s):Dm(i)?1:-1}return me(t.length,e.length)}const f9=55296,p9=57343;function Dm(t){const e=t.charCodeAt(0);return e>=f9&&e<=p9}function Xa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__name__";class cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=cr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return me(e.length,n.length)}static compareSegments(e,n){const r=cr.isNumericId(e),i=cr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?cr.extractNumericId(e).compare(cr.extractNumericId(n)):Ry(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class Pe extends cr{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const m9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends cr{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return m9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V1}static keyField(){return new Tt([V1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Pe.fromString(e))}static fromName(e){return new ee(Pe.fromString(e).popFirst(5))}static empty(){return new ee(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g9(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L1(t){if(!ee.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M1(t){if(ee.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Kc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rp(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nu(t,e){if(!KR(t))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=-62135596800,F1=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F1);return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j1)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:nt("string",xe._jsonSchemaVersion),seconds:nt("number"),nanoseconds:nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new xe(0,0))}static max(){return new oe(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=-1;function y9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new hs(i,ee.empty(),e)}function v9(t){return new hs(t.readTime,t.key,Gc)}class hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hs(oe.min(),ee.empty(),Gc)}static max(){return new hs(oe.max(),ee.empty(),Gc)}}function _9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==w9)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function E9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ip.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-1;function sp(t){return t==null}function Zh(t){return t===0&&1/t==-1/0}function T9(t){return typeof t=="number"&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="";function S9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U1(e)),e=I9(t.get(n),e);return U1(e)}function I9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case GR:n+="";break;default:n+=s}}return n}function U1(t){return t+GR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Et.RED,this.left=i??Et.EMPTY,this.right=s??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new qn([])}unionWith(e){let n=new ht(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YR("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const b9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=b9.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="server_timestamp",JR="__type__",ZR="__previous_value__",eC="__local_write_time__";function q0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JR])==null?void 0:r.stringValue)===XR}function op(t){const e=t.mapValue.fields[ZR];return q0(e)?op(e):e}function Qc(t){const e=fs(t.mapValue.fields[eC].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const ef="(default)";class Yc{constructor(e,n){this.projectId=e,this.database=n||ef}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===ef}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__type__",nC="__max__",Sd={mapValue:{fields:{__type__:{stringValue:nC}}}},rC="__vector__",tf="value";function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q0(t)?4:R9(t)?9007199254740991:P9(t)?10:11:ie(28295,{value:t})}function Sr(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fs(i.timestampValue),a=fs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ps(i.bytesValue).isEqual(ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Zh(o)===Zh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xa(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(B1(o)!==B1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Sr(o[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Xc(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Ja(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $1(t.timestampValue,e.timestampValue);case 4:return $1(Qc(t),Qc(e));case 5:return Ry(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ps(s),l=ps(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=me(a[u],l[u]);if(d!==0)return d}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=me(Qe(s.latitude),Qe(o.latitude));return a!==0?a:me(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,g,y,w;const a=s.fields||{},l=o.fields||{},u=(p=a[tf])==null?void 0:p.arrayValue,d=(g=l[tf])==null?void 0:g.arrayValue,h=me(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return h!==0?h:q1(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sd.mapValue&&o===Sd.mapValue)return 0;if(s===Sd.mapValue)return 1;if(o===Sd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Ry(l[h],d[h]);if(p!==0)return p;const g=Ja(a[l[h]],u[d[h]]);if(g!==0)return g}return me(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function $1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=fs(t),r=fs(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function q1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ja(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function Za(t){return Cy(t)}function Cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Cy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Cy(n.fields[o])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function Jd(t){switch(ms(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=op(t);return e?16+Jd(e):16;case 5:return 2*t.stringValue.length;case 6:return ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Jd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Co(r.fields,(s,o)=>{i+=s.length+Jd(o)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function H1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function H0(t){return!!t&&"arrayValue"in t}function W1(t){return!!t&&"nullValue"in t}function K1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zd(t){return!!t&&"mapValue"in t}function P9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tC])==null?void 0:r.stringValue)===rC}function vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return{...t}}function R9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new An(vc(this.value))}}function iC(t){const e=[];return Co(t.fields,(n,r)=>{const i=new Tt([n]);if(Zd(r)){const s=iC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,oe.min(),oe.min(),oe.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new Vt(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new Vt(e,2,n,oe.min(),oe.min(),An.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,oe.min(),oe.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.position=e,this.inclusive=n}}function G1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Ja(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function C9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sC=class{};class tt extends sC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N9(e,n,r):n==="array-contains"?new V9(e,r):n==="in"?new L9(e,r):n==="not-in"?new M9(e,r):n==="array-contains-any"?new j9(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D9(e,r):new O9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends sC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jn(e,n)}matches(e){return oC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oC(t){return t.op==="and"}function aC(t){return k9(t)&&oC(t)}function k9(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function Ny(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Za(t.value);if(aC(t))return t.filters.map(e=>Ny(e)).join(",");{const e=t.filters.map(n=>Ny(n)).join(",");return`${t.op}(${e})`}}function lC(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lC(o,i.filters[a]),!0):!1}(t,e):void ie(19439)}function cC(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(cC).join(" ,")+"}"}(t):"Filter"}class N9 extends tt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class D9 extends tt{constructor(e,n){super(e,"in",n),this.keys=uC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O9 extends tt{constructor(e,n){super(e,"not-in",n),this.keys=uC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class V9 extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return H0(n)&&Xc(n.arrayValue,this.value)}}class L9 extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class M9 extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xc(this.value.arrayValue,n)}}class j9 extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!H0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Y1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new F9(t,e,n,r,i,s,o)}function W0(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Za(r)).join(",")),e.Te=n}return e.Te}function K0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q1(t.startAt,e.startAt)&&Q1(t.endAt,e.endAt)}function Dy(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U9(t,e,n,r,i,s,o,a){return new fl(t,e,n,r,i,s,o,a)}function dC(t){return new fl(t)}function X1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hC(t){return t.collectionGroup!==null}function _c(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Jc(s,r))}),n.has(Tt.keyField().canonicalString())||e.Ie.push(new Jc(Tt.keyField(),r))}return e.Ie}function wr(t){const e=ae(t);return e.Ee||(e.Ee=B9(e,_c(t))),e.Ee}function B9(t,e){if(t.limitType==="F")return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Jc(i.field,s)});const n=t.endAt?new nf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nf(t.startAt.position,t.startAt.inclusive):null;return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e){const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vy(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ap(t,e){return K0(wr(t),wr(e))&&t.limitType===e.limitType}function fC(t){return`${W0(wr(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cC(i)).join(", ")}]`),sp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Za(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Za(i)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function lp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _c(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=G1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,_c(r),i)||r.endAt&&!function(o,a,l){const u=G1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,_c(r),i))}(t,e)}function z9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pC(t){return(e,n)=>{let r=!1;for(const i of _c(t)){const s=$9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $9(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ja(l,u):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new ze(ee.comparator);function ii(){return q9}const mC=new ze(ee.comparator);function tc(...t){let e=mC;for(const n of t)e=e.insert(n.key,n);return e}function gC(t){let e=mC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hs(){return wc()}function yC(){return wc()}function wc(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const H9=new ze(ee.comparator),W9=new ht(ee.comparator);function ge(...t){let e=W9;for(const n of t)e=e.add(n);return e}const K9=new ht(me);function G9(){return K9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function vC(t){return{integerValue:""+t}}function Q9(t,e){return T9(e)?vC(e):G0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this._=void 0}}function Y9(t,e,n){return t instanceof rf?function(i,s){const o={fields:{[JR]:{stringValue:XR},[eC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&q0(s)&&(s=op(s)),s&&(o.fields[ZR]=s),{mapValue:o}}(n,e):t instanceof Zc?wC(t,e):t instanceof eu?xC(t,e):function(i,s){const o=_C(i,s),a=J1(o)+J1(i.Ae);return ky(o)&&ky(i.Ae)?vC(a):G0(i.serializer,a)}(t,e)}function X9(t,e,n){return t instanceof Zc?wC(t,e):t instanceof eu?xC(t,e):n}function _C(t,e){return t instanceof sf?function(r){return ky(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class rf extends cp{}class Zc extends cp{constructor(e){super(),this.elements=e}}function wC(t,e){const n=EC(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends cp{constructor(e){super(),this.elements=e}}function xC(t,e){let n=EC(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class sf extends cp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J1(t){return Qe(t.integerValue||t.doubleValue)}function EC(t){return H0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zc&&i instanceof Zc||r instanceof eu&&i instanceof eu?Xa(r.elements,i.elements,Sr):r instanceof sf&&i instanceof sf?Sr(r.Ae,i.Ae):r instanceof rf&&i instanceof rf}(t.transform,e.transform)}class Z9{constructor(e,n){this.version=e,this.transformResults=n}}class Gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class up{}function TC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new IC(t.key,Gr.none()):new Du(t.key,t.data,Gr.none());{const n=t.data,r=An.empty();let i=new ht(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new No(t.key,r,new qn(i.toArray()),Gr.none())}}function eB(t,e,n){t instanceof Du?function(i,s,o){const a=i.value.clone(),l=eT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof No?function(i,s,o){if(!eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=eT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(SC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xc(t,e,n,r){return t instanceof Du?function(s,o,a,l){if(!eh(s.precondition,o))return a;const u=s.value.clone(),d=tT(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(s,o,a,l){if(!eh(s.precondition,o))return a;const u=tT(s.fieldTransforms,l,o),d=o.data;return d.setAll(SC(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_C(r.transform,i||null);s!=null&&(n===null&&(n=An.empty()),n.set(r.field,s))}return n||null}function Z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xa(r,i,(s,o)=>J9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Du extends up{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class No extends up{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eT(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,X9(o,a,n[i]))}return r}function tT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Y9(s,o,e))}return r}class IC extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nB extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=TC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,r)=>Z1(n,r))&&Xa(this.baseMutations,e.baseMutations,(n,r)=>Z1(n,r))}}class Q0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return H9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Q0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,ve;function oB(t){switch(t){case U.OK:return ie(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function bC(t){if(t===void 0)return ri("GRPC error has no .code"),U.UNKNOWN;switch(t){case Je.OK:return U.OK;case Je.CANCELLED:return U.CANCELLED;case Je.UNKNOWN:return U.UNKNOWN;case Je.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Je.INTERNAL:return U.INTERNAL;case Je.UNAVAILABLE:return U.UNAVAILABLE;case Je.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Je.NOT_FOUND:return U.NOT_FOUND;case Je.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Je.ABORTED:return U.ABORTED;case Je.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Je.DATA_LOSS:return U.DATA_LOSS;default:return ie(39323,{code:t})}}(ve=Je||(Je={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new is([4294967295,4294967295],0);function nT(t){const e=aB().encode(t),n=new jR;return n.update(e),new Uint8Array(n.digest())}function rT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new is([n,r],0),new is([i,s],0)]}class Y0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nc(`Invalid padding: ${n}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(is.fromNumber(r)));return i.compare(lB)===1&&(i=new is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nT(e),[r,i]=rT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Y0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=nT(e),[r,i]=rT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dp(oe.min(),i,new ze(me),ii(),ge())}}class Ou{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ou(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class AC{constructor(e,n){this.targetId=e,this.Ce=n}}class PC{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iT{constructor(){this.ve=0,this.Fe=sT(),this.Me=bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:s})}}),new Ou(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=sT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cB{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=Id(),this.He=Id(),this.Ye=new ze(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Dy(s))if(r===0){const o=new ee(s.path);this.et(n,o,Vt.newNoDocument(o,oe.min()))}else Ee(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ps(r).toUint8Array()}catch(l){if(l instanceof YR)return Ya("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Y0(o,i,s)}catch(l){return Ya(l instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Dy(a.target)){const l=new ee(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Vt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ge();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new dp(e,n,this.Ye,this.je,r);return this.je=ii(),this.Je=Id(),this.He=Id(),this.Ye=new ze(me),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Id(){return new ze(ee.comparator)}function sT(){return new ze(ee.comparator)}const uB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),dB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),hB=(()=>({and:"AND",or:"OR"}))();class fB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ly(t,e){return t.useProto3Json||sp(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pB(t,e){return of(t,e.toTimestamp())}function xr(t){return Ee(!!t,49232),oe.fromTimestamp(function(n){const r=fs(n);return new xe(r.seconds,r.nanos)}(t))}function X0(t,e){return My(t,e).canonicalString()}function My(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CC(t){const e=Pe.fromString(t);return Ee(VC(e),10190,{key:e.toString()}),e}function jy(t,e){return X0(t.databaseId,e.path)}function Om(t,e){const n=CC(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(NC(n))}function kC(t,e){return X0(t.databaseId,e)}function mB(t){const e=CC(t);return e.length===4?Pe.emptyPath():NC(e)}function Fy(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NC(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oT(t,e,n){return{name:jy(t,e),fields:n.value.mapValue.fields}}function gB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ee(d===void 0||typeof d=="string",58123),bt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:bC(u.code);return new G(d,u.message||"")}(o);n=new PC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Om(t,r.document.name),s=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):oe.min(),a=new An({mapValue:{fields:r.document.fields}}),l=Vt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new th(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Om(t,r.document),s=r.readTime?xr(r.readTime):oe.min(),o=Vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Om(t,r.document),s=r.removedTargetIds||[];n=new th([],s,i,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sB(i,s),a=r.targetId;n=new AC(a,o)}}return n}function yB(t,e){let n;if(e instanceof Du)n={update:oT(t,e.key,e.value)};else if(e instanceof IC)n={delete:jy(t,e.key)};else if(e instanceof No)n={update:oT(t,e.key,e.data),updateMask:bB(e.fieldMask)};else{if(!(e instanceof nB))return ie(16599,{Vt:e.type});n={verify:jy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof rf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie(27497)}(t,e.precondition)),n}function vB(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?xr(i.updateTime):xr(s);return o.isEqual(oe.min())&&(o=xr(s)),new Z9(o,i.transformResults||[])}(n,e))):[]}function _B(t,e){return{documents:[kC(t,e.path)]}}function wB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kC(t,i);const s=function(u){if(u.length!==0)return OC(Jn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Yo(p.field),direction:TB(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ly(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function xB(t){let e=mB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=DC(h);return p instanceof Jn&&aC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new Jc(Xo(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,sp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new nf(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new nf(g,p)}(n.endAt)),U9(e,i,o,s,a,"F",l,u)}function EB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xo(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xo(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xo(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xo(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return tt.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>DC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function TB(t){return uB[t]}function SB(t){return dB[t]}function IB(t){return hB[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return Tt.fromServerFormat(t.fieldPath)}function OC(t){return t instanceof tt?function(n){if(n.op==="=="){if(K1(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(W1(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K1(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(W1(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:SB(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(i=>OC(i));return r.length===1?r[0]:{compositeFilter:{op:IB(n.op),filters:r}}}(t):ie(54877,{filter:t})}function bB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.yt=e}}function PB(t){const e=xB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.Cn=new CB}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(hs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class CB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LC=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(LC,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="LruGarbageCollector",kB=1048576;function cT([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class NB{constructor(e){this.Ir=e,this.buffer=new ht(cT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(lT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?Q(lT,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Vr(3e5)})}}class OB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(ip.ce);const r=new NB(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(aT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Go()<=pe.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function VB(t,e){return new OB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xc(r.mutation,i,qn.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=tc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ii();const o=wc(),a=function(){return wc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof No)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),xc(d.mutation,u,d.mutation.getFieldMask(),xe.now())):o.set(u.key,qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new MB(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=wc();let i=new ze((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||qn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=yC();d.forEach(p=>{if(!s.has(p)){const g=TC(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Hs());let a=Gc,l=s;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:a,changes:gC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=tc();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const u=function(h,p){return new fl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Vt.newInvalidDocument(d)))});let a=tc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&xc(d.mutation,u,qn.empty(),xe.now()),lp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:PB(i.bundledQuery),readTime:xr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this.overlays=new ze(ee.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hs();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Hs(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Hs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Hs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iB(n,r));let s=this.qr.get(n);s===void 0&&(s=ge(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.Qr=new ht(mt.$r),this.Ur=new ht(mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new Pe([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new Pe([])),r=new mt(n,e),i=new mt(n,e+1);let s=ge();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(mt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?$0:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(me);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new mt(new ee(s),0);let a=new ht(me);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new mt(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.ri=e,this.docs=function(){return new ze(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ii();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_9(v9(d),r)<=0||(i.has(d.key)||lp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qB(this)}getSize(e){return B.resolve(this.size)}}class qB extends LB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.persistence=e,this.si=new ko(n=>W0(n),K0),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new J0,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new el(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.ui={},this.overlays={},this.ci=new ip(0),this.li=!1,this.li=!0,this.hi=new BB,this.referenceDelegate=e(this),this.Pi=new HB(this),this.indexManager=new RB,this.remoteDocumentCache=function(i){return new $B(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new AB(n),this.Ii=new FB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new zB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new WB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class WB extends x9{constructor(e){super(),this.currentSequenceNumber=e}}class Z0{constructor(e){this.persistence=e,this.Ri=new J0,this.Vi=null}static mi(e){return new Z0(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=ee.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class af{constructor(e,n){this.persistence=e,this.pi=new ko(r=>S9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=VB(this,n)}static mi(e,n){return new af(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,oe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new e_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _3()?8:E9(jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KB;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Go()<=pe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Go()<=pe.DEBUG&&Q("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Go()<=pe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):B.resolve())}ys(e,n){if(X1(n))return B.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vy(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ge(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Vy(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return X1(n)||i.isEqual(oe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?B.resolve(null):(Go()<=pe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qo(n)),this.vs(e,o,n,y9(i,Gc)).next(a=>a))})}Ds(e,n){let r=new ht(pC(e));return n.forEach((i,s)=>{lp(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Go()<=pe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LocalStore",QB=3e8;class YB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ze(me),this.xs=new ko(s=>W0(s),K0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function XB(t,e,n,r){return new YB(t,e,n,r)}async function jC(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ge();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function JB(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=B.resolve();return p.forEach(y=>{g=g.next(()=>d.getEntry(l,y)).next(w=>{const S=u.docVersions.get(y);Ee(S!==null,48541),w.version.compareTo(S)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FC(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ZB(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(bt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(w,S,_){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=QB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,d)&&a.push(n.Pi.updateTargetData(s,g))});let l=ii(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(ez(s,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function ez(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ii();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(t_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function tz(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nz(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new $i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Uy(t,e,n){const r=ae(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hl(o))throw o;Q(t_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function uT(t,e,n){const r=ae(t);let i=oe.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ae(l),p=h.xs.get(d);return p!==void 0?B.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(r,o,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:ge())).next(a=>(rz(r,z9(e),a),{documents:a,Qs:s})))}function rz(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class dT{constructor(){this.activeTargetIds=G9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iz{constructor(){this.Mo=new dT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="ConnectivityMonitor";class fT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(hT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(hT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function By(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",oz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class az{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ef?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=By(),a=this.zo(e,n.toUriEncodedString());Q(Vm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),d=Ao(u);return this.Jo(e,a,l,r,d).then(h=>(Q(Vm,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ya(Vm,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=oz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class cz extends az{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=By();return new Promise((a,l)=>{const u=new FR;u.setWithCredentials(!0),u.listenOnce(UR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xd.NO_ERROR:const h=u.getResponseJson();Q(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Xd.TIMEOUT:Q(kt,`RPC '${e}' ${o} timed out`),l(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const p=u.getStatus();if(Q(kt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const w=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(E)>=0?E:U.UNKNOWN}(y.status);l(new G(w,y.message))}else l(new G(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G(U.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(kt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Q(kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=By(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$R(),a=zR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Q(kt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,g=!1;const y=new lz({Yo:S=>{g?Q(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(Q(kt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Q(kt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Zo:()=>h.close()}),w=(S,_,E)=>{S.listen(_,v=>{try{E(v)}catch(P){setTimeout(()=>{throw P},0)}})};return w(h,ec.EventType.OPEN,()=>{g||(Q(kt,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),w(h,ec.EventType.CLOSE,()=>{g||(g=!0,Q(kt,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(h))}),w(h,ec.EventType.ERROR,S=>{g||(g=!0,Ya(kt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),y.a_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),w(h,ec.EventType.MESSAGE,S=>{var _;if(!g){const E=S.data[0];Ee(!!E,16349);const v=E,P=(v==null?void 0:v.error)||((_=v[0])==null?void 0:_.error);if(P){Q(kt,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let M=function(A){const R=Je[A];if(R!==void 0)return bC(R)}(O),b=P.message;M===void 0&&(M=U.INTERNAL,b="Unknown error status: "+O+" with message "+P.message),g=!0,y.a_(new G(M,b)),h.close()}else Q(kt,`RPC '${e}' stream ${i} received:`,E),y.u_(E)}}),w(a,BR.STAT_EVENT,S=>{S.stat===Py.PROXY?Q(kt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Py.NOPROXY&&Q(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){return new fB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="PersistentStream";class BC{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(pT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(pT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uz extends BC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gB(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?xr(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Fy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Dy(l)?{documents:_B(s,l)}:{query:wB(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RC(s,o.resumeToken);const u=Ly(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=of(s,o.snapshotVersion.toTimestamp());const u=Ly(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=EB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Fy(this.serializer),n.removeTarget=e,this.q_(n)}}class dz extends BC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vB(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Fy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{}class fz extends hz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,My(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,My(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class pz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class mz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Do(this)&&(Q(yo,"Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.Ea.add(4),await Vu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await fp(u)}(this))})}),this.Ra=new pz(r,i)}}async function fp(t){if(Do(t))for(const e of t.da)await e(!0)}async function Vu(t){for(const e of t.da)await e(!1)}function zC(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),s_(n)?i_(n):pl(n).O_()&&r_(n,e))}function n_(t,e){const n=ae(t),r=pl(n);n.Ia.delete(e),r.O_()&&$C(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function r_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Y_(e)}function $C(t,e){t.Va.Ue(e),pl(t).Z_(e)}function i_(t){t.Va=new cB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Ra.ua()}function s_(t){return Do(t)&&!pl(t).x_()&&t.Ia.size>0}function Do(t){return ae(t).Ea.size===0}function qC(t){t.Va=void 0}async function gz(t){t.Ra.set("Online")}async function yz(t){t.Ia.forEach((e,n)=>{r_(t,e)})}async function vz(t,e){qC(t),s_(t)?(t.Ra.ha(e),i_(t)):t.Ra.set("Unknown")}async function _z(t,e,n){if(t.Ra.set("Online"),e instanceof PC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Q(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lf(t,r)}else if(e instanceof th?t.Va.Ze(e):e instanceof AC?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await FC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(bt.EMPTY_BYTE_STRING,d.snapshotVersion)),$C(s,l);const h=new $i(d.target,l,u,d.sequenceNumber);r_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(yo,"Failed to raise snapshot:",r),await lf(t,r)}}async function lf(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await Vu(t),t.Ra.set("Offline"),n||(n=()=>FC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(yo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fp(t)})}function HC(t,e){return e().catch(n=>lf(t,n,e))}async function pp(t){const e=ae(t),n=gs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$0;for(;wz(e);)try{const i=await tz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xz(e,i)}catch(i){await lf(e,i)}WC(e)&&KC(e)}function wz(t){return Do(t)&&t.Ta.length<10}function xz(t,e){t.Ta.push(e);const n=gs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WC(t){return Do(t)&&!gs(t).x_()&&t.Ta.length>0}function KC(t){gs(t).start()}async function Ez(t){gs(t).ra()}async function Tz(t){const e=gs(t);for(const n of t.Ta)e.ea(n.mutations)}async function Sz(t,e,n){const r=t.Ta.shift(),i=Q0.from(r,e,n);await HC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pp(t)}async function Iz(t,e){e&&gs(t).X_&&await async function(r,i){if(function(o){return oB(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();gs(r).B_(),await HC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pp(r)}}(t,e),WC(t)&&KC(t)}async function mT(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),Q(yo,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await Vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fp(n)}async function bz(t,e){const n=ae(t);e?(n.Ea.delete(2),await fp(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function pl(t){return t.ma||(t.ma=function(n,r,i){const s=ae(n);return s.sa(),new uz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:gz.bind(null,t),t_:yz.bind(null,t),r_:vz.bind(null,t),H_:_z.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),s_(t)?i_(t):t.Ra.set("Unknown")):(await t.ma.stop(),qC(t))})),t.ma}function gs(t){return t.fa||(t.fa=function(n,r,i){const s=ae(n);return s.sa(),new dz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ez.bind(null,t),r_:Iz.bind(null,t),ta:Tz.bind(null,t),na:Sz.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await pp(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(yo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new o_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(t,e){if(ri("AsyncQueue",`${e}: ${t}`),hl(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=tc(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.ga=new ze(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class tl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new tl(e,n,Ta.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Pz{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ae(n),s=i.queries;i.queries=yT(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function yT(){return new ko(t=>fC(t),ap)}async function Rz(t,e){const n=ae(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Az,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=a_(o,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&l_(n)}async function Cz(t,e){const n=ae(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kz(t,e){const n=ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&l_(n)}function Nz(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function l_(t){t.Ca.forEach(e=>{e.next()})}var zy,vT;(vT=zy||(zy={})).Ma="default",vT.Cache="cache";class Dz{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.key=e}}class QC{constructor(e){this.key=e}}class Oz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=pC(e),this.tu=new Ta(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gT,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=lp(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?y!==w&&(r.track({type:3,doc:g}),S=!0):this.su(p,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(g,y){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:S})}};return w(g)-w(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new tl(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new QC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new GC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const c_="SyncEngine";class Vz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lz{constructor(e){this.key=e,this.hu=!1}}class Mz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ko(a=>fC(a),ap),this.Iu=new Map,this.Eu=new Set,this.du=new ze(ee.comparator),this.Au=new Map,this.Ru=new J0,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jz(t,e,n=!0){const r=tk(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await YC(r,e,n,!0),i}async function Fz(t,e){const n=tk(t);await YC(n,e,!0,!1)}async function YC(t,e,n,r){const i=await nz(t.localStore,wr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Uz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zC(t.remoteStore,i),a}async function Uz(t,e,n,r,i){t.pu=(h,p,g)=>async function(w,S,_,E){let v=S.view.ru(_);v.Cs&&(v=await uT(w.localStore,S.query,!1).then(({documents:b})=>S.view.ru(b,v)));const P=E&&E.targetChanges.get(S.targetId),O=E&&E.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(v,w.isPrimaryClient,P,O);return wT(w,S.targetId,M.au),M.snapshot}(t,h,p,g);const s=await uT(t.localStore,e,!0),o=new Oz(e,s.Qs),a=o.ru(s.documents),l=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);wT(t,n,u.au);const d=new Vz(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Bz(t,e,n){const r=ae(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!ap(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&n_(r.remoteStore,i.targetId),$y(r,i.targetId)}).catch(dl)):($y(r,i.targetId),await Uy(r.localStore,i.targetId,!0))}async function zz(t,e){const n=ae(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),n_(n.remoteStore,r.targetId))}async function $z(t,e,n){const r=Yz(t);try{const i=await function(o,a){const l=ae(o),u=xe.now(),d=a.reduce((g,y)=>g.add(y.key),ge());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=ii(),w=ge();return l.Ns.getEntries(g,d).next(S=>{y=S,y.forEach((_,E)=>{E.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(S=>{h=S;const _=[];for(const E of a){const v=tB(E,h.get(E.key).overlayedDocument);v!=null&&_.push(new No(E.key,v,iC(v.value.mapValue),Gr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,_,a)}).next(S=>{p=S;const _=S.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(g,S.batchId,_)})}).then(()=>({batchId:p.batchId,changes:gC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new ze(me)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Lu(r,i.changes),await pp(r.remoteStore)}catch(i){const s=a_(i,"Failed to persist write");n.reject(s)}}async function XC(t,e){const n=ae(t);try{const r=await ZB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ee(o.hu,14607):i.removedDocuments.size>0&&(Ee(o.hu,42227),o.hu=!1))}),await Lu(n,r,e)}catch(r){await dl(r)}}function _T(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&l_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qz(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new ze(ee.comparator);o=o.insert(s,Vt.newNoDocument(s,oe.min()));const a=ge().add(s),l=new dp(oe.min(),new Map,new ze(me),o,a);await XC(r,l),r.du=r.du.remove(s),r.Au.delete(e),u_(r)}else await Uy(r.localStore,e,!1).then(()=>$y(r,e,n)).catch(dl)}async function Hz(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await JB(n.localStore,e);ZC(n,r,null),JC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,i)}catch(i){await dl(i)}}async function Wz(t,e,n){const r=ae(t);try{const i=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ee(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);ZC(r,e,n),JC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,i)}catch(i){await dl(i)}}function JC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ZC(t,e,n){const r=ae(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function $y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||ek(t,r)})}function ek(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(n_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),u_(t))}function wT(t,e,n){for(const r of n)r instanceof GC?(t.Ru.addReference(r.key,e),Kz(t,r)):r instanceof QC?(Q(c_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ek(t,r.key)):ie(19791,{wu:r})}function Kz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q(c_,"New document in limbo: "+n),t.Eu.add(r),u_(t))}function u_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Pe.fromString(e)),r=t.fu.next();t.Au.set(r,new Lz(n)),t.du=t.du.insert(n,r),zC(t.remoteStore,new $i(wr(dC(n.path)),r,"TargetPurposeLimboResolution",ip.ce))}}async function Lu(t,e,n){const r=ae(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=e_.As(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,p=>B.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>B.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!hl(h))throw h;Q(t_,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.Ms.get(p),y=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(p,w)}}}(r.localStore,s))}async function Gz(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){Q(c_,"User change. New user:",e.toKey());const r=await jC(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new G(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.Ls)}}function Qz(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let i=ge();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function tk(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qz.bind(null,e),e.Pu.H_=kz.bind(null,e.eventManager),e.Pu.yu=Nz.bind(null,e.eventManager),e}function Yz(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wz.bind(null,e),e}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XB(this.persistence,new GB,e.initialUser,this.serializer)}Cu(e){return new MC(Z0.mi,this.serializer)}Du(e){return new iz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class Xz extends cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof af,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new MC(r=>af.mi(r,n),this.serializer)}}class qy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gz.bind(null,this.syncEngine),await bz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pz}()}createDatastore(e){const n=hp(e.databaseInfo.databaseId),r=function(s){return new cz(s)}(e.databaseInfo);return function(s,o,a,l){return new fz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new mz(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return fT.v()?new fT:new sz}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new Mz(i,s,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ae(i);Q(yo,"RemoteStore shutting down."),s.Ea.add(5),await Vu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}qy.provider={build:()=>new qy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class Zz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=z0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q(ys,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(ys,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=a_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mm(t,e){t.asyncQueue.verifyOperationInProgress(),Q(ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e$(t);Q(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mT(e.remoteStore,i)),t._onlineComponents=e}async function e$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(ys,"Using user provided OfflineComponentProvider");try{await Mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Mm(t,new cf)}}else Q(ys,"Using default OfflineComponentProvider"),await Mm(t,new Xz(void 0));return t._offlineComponents}async function nk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(ys,"Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(Q(ys,"Using default OnlineComponentProvider"),await xT(t,new qy))),t._onlineComponents}function t$(t){return nk(t).then(e=>e.syncEngine)}async function n$(t){const e=await nk(t),n=e.eventManager;return n.onListen=jz.bind(null,e.syncEngine),n.onUnlisten=Bz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zz.bind(null,e.syncEngine),n}function r$(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Jz({next:p=>{d.Nu(),o.enqueueAndForget(()=>Cz(s,h)),p.fromCache&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Dz(a,d,{includeMetadataChanges:!0,qa:!0});return Rz(s,h)}(await n$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firestore.googleapis.com",TT=!0;class ST{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ik,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kB)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o9;switch(r.type){case"firstParty":return new u9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ET.get(n);r&&(Q("ComponentProvider","Removing Datastore"),ET.delete(n),r.terminate())}(this),Promise.resolve()}}function i$(t,e,n,r={}){var u;t=Kc(t,mp);const i=Ao(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(P0(`https://${a}`),R0("Firestore",!0)),s.host!==ik&&s.host!==a&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!ds(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Dt.MOCK_USER;else{d=QP(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dt(p)}t._authCredentials=new a9(new HR(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oo(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nu(n,dt._jsonSchema))return new dt(e,r||null,new ee(Pe.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:nt("string",dt._jsonSchemaVersion),referencePath:nt("string")};class os extends Oo{constructor(e,n,r){super(e,n,dC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ee(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function s$(t,e,...n){if(t=it(t),WR("collection","path",e),t instanceof mp){const r=Pe.fromString(e,...n);return M1(r),new os(t,null,r)}{if(!(t instanceof dt||t instanceof os))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return M1(r),new os(t.firestore,null,r)}}function o$(t,e,...n){if(t=it(t),arguments.length===1&&(e=z0.newId()),WR("doc","path",e),t instanceof mp){const r=Pe.fromString(e,...n);return L1(r),new dt(t,null,new ee(r))}{if(!(t instanceof dt||t instanceof os))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return L1(r),new dt(t.firestore,t instanceof os?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class bT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UC(this,"async_queue_retry"),this._c=()=>{const r=Lm();r&&Q(IT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ss;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;Q(IT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",AT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=o_.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ie(47125,{Pc:AT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class d_ extends mp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bT(e),this._firestoreClient=void 0,await e}}}function a$(t,e){const n=typeof t=="object"?t:Zf(),r=typeof t=="string"?t:e||ef,i=Ts(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=WP("firestore");s&&i$(i,...s)}return i}function sk(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l$(t),t._firestoreClient}function l$(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,d){return new A9(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,rk(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Zz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(bt.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:nt("string",Pn._jsonSchemaVersion),bytes:nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:nt("string",Er._jsonSchemaVersion),latitude:nt("number"),longitude:nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Tr(e.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:nt("string",Tr._jsonSchemaVersion),vectorValues:nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=/^__.*__$/;class u${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}function ak(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class f_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new f_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ak(this.Ac)&&c$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hp(e)}Cc(e,n,r,i=!1){return new f_({Ac:e,methodName:n,Dc:r,path:Tt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lk(t){const e=t._freezeSettings(),n=hp(t._databaseId);return new d$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h$(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);dk("Data must be an object, but it was:",o,r);const a=ck(r,o);let l,u;if(s.merge)l=new qn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=p$(e,h,n);if(!o.contains(p))throw new G(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);g$(d,p)||d.push(p)}l=new qn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new u$(new An(a),l,u)}function f$(t,e,n,r=!1){return p_(n,t.Cc(r?4:3,e))}function p_(t,e){if(uk(t=it(t)))return dk("Unsupported field value:",e,t),ck(t,e);if(t instanceof ok)return function(r,i){if(!ak(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=p_(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xe.fromDate(r);return{timestampValue:of(i.serializer,s)}}if(r instanceof xe){const s=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(i.serializer,s)}}if(r instanceof Er)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:RC(i.serializer,r._byteString)};if(r instanceof dt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:X0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tr)return function(o,a){return{mapValue:{fields:{[tC]:{stringValue:rC},[tf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return G0(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${rp(r)}`)}(t,e)}function ck(t,e){const n={};return QR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{const s=p_(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function uk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Er||t instanceof Pn||t instanceof dt||t instanceof ok||t instanceof Tr)}function dk(t,e,n){if(!uk(n)||!KR(n)){const r=rp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function p$(t,e,n){if((e=it(e))instanceof h_)return e._internalPath;if(typeof e=="string")return hk(t,e);throw uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const m$=new RegExp("[~\\*/\\[\\]]");function hk(t,e,n){if(e.search(m$)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new h_(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(U.INVALID_ARGUMENT,a+t+l)}function g$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y$ extends fk{data(){return super.data()}}function m_(t,e){return typeof e=="string"?hk(t,e):e instanceof h_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g_{}class pk extends g_{}function _$(t,e,...n){let r=[];e instanceof g_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof v_).length,a=s.filter(l=>l instanceof y_).length;if(o>1||o>0&&a>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class y_ extends pk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new y_(e,n,r)}_apply(e){const n=this._parse(e);return mk(e._query,n),new Oo(e.firestore,e.converter,Oy(e._query,n))}_parse(e){const n=lk(e.firestore);return function(s,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){RT(h,d);const y=[];for(const w of h)y.push(PT(l,s,w));p={arrayValue:{values:y}}}else p=PT(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||RT(h,d),p=f$(a,o,h,d==="in"||d==="not-in");return tt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class v_ extends g_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new v_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)mk(o,l),o=Oy(o,l)}(e._query,n),new Oo(e.firestore,e.converter,Oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class __ extends pk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new __(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(s,o)}(e._query,this._field,this._direction);return new Oo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new fl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function w$(t,e="asc"){const n=e,r=m_("orderBy",t);return __._create(r,n)}function PT(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hC(e)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!ee.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H1(t,new ee(r))}if(n instanceof dt)return H1(t,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rp(n)}.`)}function RT(t,e){if(!Array.isArray(t)||t.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x${convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[tf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Qe(o.doubleValue));return new Tr(n)}convertGeoPoint(e){return new Er(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=op(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=fs(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Ee(VC(r),9688,{name:e});const i=new Yc(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends fk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:nt("string",Sa._jsonSchemaVersion),bundleSource:nt("string","DocumentSnapshot"),bundleName:nt("string"),bundle:nt("string")};class nh extends Sa{data(e={}){return super.data(e)}}class Ia{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ad(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new Ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ad(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ad(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:T$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=z0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:nt("string",Ia._jsonSchemaVersion),bundleSource:nt("string","QuerySnapshot"),bundleName:nt("string"),bundle:nt("string")};class S$ extends x${constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function I$(t){t=Kc(t,Oo);const e=Kc(t.firestore,d_),n=sk(e),r=new S$(e);return v$(t._query),r$(n,t._query).then(i=>new Ia(e,r,t,i))}function b$(t,e,n){t=Kc(t,dt);const r=Kc(t.firestore,d_),i=E$(t.converter,e,n);return A$(r,[h$(lk(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gr.none())])}function A$(t,e){return function(r,i){const s=new ss;return r.asyncQueue.enqueueAndForget(async()=>$z(await t$(r),i,s)),s.promise}(sk(t),e)}(function(e,n=!0){(function(i){ul=i})(Ro),Xn(new Dn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new d_(new l9(r.getProvider("auth-internal")),new d9(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ln(N1,D1,e),ln(N1,D1,"esm2020")})();var P$="firebase",R$="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln(P$,R$,"app");const gk="@firebase/installations",w_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=1e4,vk=`w:${w_}`,_k="FIS_v2",C$="https://firebaseinstallations.googleapis.com/v1",k$=60*60*1e3,N$="installations",D$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new Po(N$,D$,O$);function wk(t){return t instanceof Vn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk({projectId:t}){return`${C$}/projects/${t}/installations`}function Ek(t){return{token:t.token,requestStatus:2,expiresIn:L$(t.expiresIn),creationTime:Date.now()}}async function Tk(t,e){const r=(await e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Sk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function V$(t,{refreshToken:e}){const n=Sk(t);return n.append("Authorization",M$(e)),n}async function Ik(t){const e=await t();return e.status>=500&&e.status<600?t():e}function L$(t){return Number(t.replace("s","000"))}function M$(t){return`${_k} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xk(t),i=Sk(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:_k,appId:t.appId,sdkVersion:vk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ik(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ek(u.authToken)}}else throw await Tk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=/^[cdef][\w-]{21}$/,Hy="";function B$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=z$(t);return U$.test(n)?n:Hy}catch{return Hy}}function z$(t){return F$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Map;function Pk(t,e){const n=gp(t);Rk(n,e),$$(n,e)}function Rk(t,e){const n=Ak.get(t);if(n)for(const r of n)r(e)}function $$(t,e){const n=q$();n&&n.postMessage({key:t,fid:e}),H$()}let Ws=null;function q$(){return!Ws&&"BroadcastChannel"in self&&(Ws=new BroadcastChannel("[Firebase] FID Change"),Ws.onmessage=t=>{Rk(t.data.key,t.data.fid)}),Ws}function H$(){Ak.size===0&&Ws&&(Ws.close(),Ws=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="firebase-installations-database",K$=1,_o="firebase-installations-store";let jm=null;function x_(){return jm||(jm=tR(W$,K$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_o)}}})),jm}async function df(t,e){const n=gp(t),i=(await x_()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Pk(t,e.fid),e}async function Ck(t){const e=gp(t),r=(await x_()).transaction(_o,"readwrite");await r.objectStore(_o).delete(e),await r.done}async function yp(t,e){const n=gp(t),i=(await x_()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Pk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E_(t){let e;const n=await yp(t.appConfig,r=>{const i=G$(r),s=Q$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Hy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function G$(t){const e=t||{fid:B$(),registrationStatus:0};return kk(e)}function Q$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Y$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X$(t)}:{installationEntry:e}}async function Y$(t,e){try{const n=await j$(t,e);return df(t.appConfig,n)}catch(n){throw wk(n)&&n.customData.serverCode===409?await Ck(t.appConfig):await df(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function X$(t){let e=await CT(t.appConfig);for(;e.registrationStatus===1;)await bk(100),e=await CT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await E_(t);return r||n}return e}function CT(t){return yp(t,e=>{if(!e)throw vo.create("installation-not-found");return kk(e)})}function kk(t){return J$(t)?{fid:t.fid,registrationStatus:0}:t}function J$(t){return t.registrationStatus===1&&t.registrationTime+yk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$({appConfig:t,heartbeatServiceProvider:e},n){const r=e8(t,n),i=V$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:vk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ik(()=>fetch(r,a));if(l.ok){const u=await l.json();return Ek(u)}else throw await Tk("Generate Auth Token",l)}function e8(t,{fid:e}){return`${xk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(t,e=!1){let n;const r=await yp(t.appConfig,s=>{if(!Nk(s))throw vo.create("not-registered");const o=s.authToken;if(!e&&r8(o))return s;if(o.requestStatus===1)return n=t8(t,e),s;{if(!navigator.onLine)throw vo.create("app-offline");const a=s8(s);return n=n8(t,a),a}});return n?await n:r.authToken}async function t8(t,e){let n=await kT(t.appConfig);for(;n.authToken.requestStatus===1;)await bk(100),n=await kT(t.appConfig);const r=n.authToken;return r.requestStatus===0?T_(t,e):r}function kT(t){return yp(t,e=>{if(!Nk(e))throw vo.create("not-registered");const n=e.authToken;return o8(n)?{...e,authToken:{requestStatus:0}}:e})}async function n8(t,e){try{const n=await Z$(t,e),r={...e,authToken:n};return await df(t.appConfig,r),n}catch(n){if(wk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ck(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await df(t.appConfig,r)}throw n}}function Nk(t){return t!==void 0&&t.registrationStatus===2}function r8(t){return t.requestStatus===2&&!i8(t)}function i8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+k$}function s8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function o8(t){return t.requestStatus===1&&t.requestTime+yk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t){const e=t,{installationEntry:n,registrationPromise:r}=await E_(e);return r?r.catch(console.error):T_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t,e=!1){const n=t;return await c8(n),(await T_(n,e)).token}async function c8(t){const{registrationPromise:e}=await E_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){if(!t||!t.options)throw Fm("App Configuration");if(!t.name)throw Fm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fm(t){return vo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="installations",d8="installations-internal",h8=t=>{const e=t.getProvider("app").getImmediate(),n=u8(e),r=Ts(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f8=t=>{const e=t.getProvider("app").getImmediate(),n=Ts(e,Dk).getImmediate();return{getId:()=>a8(n),getToken:i=>l8(n,i)}};function p8(){Xn(new Dn(Dk,h8,"PUBLIC")),Xn(new Dn(d8,f8,"PRIVATE"))}p8();ln(gk,w_);ln(gk,w_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="analytics",m8="firebase_id",g8="origin",y8=60*1e3,v8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new Jf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new Po("analytics","Analytics",_8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t){if(!t.startsWith(S_)){const e=mn.create("invalid-gtag-resource",{gtagURL:t});return Kt.warn(e.message),""}return t}function Ok(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function x8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function E8(t,e){const n=x8("firebase-js-sdk-policy",{createScriptURL:w8}),r=document.createElement("script"),i=`${S_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function T8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function S8(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Ok(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Kt.error(a)}t("config",i,s)}async function I8(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Ok(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Kt.error(s)}}function b8(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await I8(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await S8(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Kt.error(a)}}return i}function A8(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=b8(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function P8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(S_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=30,C8=1e3;class k8{constructor(e={},n=C8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Vk=new k8;function N8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function D8(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:N8(n)},i=v8.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function O8(t,e=Vk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new M8;return setTimeout(async()=>{a.abort()},n!==void 0?n:y8),Lk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Lk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Vk){var a;const{appId:s,measurementId:o}=t;try{await V8(r,e)}catch(l){if(o)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await D8(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!L8(u)){if(i.deleteThrottleMetadata(s),o)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw l}const d=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?r1(n,i.intervalMillis,R8):r1(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,h),Kt.debug(`Calling attemptFetch again in ${d} millis`),Lk(t,h,r,i)}}function V8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function L8(t){if(!(t instanceof Vn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class M8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function j8(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function F8(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(){if(XP())try{await JP()}catch(t){return Kt.warn(mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Kt.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function B8(t,e,n,r,i,s,o){const a=O8(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Kt.error(p)),e.push(a);const l=U8().then(p=>{if(p)return r.getId()}),[u,d]=await Promise.all([a,l]);P8(s)||E8(s,u.measurementId),i("js",new Date);const h=(o==null?void 0:o.config)??{};return h[g8]="firebase",h.update=!0,d!=null&&(h[m8]=d),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.app=e}_delete(){return delete ba[this.app.options.appId],Promise.resolve()}}let ba={},NT=[];const DT={};let Um="dataLayer",$8="gtag",OT,I_,VT=!1;function q8(){const t=[];if(YP()&&t.push("This is a browser extension environment."),w3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=mn.create("invalid-analytics-context",{errorInfo:e});Kt.warn(n.message)}}function H8(t,e,n){q8();const r=t.options.appId;if(!r)throw mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(ba[r]!=null)throw mn.create("already-exists",{id:r});if(!VT){T8(Um);const{wrappedGtag:s,gtagCore:o}=A8(ba,NT,DT,Um,$8);I_=s,OT=o,VT=!0}return ba[r]=B8(t,NT,DT,e,OT,Um,n),new z8(t)}function W8(t=Zf()){t=it(t);const e=Ts(t,hf);return e.isInitialized()?e.getImmediate():K8(t)}function K8(t,e={}){const n=Ts(t,hf);if(n.isInitialized()){const i=n.getImmediate();if(ds(e,n.getOptions()))return i;throw mn.create("already-initialized")}return n.initialize({options:e})}function G8(t,e,n){t=it(t),F8(I_,ba[t.app.options.appId],e,n).catch(r=>Kt.error(r))}function Q8(t,e,n,r){t=it(t),j8(I_,ba[t.app.options.appId],e,n,r).catch(i=>Kt.error(i))}const LT="@firebase/analytics",MT="0.10.19";function Y8(){Xn(new Dn(hf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return H8(r,i,n)},"PUBLIC")),Xn(new Dn("analytics-internal",t,"PRIVATE")),ln(LT,MT),ln(LT,MT,"esm2020");function t(e){try{const n=e.getProvider(hf).getImmediate();return{logEvent:(r,i,s)=>Q8(n,r,i,s),setUserProperties:(r,i)=>G8(n,r,i)}}catch(n){throw mn.create("interop-component-reg-failed",{reason:n})}}}Y8();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="firebasestorage.googleapis.com",X8="storageBucket",J8=2*60*1e3,Z8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Vn{constructor(e,n,r=0){super(Bm(e),`Firebase Storage: ${n} (${Bm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function Bm(t){return"storage/"+t}function e7(){const t="An unknown error occurred, please check the error payload for server response.";return new Ar(Ir.UNKNOWN,t)}function t7(){return new Ar(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n7(){return new Ar(Ir.CANCELED,"User canceled the upload/download.")}function r7(t){return new Ar(Ir.INVALID_URL,"Invalid URL '"+t+"'.")}function i7(t){return new Ar(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jT(t){return new Ar(Ir.INVALID_ARGUMENT,t)}function jk(){return new Ar(Ir.APP_DELETED,"The Firebase app was deleted.")}function s7(t){return new Ar(Ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(r.path==="")return r;throw i7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},w=n===Mk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",_=new RegExp(`^https?://${w}/${i}/${S}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:g,indices:y,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<v.length;P++){const O=v[P],M=O.regex.exec(e);if(M){const b=M[O.indices.bucket];let x=M[O.indices.path];x||(x=""),r=new Hn(b,x),O.postModify(r);break}}if(r==null)throw r7(e);return r}}class o7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function p(){s&&clearTimeout(s)}function g(S,..._){if(u){p();return}if(S){p(),d.call(null,S,..._);return}if(l()||o){p(),d.call(null,S,..._);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let y=!1;function w(S){y||(y=!0,p(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function l7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t){return t!==void 0}function FT(t,e,n,r){if(r<e)throw jT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jT(`Invalid value for '${t}'. Expected ${n} or less.`)}function u7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ff;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ff||(ff={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n,r,i,s,o,a,l,u,d,h,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Pd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ff.NO_ERROR,l=s.getStatus();if(!a||d7(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ff.ABORT;r(!1,new Pd(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Pd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());c7(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=e7();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jk():n7();o(l)}else{const l=t7();o(l)}};this.canceled_?n(!1,new Pd(!1,null,!0)):this.backoffId_=a7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function f7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function g7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function y7(t,e,n,r,i,s,o=!0,a=!1){const l=u7(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return m7(d,e),f7(d,n),p7(d,s),g7(d,r),new h7(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pf(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _7(this._location.path)}get storage(){return this._service}get parent(){const e=v7(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new pf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s7(e)}}function UT(t,e){const n=e==null?void 0:e[X8];return n==null?null:Hn.makeFromBucketSpec(n,t)}function w7(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ao(e);i&&(P0(`https://${t.host}/b`),R0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:QP(s,t.app.options.projectId))}class x7{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Mk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J8,this._maxUploadRetryTime=Z8,this._requests=new Set,i!=null?this._bucket=Hn.makeFromBucketSpec(i,this._host):this._bucket=UT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=UT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new o7(jk());{const o=y7(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const BT="@firebase/storage",zT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="storage";function E7(t=Zf(),e){t=it(t);const r=Ts(t,Fk).getImmediate({identifier:e}),i=WP("storage");return i&&T7(r,...i),r}function T7(t,e,n,r={}){w7(t,e,n,r)}function S7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new x7(n,r,i,e,Ro)}function I7(){Xn(new Dn(Fk,S7,"PUBLIC").setMultipleInstances(!0)),ln(BT,zT,""),ln(BT,zT,"esm2020")}I7();const b7={apiKey:"AIzaSyBgr4lkJE_7Ni0IZS4FQp5NuROUQtCtpuI",authDomain:"cagro-f5c27.firebaseapp.com",projectId:"cagro-f5c27",storageBucket:"cagro-f5c27.firebasestorage.app",messagingSenderId:"338841550633",appId:"1:338841550633:web:b958c09604e5359de44138",measurementId:"G-8ET7ST825F"},vp=nR(b7),Ko=i9(vp),$T=a$(vp);E7(vp);W8(vp);const Uk=D.createContext(void 0),Vo=()=>{const t=D.useContext(Uk);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},A7=({children:t})=>{const[e,n]=D.useState(null),[r,i]=D.useState(null),[s,o]=D.useState(!0),a=new jr,l=async(v,P,O)=>{const M=await B6(Ko,v,P);await x1(M.user,{displayName:O});const b=await M.user.getIdToken();localStorage.setItem("firebaseToken",b);{const x={uid:M.user.uid,email:M.user.email,displayName:O,photoURL:M.user.photoURL||void 0,createdAt:xe.now(),lastLoginAt:xe.now()};i(x)}return M},u=async(v,P)=>{const O=await z6(Ko,v,P),M=await O.user.getIdToken();return localStorage.setItem("firebaseToken",M),O},d=async()=>{const v=await f5(Ko,a),P=await v.user.getIdToken();localStorage.setItem("firebaseToken",P);{const O={uid:v.user.uid,email:v.user.email,displayName:v.user.displayName||"User",photoURL:v.user.photoURL||void 0,createdAt:xe.now(),lastLoginAt:xe.now()};i(O)}return v},h=async()=>{await K6(Ko),localStorage.removeItem("firebaseToken"),i(null)},p=async v=>{await U6(Ko,v)},g=async(v,P)=>{e&&(await x1(e,{displayName:v,photoURL:P}),await b$(o$($T,"users",e.uid),{displayName:v,photoURL:P},{merge:!0}),r&&i({...r,displayName:v,photoURL:P}))},y=async(v,P,O,M)=>{if(!e)throw new Error("User must be logged in to save predictions");{const b={id:`local-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,imageUrl:v,prediction:P,confidence:O,timestamp:xe.now(),imageName:M},x=`predictions_${e.uid}`,A=JSON.parse(localStorage.getItem(x)||"[]");return A.push(b),localStorage.setItem(x,JSON.stringify(A)),console.log("Prediction saved to local storage:",b.id),b.id}},w=async(v="all")=>{if(!e)return[];try{const P=`predictions_${e.uid}`,O=localStorage.getItem(P);if(!O)return console.log("No predictions found in local storage for user:",e.uid),[];let M=JSON.parse(O);if(v!=="all"){const b=new Date,x=new Date;if(v==="thisWeek"){const A=b.getDay();x.setDate(b.getDate()-A),x.setHours(0,0,0,0)}else v==="thisMonth"&&(x.setDate(1),x.setHours(0,0,0,0));M=M.filter(A=>new Date(A.timestamp.seconds*1e3)>=x)}return M.sort((b,x)=>x.timestamp.seconds-b.timestamp.seconds),console.log(`Loaded ${M.length} predictions from local storage (filter: ${v})`),M}catch(P){return console.error("Failed to load predictions from localStorage:",P),[]}try{const P=_$(s$($T,"users",e.uid,"predictions"),w$("timestamp","desc"));return(await I$(P)).docs.map(M=>({id:M.id,...M.data()}))}catch(P){return console.error("Failed to load prediction history:",P),[]}},S=async(v,P,O)=>(console.log("Firestore disabled - solution not saved to database"),"local-solution-id"),_=async()=>(console.log("Firestore disabled - returning empty solutions list"),[]);D.useEffect(()=>W6(Ko,async P=>{if(n(P),P){try{const O=await P.getIdToken();localStorage.setItem("firebaseToken",O)}catch(O){console.warn("Failed to get Firebase token:",O)}{const O={uid:P.uid,email:P.email,displayName:P.displayName||"User",photoURL:P.photoURL||void 0,createdAt:xe.now(),lastLoginAt:xe.now()};i(O)}}else localStorage.removeItem("firebaseToken"),i(null);o(!1)}),[]);const E={currentUser:e,userProfile:r,loading:s,signUp:l,signIn:u,signInWithGoogle:d,logout:h,resetPassword:p,updateUserProfile:g,savePrediction:y,getPredictionHistory:w,saveSolution:S,getSolutions:_};return T.jsx(Uk.Provider,{value:E,children:!s&&t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>D.createElement("svg",{ref:d,...P7,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${R7(t)}`,a].join(" "),...u},[...e.map(([h,p])=>D.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Ve("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Ve("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Ve("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=Ve("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=Ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=Ve("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=Ve("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Ve("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=Ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),H7=()=>{const{currentUser:t,userProfile:e,logout:n}=Vo(),r=!!t,i=Bf(),[s,o]=D.useState(!1),a=()=>{n(),i("/")},l=[{name:"Home",path:"/",icon:mf},{name:"Upload",path:"/upload",icon:gf},{name:"Solutions",path:"/solutions",icon:b_}];return T.jsx("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs(qt,{to:"/",className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:T.jsx(mf,{className:"w-5 h-5 text-white"})}),T.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Agro_C"})]}),T.jsx("div",{className:"hidden md:flex items-center space-x-8",children:l.map(u=>{const d=u.icon;return T.jsxs(qt,{to:u.path,className:"flex items-center space-x-1 text-gray-600 hover:text-primary-600 transition-colors",children:[T.jsx(d,{className:"w-4 h-4"}),T.jsx("span",{children:u.name})]},u.name)})}),T.jsx("div",{className:"hidden md:flex items-center space-x-4",children:r?T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs(qt,{to:"/profile",className:"flex items-center space-x-1 text-gray-600 hover:text-primary-600 transition-colors",children:[T.jsx(Gy,{className:"w-4 h-4"}),T.jsx("span",{children:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||"User"})]}),T.jsxs("button",{onClick:a,className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors",children:[T.jsx(WT,{className:"w-4 h-4"}),T.jsx("span",{children:"Logout"})]})]}):T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(qt,{to:"/login",className:"text-gray-600 hover:text-primary-600 transition-colors",children:"Login"}),T.jsx(qt,{to:"/register",className:"btn-primary px-4 py-2",children:"Register"})]})}),T.jsx("button",{className:"md:hidden p-2",onClick:()=>o(!s),children:s?T.jsx(Bk,{className:"w-6 h-6"}):T.jsx(L7,{className:"w-6 h-6"})})]}),s&&T.jsx(yt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 py-4",children:T.jsxs("div",{className:"flex flex-col space-y-4",children:[l.map(u=>{const d=u.icon;return T.jsxs(qt,{to:u.path,className:"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors",onClick:()=>o(!1),children:[T.jsx(d,{className:"w-4 h-4"}),T.jsx("span",{children:u.name})]},u.name)}),r?T.jsxs(T.Fragment,{children:[T.jsxs(qt,{to:"/profile",className:"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors",onClick:()=>o(!1),children:[T.jsx(Gy,{className:"w-4 h-4"}),T.jsx("span",{children:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||"User"})]}),T.jsxs("button",{onClick:()=>{a(),o(!1)},className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors",children:[T.jsx(WT,{className:"w-4 h-4"}),T.jsx("span",{children:"Logout"})]})]}):T.jsxs(T.Fragment,{children:[T.jsx(qt,{to:"/login",className:"text-gray-600 hover:text-primary-600 transition-colors",onClick:()=>o(!1),children:"Login"}),T.jsx(qt,{to:"/register",className:"btn-primary px-4 py-2 w-fit",onClick:()=>o(!1),children:"Register"})]})]})})]})})},W7=()=>{const{currentUser:t}=Vo(),e=!!t,n=[{icon:gf,title:"Instant Diagnosis",description:"Upload plant images and get instant disease identification with high accuracy."},{icon:Ky,title:"Expert Solutions",description:"Get detailed treatment plans and prevention strategies from our expert database."},{icon:q7,title:"AI-Powered",description:"Advanced machine learning models trained on thousands of plant disease images."},{icon:z7,title:"Community Driven",description:"Rate solutions and share experiences to help other farmers."}],r=[{number:"95%",label:"Accuracy Rate"},{number:"50+",label:"Plant Types"},{number:"100+",label:"Disease Types"},{number:"10K+",label:"Images Analyzed"}];return T.jsxs("div",{className:"space-y-16",children:[T.jsx(yt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsx(yt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full mb-8",children:T.jsx(mf,{className:"w-10 h-10 text-white"})}),T.jsxs("h1",{className:"text-5xl font-bold text-gray-800 mb-6",children:["Identify Plant Diseases with"," ",T.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-secondary-600",children:"AI Precision"})]}),T.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Upload a photo of your plant and get instant, accurate disease identification along with expert treatment solutions. Protect your crops with cutting-edge AI technology."}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[T.jsxs(qt,{to:"/upload",className:"btn-primary px-8 py-4 text-lg",children:[T.jsx(gf,{className:"w-5 h-5 mr-2"}),"Start Diagnosis"]}),T.jsxs(qt,{to:"/solutions",className:"btn-outline px-8 py-4 text-lg",children:[T.jsx(b_,{className:"w-5 h-5 mr-2"}),"Browse Solutions"]})]})]})}),T.jsx(yt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg p-8",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:r.map((i,s)=>T.jsxs(yt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4+s*.1},className:"text-center",children:[T.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:i.number}),T.jsx("div",{className:"text-gray-600",children:i.label})]},i.label))})}),T.jsxs(yt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"py-16",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Why Choose Agro_C?"}),T.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Our platform combines advanced AI technology with expert agricultural knowledge to provide the most accurate plant disease identification and treatment solutions."})]}),T.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((i,s)=>{const o=i.icon;return T.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+s*.1},className:"card p-6 text-center hover:shadow-lg transition-shadow",children:[T.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:T.jsx(o,{className:"w-6 h-6 text-primary-600"})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:i.title}),T.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]},i.title)})})]}),!e&&T.jsxs(yt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-2xl p-8 text-center text-white",children:[T.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Protect Your Plants?"}),T.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Join thousands of farmers who trust Agro_C for accurate plant disease diagnosis."}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[T.jsx(qt,{to:"/register",className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Get Started Free"}),T.jsx(qt,{to:"/login",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary-600 transition-colors",children:"Sign In"})]})]})]})};var zk={exports:{}},K7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G7=K7,Q7=G7;function $k(){}function qk(){}qk.resetWarningCache=$k;var Y7=function(){function t(r,i,s,o,a,l){if(l!==Q7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qk,resetWarningCache:$k};return n.PropTypes=n,n};zk.exports=Y7();var X7=zk.exports;const be=kS(X7);function Lo(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const J7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function nl(t,e,n){const r=Z7(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&KT(r,"path",s),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),KT(r,"relativePath",s),r}function Z7(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=J7.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function KT(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const eq=[".DS_Store","Thumbs.db"];function tq(t){return Lo(this,void 0,void 0,function*(){return yf(t)&&nq(t.dataTransfer)?oq(t.dataTransfer,t.type):rq(t)?iq(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?sq(t):[]})}function nq(t){return yf(t)}function rq(t){return yf(t)&&yf(t.target)}function yf(t){return typeof t=="object"&&t!==null}function iq(t){return Qy(t.target.files).map(e=>nl(e))}function sq(t){return Lo(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>nl(n))})}function oq(t,e){return Lo(this,void 0,void 0,function*(){if(t.items){const n=Qy(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(aq));return GT(Hk(r))}return GT(Qy(t.files).map(n=>nl(n)))})}function GT(t){return t.filter(e=>eq.indexOf(e.name)===-1)}function Qy(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function aq(t){if(typeof t.webkitGetAsEntry!="function")return QT(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?Wk(e):QT(t,e)}function Hk(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?Hk(n):[n]],[])}function QT(t,e){return Lo(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,nl(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return nl(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function lq(t){return Lo(this,void 0,void 0,function*(){return t.isDirectory?Wk(t):cq(t)})}function Wk(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>Lo(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(lq));i.push(a),s()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function cq(t){return Lo(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=nl(r,t.fullPath);e(i)},r=>{n(r)})})})}var zm=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function YT(t){return hq(t)||dq(t)||Gk(t)||uq()}function uq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hq(t){if(Array.isArray(t))return Yy(t)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){Kk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tu(t,e){return mq(t)||pq(t,e)||Gk(t,e)||fq()}function fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gk(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function mq(t){if(Array.isArray(t))return t}var gq=typeof zm=="function"?zm:zm.default,yq="file-invalid-type",vq="file-too-large",_q="file-too-small",wq="too-many-files",xq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:yq,message:"File type must be ".concat(r)}},ZT=function(e){return{code:vq,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},eS=function(e){return{code:_q,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Eq={code:wq,message:"Too many files"};function Qk(t,e){var n=t.type==="application/x-moz-file"||gq(t,e);return[n,n?null:xq(e)]}function Yk(t,e,n){if(js(t.size))if(js(e)&&js(n)){if(t.size>n)return[!1,ZT(n)];if(t.size<e)return[!1,eS(e)]}else{if(js(e)&&t.size<e)return[!1,eS(e)];if(js(n)&&t.size>n)return[!1,ZT(n)]}return[!0,null]}function js(t){return t!=null}function Tq(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var u=Qk(l,n),d=tu(u,1),h=d[0],p=Yk(l,r,i),g=tu(p,1),y=g[0],w=a?a(l):null;return h&&y&&!w})}function vf(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Rd(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function tS(t){t.preventDefault()}function Sq(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Iq(t){return t.indexOf("Edge/")!==-1}function bq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Sq(t)||Iq(t)}function or(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!vf(r)&&a&&a.apply(void 0,[r].concat(s)),vf(r)})}}function Aq(){return"showOpenFilePicker"in window}function Pq(t){if(js(t)){var e=Object.entries(t).filter(function(n){var r=tu(n,2),i=r[0],s=r[1],o=!0;return Xk(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(Jk))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=tu(r,2),s=i[0],o=i[1];return JT(JT({},n),{},Kk({},s,o))},{});return[{description:"Files",accept:e}]}return t}function Rq(t){if(js(t))return Object.entries(t).reduce(function(e,n){var r=tu(n,2),i=r[0],s=r[1];return[].concat(YT(e),[i],YT(s))},[]).filter(function(e){return Xk(e)||Jk(e)}).join(",")}function Cq(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function kq(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Xk(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Jk(t){return/^.*\.[\w]+$/.test(t)}var Nq=["children"],Dq=["open"],Oq=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Vq=["refKey","onChange","onClick"];function Lq(t){return Fq(t)||jq(t)||Zk(t)||Mq()}function Mq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fq(t){if(Array.isArray(t))return Xy(t)}function $m(t,e){return zq(t)||Bq(t,e)||Zk(t,e)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zk(t,e){if(t){if(typeof t=="string")return Xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xy(t,e)}}function Xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function zq(t){if(Array.isArray(t))return t}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _f(t,e){if(t==null)return{};var n=$q(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $q(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var A_=D.forwardRef(function(t,e){var n=t.children,r=_f(t,Nq),i=t2(r),s=i.open,o=_f(i,Dq);return D.useImperativeHandle(e,function(){return{open:s}},[s]),gu.createElement(D.Fragment,null,n(Me(Me({},o),{},{open:s})))});A_.displayName="Dropzone";var e2={disabled:!1,getFilesFromEvent:tq,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};A_.defaultProps=e2;A_.propTypes={children:be.func,accept:be.objectOf(be.arrayOf(be.string)),multiple:be.bool,preventDropOnDocument:be.bool,noClick:be.bool,noKeyboard:be.bool,noDrag:be.bool,noDragEventsBubbling:be.bool,minSize:be.number,maxSize:be.number,maxFiles:be.number,disabled:be.bool,getFilesFromEvent:be.func,onFileDialogCancel:be.func,onFileDialogOpen:be.func,useFsAccessApi:be.bool,autoFocus:be.bool,onDragEnter:be.func,onDragLeave:be.func,onDragOver:be.func,onDrop:be.func,onDropAccepted:be.func,onDropRejected:be.func,onError:be.func,validator:be.func};var Zy={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function t2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Me(Me({},e2),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,p=e.onDrop,g=e.onDropAccepted,y=e.onDropRejected,w=e.onFileDialogCancel,S=e.onFileDialogOpen,_=e.useFsAccessApi,E=e.autoFocus,v=e.preventDropOnDocument,P=e.noClick,O=e.noKeyboard,M=e.noDrag,b=e.noDragEventsBubbling,x=e.onError,A=e.validator,R=D.useMemo(function(){return Rq(n)},[n]),k=D.useMemo(function(){return Pq(n)},[n]),V=D.useMemo(function(){return typeof S=="function"?S:rS},[S]),C=D.useMemo(function(){return typeof w=="function"?w:rS},[w]),Z=D.useRef(null),_e=D.useRef(null),fe=D.useReducer(qq,Zy),Xe=$m(fe,2),$=Xe[0],K=Xe[1],se=$.isFocused,J=$.isFileDialogActive,de=D.useRef(typeof window<"u"&&window.isSecureContext&&_&&Aq()),_t=function(){!de.current&&J&&setTimeout(function(){if(_e.current){var ne=_e.current.files;ne.length||(K({type:"closeDialog"}),C())}},300)};D.useEffect(function(){return window.addEventListener("focus",_t,!1),function(){window.removeEventListener("focus",_t,!1)}},[_e,J,C,de]);var Se=D.useRef([]),At=function(ne){Z.current&&Z.current.contains(ne.target)||(ne.preventDefault(),Se.current=[])};D.useEffect(function(){return v&&(document.addEventListener("dragover",tS,!1),document.addEventListener("drop",At,!1)),function(){v&&(document.removeEventListener("dragover",tS),document.removeEventListener("drop",At))}},[Z,v]),D.useEffect(function(){return!r&&E&&Z.current&&Z.current.focus(),function(){}},[Z,E,r]);var Ce=D.useCallback(function(H){x?x(H):console.error(H)},[x]),Yt=D.useCallback(function(H){H.preventDefault(),H.persist(),Ke(H),Se.current=[].concat(Lq(Se.current),[H.target]),Rd(H)&&Promise.resolve(i(H)).then(function(ne){if(!(vf(H)&&!b)){var Ae=ne.length,Ge=Ae>0&&Tq({files:ne,accept:R,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:A}),Pt=Ae>0&&!Ge;K({isDragAccept:Ge,isDragReject:Pt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(H)}}).catch(function(ne){return Ce(ne)})},[i,u,Ce,b,R,o,s,a,l,A]),li=D.useCallback(function(H){H.preventDefault(),H.persist(),Ke(H);var ne=Rd(H);if(ne&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return ne&&h&&h(H),!1},[h,b]),Pr=D.useCallback(function(H){H.preventDefault(),H.persist(),Ke(H);var ne=Se.current.filter(function(Ge){return Z.current&&Z.current.contains(Ge)}),Ae=ne.indexOf(H.target);Ae!==-1&&ne.splice(Ae,1),Se.current=ne,!(ne.length>0)&&(K({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Rd(H)&&d&&d(H))},[Z,d,b]),wn=D.useCallback(function(H,ne){var Ae=[],Ge=[];H.forEach(function(Pt){var Rr=Qk(Pt,R),ui=$m(Rr,2),_l=ui[0],Fo=ui[1],Uo=Yk(Pt,o,s),nr=$m(Uo,2),Is=nr[0],bs=nr[1],Ln=A?A(Pt):null;if(_l&&Is&&!Ln)Ae.push(Pt);else{var Bo=[Fo,bs];Ln&&(Bo=Bo.concat(Ln)),Ge.push({file:Pt,errors:Bo.filter(function(zo){return zo})})}}),(!a&&Ae.length>1||a&&l>=1&&Ae.length>l)&&(Ae.forEach(function(Pt){Ge.push({file:Pt,errors:[Eq]})}),Ae.splice(0)),K({acceptedFiles:Ae,fileRejections:Ge,isDragReject:Ge.length>0,type:"setFiles"}),p&&p(Ae,Ge,ne),Ge.length>0&&y&&y(Ge,ne),Ae.length>0&&g&&g(Ae,ne)},[K,a,R,o,s,l,p,g,y,A]),Xt=D.useCallback(function(H){H.preventDefault(),H.persist(),Ke(H),Se.current=[],Rd(H)&&Promise.resolve(i(H)).then(function(ne){vf(H)&&!b||wn(ne,H)}).catch(function(ne){return Ce(ne)}),K({type:"reset"})},[i,wn,Ce,b]),er=D.useCallback(function(){if(de.current){K({type:"openDialog"}),V();var H={multiple:a,types:k};window.showOpenFilePicker(H).then(function(ne){return i(ne)}).then(function(ne){wn(ne,null),K({type:"closeDialog"})}).catch(function(ne){Cq(ne)?(C(ne),K({type:"closeDialog"})):kq(ne)?(de.current=!1,_e.current?(_e.current.value=null,_e.current.click()):Ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ce(ne)});return}_e.current&&(K({type:"openDialog"}),V(),_e.current.value=null,_e.current.click())},[K,V,C,_,wn,Ce,k,a]),yl=D.useCallback(function(H){!Z.current||!Z.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),er())},[Z,er]),Mo=D.useCallback(function(){K({type:"focus"})},[]),vl=D.useCallback(function(){K({type:"blur"})},[]),Uu=D.useCallback(function(){P||(bq()?setTimeout(er,0):er())},[P,er]),tr=function(ne){return r?null:ne},Ss=function(ne){return O?null:tr(ne)},ci=function(ne){return M?null:tr(ne)},Ke=function(ne){b&&ne.stopPropagation()},wt=D.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=H.refKey,Ae=ne===void 0?"ref":ne,Ge=H.role,Pt=H.onKeyDown,Rr=H.onFocus,ui=H.onBlur,_l=H.onClick,Fo=H.onDragEnter,Uo=H.onDragOver,nr=H.onDragLeave,Is=H.onDrop,bs=_f(H,Oq);return Me(Me(Jy({onKeyDown:Ss(or(Pt,yl)),onFocus:Ss(or(Rr,Mo)),onBlur:Ss(or(ui,vl)),onClick:tr(or(_l,Uu)),onDragEnter:ci(or(Fo,Yt)),onDragOver:ci(or(Uo,li)),onDragLeave:ci(or(nr,Pr)),onDrop:ci(or(Is,Xt)),role:typeof Ge=="string"&&Ge!==""?Ge:"presentation"},Ae,Z),!r&&!O?{tabIndex:0}:{}),bs)}},[Z,yl,Mo,vl,Uu,Yt,li,Pr,Xt,O,M,r]),jo=D.useCallback(function(H){H.stopPropagation()},[]),Ip=D.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=H.refKey,Ae=ne===void 0?"ref":ne,Ge=H.onChange,Pt=H.onClick,Rr=_f(H,Vq),ui=Jy({accept:R,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:tr(or(Ge,Xt)),onClick:tr(or(Pt,jo)),tabIndex:-1},Ae,_e);return Me(Me({},ui),Rr)}},[_e,n,a,Xt,r]);return Me(Me({},$),{},{isFocused:se&&!r,getRootProps:wt,getInputProps:Ip,rootRef:Z,inputRef:_e,open:tr(er)})}function qq(t,e){switch(e.type){case"focus":return Me(Me({},t),{},{isFocused:!0});case"blur":return Me(Me({},t),{},{isFocused:!1});case"openDialog":return Me(Me({},Zy),{},{isFileDialogActive:!0});case"closeDialog":return Me(Me({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Me(Me({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Me(Me({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Me({},Zy);default:return t}}function rS(){}function n2(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hq}=Object.prototype,{getPrototypeOf:P_}=Object,{iterator:_p,toStringTag:r2}=Symbol,wp=(t=>e=>{const n=Hq.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=t=>(t=t.toLowerCase(),e=>wp(e)===t),xp=t=>e=>typeof e===t,{isArray:ml}=Array,rl=xp("undefined");function Mu(t){return t!==null&&!rl(t)&&t.constructor!==null&&!rl(t.constructor)&&cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const i2=Zn("ArrayBuffer");function Wq(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&i2(t.buffer),e}const Kq=xp("string"),cn=xp("function"),s2=xp("number"),ju=t=>t!==null&&typeof t=="object",Gq=t=>t===!0||t===!1,rh=t=>{if(wp(t)!=="object")return!1;const e=P_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(r2 in t)&&!(_p in t)},Qq=t=>{if(!ju(t)||Mu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Yq=Zn("Date"),Xq=Zn("File"),Jq=Zn("Blob"),Zq=Zn("FileList"),eH=t=>ju(t)&&cn(t.pipe),tH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cn(t.append)&&((e=wp(t))==="formdata"||e==="object"&&cn(t.toString)&&t.toString()==="[object FormData]"))},nH=Zn("URLSearchParams"),[rH,iH,sH,oH]=["ReadableStream","Request","Response","Headers"].map(Zn),aH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ml(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Mu(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function o2(t,e){if(Mu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ks=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),a2=t=>!rl(t)&&t!==Ks;function ev(){const{caseless:t,skipUndefined:e}=a2(this)&&this||{},n={},r=(i,s)=>{const o=t&&o2(n,s)||s;rh(n[o])&&rh(i)?n[o]=ev(n[o],i):rh(i)?n[o]=ev({},i):ml(i)?n[o]=i.slice():(!e||!rl(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Fu(arguments[i],r);return n}const lH=(t,e,n,{allOwnKeys:r}={})=>(Fu(e,(i,s)=>{n&&cn(i)?t[s]=n2(i,n):t[s]=i},{allOwnKeys:r}),t),cH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},dH=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&P_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},hH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},fH=t=>{if(!t)return null;if(ml(t))return t;let e=t.length;if(!s2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},pH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&P_(Uint8Array)),mH=(t,e)=>{const r=(t&&t[_p]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},gH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},yH=Zn("HTMLFormElement"),vH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),iS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_H=Zn("RegExp"),l2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Fu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},wH=t=>{l2(t,(e,n)=>{if(cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xH=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ml(t)?r(t):r(String(t).split(e)),n},EH=()=>{},TH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function SH(t){return!!(t&&cn(t.append)&&t[r2]==="FormData"&&t[_p])}const IH=t=>{const e=new Array(10),n=(r,i)=>{if(ju(r)){if(e.indexOf(r)>=0)return;if(Mu(r))return r;if(!("toJSON"in r)){e[i]=r;const s=ml(r)?[]:{};return Fu(r,(o,a)=>{const l=n(o,i+1);!rl(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},bH=Zn("AsyncFunction"),AH=t=>t&&(ju(t)||cn(t))&&cn(t.then)&&cn(t.catch),c2=((t,e)=>t?setImmediate:e?((n,r)=>(Ks.addEventListener("message",({source:i,data:s})=>{i===Ks&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ks.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cn(Ks.postMessage)),PH=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||c2,RH=t=>t!=null&&cn(t[_p]),F={isArray:ml,isArrayBuffer:i2,isBuffer:Mu,isFormData:tH,isArrayBufferView:Wq,isString:Kq,isNumber:s2,isBoolean:Gq,isObject:ju,isPlainObject:rh,isEmptyObject:Qq,isReadableStream:rH,isRequest:iH,isResponse:sH,isHeaders:oH,isUndefined:rl,isDate:Yq,isFile:Xq,isBlob:Jq,isRegExp:_H,isFunction:cn,isStream:eH,isURLSearchParams:nH,isTypedArray:pH,isFileList:Zq,forEach:Fu,merge:ev,extend:lH,trim:aH,stripBOM:cH,inherits:uH,toFlatObject:dH,kindOf:wp,kindOfTest:Zn,endsWith:hH,toArray:fH,forEachEntry:mH,matchAll:gH,isHTMLForm:yH,hasOwnProperty:iS,hasOwnProp:iS,reduceDescriptors:l2,freezeMethods:wH,toObjectSet:xH,toCamelCase:vH,noop:EH,toFiniteNumber:TH,findKey:o2,global:Ks,isContextDefined:a2,isSpecCompliantForm:SH,toJSONObject:IH,isAsyncFn:bH,isThenable:AH,setImmediate:c2,asap:PH,isIterable:RH};function le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const u2=le.prototype,d2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{d2[t]={value:t}});Object.defineProperties(le,d2);Object.defineProperty(u2,"isAxiosError",{value:!0});le.from=(t,e,n,r,i,s)=>{const o=Object.create(u2);F.toFlatObject(t,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return le.call(o,a,l,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const CH=null;function tv(t){return F.isPlainObject(t)||F.isArray(t)}function h2(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function sS(t,e,n){return t?t.concat(e).map(function(i,s){return i=h2(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function kH(t){return F.isArray(t)&&!t.some(tv)}const NH=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function Ep(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!F.isUndefined(S[w])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(F.isDate(y))return y.toISOString();if(F.isBoolean(y))return y.toString();if(!l&&F.isBlob(y))throw new le("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(y)||F.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,S){let _=y;if(y&&!S&&typeof y=="object"){if(F.endsWith(w,"{}"))w=r?w:w.slice(0,-2),y=JSON.stringify(y);else if(F.isArray(y)&&kH(y)||(F.isFileList(y)||F.endsWith(w,"[]"))&&(_=F.toArray(y)))return w=h2(w),_.forEach(function(v,P){!(F.isUndefined(v)||v===null)&&e.append(o===!0?sS([w],P,s):o===null?w:w+"[]",u(v))}),!1}return tv(y)?!0:(e.append(sS(S,w,s),u(y)),!1)}const h=[],p=Object.assign(NH,{defaultVisitor:d,convertValue:u,isVisitable:tv});function g(y,w){if(!F.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(y),F.forEach(y,function(_,E){(!(F.isUndefined(_)||_===null)&&i.call(e,_,F.isString(E)?E.trim():E,w,p))===!0&&g(_,w?w.concat(E):[E])}),h.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return g(t),e}function oS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function R_(t,e){this._pairs=[],t&&Ep(t,this,e)}const f2=R_.prototype;f2.append=function(e,n){this._pairs.push([e,n])};f2.toString=function(e){const n=e?function(r){return e.call(this,r,oS)}:oS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function DH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function p2(t,e,n){if(!e)return t;const r=n&&n.encode||DH;F.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=F.isURLSearchParams(e)?e.toString():new R_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class OH{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const aS=OH,m2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VH=typeof URLSearchParams<"u"?URLSearchParams:R_,LH=typeof FormData<"u"?FormData:null,MH=typeof Blob<"u"?Blob:null,jH={isBrowser:!0,classes:{URLSearchParams:VH,FormData:LH,Blob:MH},protocols:["http","https","file","blob","url","data"]},C_=typeof window<"u"&&typeof document<"u",nv=typeof navigator=="object"&&navigator||void 0,FH=C_&&(!nv||["ReactNative","NativeScript","NS"].indexOf(nv.product)<0),UH=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),BH=C_&&window.location.href||"http://localhost",zH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:C_,hasStandardBrowserEnv:FH,hasStandardBrowserWebWorkerEnv:UH,navigator:nv,origin:BH},Symbol.toStringTag,{value:"Module"})),Lt={...zH,...jH};function $H(t,e){return Ep(t,new Lt.classes.URLSearchParams,{visitor:function(n,r,i,s){return Lt.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function qH(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HH(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function g2(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&F.isArray(i)?i.length:o,l?(F.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!F.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&F.isArray(i[o])&&(i[o]=HH(i[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,i)=>{e(qH(r),i,n,0)}),n}return null}function WH(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const k_={transitional:m2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=F.isObject(e);if(s&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(g2(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $H(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ep(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),WH(e)):e}],transformResponse:[function(e){const n=this.transitional||k_.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{k_.headers[t]={}});const N_=k_,KH=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GH=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&KH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lS=Symbol("internals");function Hl(t){return t&&String(t).trim().toLowerCase()}function ih(t){return t===!1||t==null?t:F.isArray(t)?t.map(ih):String(t)}function QH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const YH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qm(t,e,n,r,i){if(F.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function XH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function JH(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Tp{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=Hl(l);if(!d)throw new Error("header name must be a non-empty string");const h=F.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=ih(a))}const o=(a,l)=>F.forEach(a,(u,d)=>s(u,d,l));if(F.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(F.isString(e)&&(e=e.trim())&&!YH(e))o(GH(e),n);else if(F.isObject(e)&&F.isIterable(e)){let a={},l,u;for(const d of e){if(!F.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?F.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Hl(e),e){const r=F.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return QH(i);if(F.isFunction(n))return n.call(this,i,r);if(F.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Hl(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Hl(o),o){const a=F.findKey(r,o);a&&(!n||qm(r,r[a],a,n))&&(delete r[a],i=!0)}}return F.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||qm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return F.forEach(this,(i,s)=>{const o=F.findKey(r,s);if(o){n[o]=ih(i),delete n[s];return}const a=e?XH(s):String(s).trim();a!==s&&delete n[s],n[a]=ih(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lS]=this[lS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Hl(o);r[a]||(JH(i,o),r[a]=!0)}return F.isArray(e)?e.forEach(s):s(e),this}}Tp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Tp.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(Tp);const Qn=Tp;function Hm(t,e){const n=this||N_,r=e||n,i=Qn.from(r.headers);let s=r.data;return F.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function y2(t){return!!(t&&t.__CANCEL__)}function gl(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(gl,le,{__CANCEL__:!0});function v2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ZH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function eW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function tW(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const wf=(t,e,n=3)=>{let r=0;const i=eW(50,250);return tW(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},cS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},uS=t=>(...e)=>F.asap(()=>t(...e)),nW=Lt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Lt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,rW=Lt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(r)&&o.push("path="+r),F.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sW(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _2(t,e,n){let r=!iW(e);return t&&(r||n==!1)?sW(t,e):e}const dS=t=>t instanceof Qn?{...t}:t;function wo(t,e){e=e||{};const n={};function r(u,d,h,p){return F.isPlainObject(u)&&F.isPlainObject(d)?F.merge.call({caseless:p},u,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function i(u,d,h,p){if(F.isUndefined(d)){if(!F.isUndefined(u))return r(void 0,u,h,p)}else return r(u,d,h,p)}function s(u,d){if(!F.isUndefined(d))return r(void 0,d)}function o(u,d){if(F.isUndefined(d)){if(!F.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>i(dS(u),dS(d),h,!0)};return F.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,p=h(t[d],e[d],d);F.isUndefined(p)&&h!==a||(n[d]=p)}),n}const w2=t=>{const e=wo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=Qn.from(o),e.url=p2(_2(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Lt.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&nW(e.url))){const l=i&&s&&rW.read(s);l&&o.set(i,l)}return e},oW=typeof XMLHttpRequest<"u",aW=oW&&function(t){return new Promise(function(n,r){const i=w2(t);let s=i.data;const o=Qn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,p,g,y;function w(){g&&g(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function _(){if(!S)return;const v=Qn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:v,config:t,request:S};v2(function(b){n(b),w()},function(b){r(b),w()},O),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(r(new le("Request aborted",le.ECONNABORTED,t,S)),S=null)},S.onerror=function(P){const O=P&&P.message?P.message:"Network Error",M=new le(O,le.ERR_NETWORK,t,S);M.event=P||null,r(M),S=null},S.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||m2;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new le(P,O.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&F.forEach(o.toJSON(),function(P,O){S.setRequestHeader(O,P)}),F.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),u&&([p,y]=wf(u,!0),S.addEventListener("progress",p)),l&&S.upload&&([h,g]=wf(l),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=v=>{S&&(r(!v||v.type?new gl(null,t,S):v),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=ZH(i.url);if(E&&Lt.protocols.indexOf(E)===-1){r(new le("Unsupported protocol "+E+":",le.ERR_BAD_REQUEST,t));return}S.send(s||null)})},lW=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof le?d:new gl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},cW=lW,uW=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},dW=async function*(t,e){for await(const n of hW(t))yield*uW(n,e)},hW=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},hS=(t,e,n,r)=>{const i=dW(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},fS=64*1024,{isFunction:Cd}=F,fW=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:pS,TextEncoder:mS}=F.global,gS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},pW=t=>{t=F.merge.call({skipUndefined:!0},fW,t);const{fetch:e,Request:n,Response:r}=t,i=e?Cd(e):typeof fetch=="function",s=Cd(n),o=Cd(r);if(!i)return!1;const a=i&&Cd(pS),l=i&&(typeof mS=="function"?(y=>w=>y.encode(w))(new mS):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=s&&a&&gS(()=>{let y=!1;const w=new n(Lt.origin,{body:new pS,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),d=o&&a&&gS(()=>F.isReadableStream(new r("").body)),h={stream:d&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(w,S)=>{let _=w&&w[y];if(_)return _.call(w);throw new le(`Response type '${y}' is not supported`,le.ERR_NOT_SUPPORT,S)})});const p=async y=>{if(y==null)return 0;if(F.isBlob(y))return y.size;if(F.isSpecCompliantForm(y))return(await new n(Lt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(F.isArrayBufferView(y)||F.isArrayBuffer(y))return y.byteLength;if(F.isURLSearchParams(y)&&(y=y+""),F.isString(y))return(await l(y)).byteLength},g=async(y,w)=>{const S=F.toFiniteNumber(y.getContentLength());return S??p(w)};return async y=>{let{url:w,method:S,data:_,signal:E,cancelToken:v,timeout:P,onDownloadProgress:O,onUploadProgress:M,responseType:b,headers:x,withCredentials:A="same-origin",fetchOptions:R}=w2(y),k=e||fetch;b=b?(b+"").toLowerCase():"text";let V=cW([E,v&&v.toAbortSignal()],P),C=null;const Z=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let _e;try{if(M&&u&&S!=="get"&&S!=="head"&&(_e=await g(x,_))!==0){let J=new n(w,{method:"POST",body:_,duplex:"half"}),de;if(F.isFormData(_)&&(de=J.headers.get("content-type"))&&x.setContentType(de),J.body){const[_t,Se]=cS(_e,wf(uS(M)));_=hS(J.body,fS,_t,Se)}}F.isString(A)||(A=A?"include":"omit");const fe=s&&"credentials"in n.prototype,Xe={...R,signal:V,method:S.toUpperCase(),headers:x.normalize().toJSON(),body:_,duplex:"half",credentials:fe?A:void 0};C=s&&new n(w,Xe);let $=await(s?k(C,R):k(w,Xe));const K=d&&(b==="stream"||b==="response");if(d&&(O||K&&Z)){const J={};["status","statusText","headers"].forEach(At=>{J[At]=$[At]});const de=F.toFiniteNumber($.headers.get("content-length")),[_t,Se]=O&&cS(de,wf(uS(O),!0))||[];$=new r(hS($.body,fS,_t,()=>{Se&&Se(),Z&&Z()}),J)}b=b||"text";let se=await h[F.findKey(h,b)||"text"]($,y);return!K&&Z&&Z(),await new Promise((J,de)=>{v2(J,de,{data:se,headers:Qn.from($.headers),status:$.status,statusText:$.statusText,config:y,request:C})})}catch(fe){throw Z&&Z(),fe&&fe.name==="TypeError"&&/Load failed|fetch/i.test(fe.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,y,C),{cause:fe.cause||fe}):le.from(fe,fe&&fe.code,y,C)}}},mW=new Map,x2=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,a=o,l,u,d=mW;for(;a--;)l=s[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:pW(e)),d=u;return u};x2();const rv={http:CH,xhr:aW,fetch:{get:x2}};F.forEach(rv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yS=t=>`- ${t}`,gW=t=>F.isFunction(t)||t===null||t===!1,E2={getAdapter:(t,e)=>{t=F.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let a;if(i=r,!gW(r)&&(i=rv[(a=String(r)).toLowerCase()],i===void 0))throw new le(`Unknown adapter '${a}'`);if(i&&(F.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(yS).join(`
`):" "+yS(o[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:rv};function Wm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gl(null,t)}function vS(t){return Wm(t),t.headers=Qn.from(t.headers),t.data=Hm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),E2.getAdapter(t.adapter||N_.adapter,t)(t).then(function(r){return Wm(t),r.data=Hm.call(t,t.transformResponse,r),r.headers=Qn.from(r.headers),r},function(r){return y2(r)||(Wm(t),r&&r.response&&(r.response.data=Hm.call(t,t.transformResponse,r.response),r.response.headers=Qn.from(r.response.headers))),Promise.reject(r)})}const T2="1.12.2",Sp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Sp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _S={};Sp.transitional=function(e,n,r){function i(s,o){return"[Axios v"+T2+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new le(i(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!_S[o]&&(_S[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Sp.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function yW(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new le("option "+s+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+s,le.ERR_BAD_OPTION)}}const sh={assertOptions:yW,validators:Sp},ar=sh.validators;class xf{constructor(e){this.defaults=e||{},this.interceptors={request:new aS,response:new aS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&sh.assertOptions(r,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),i!=null&&(F.isFunction(i)?n.paramsSerializer={serialize:i}:sh.assertOptions(i,{encode:ar.function,serialize:ar.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),sh.assertOptions(n,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&F.merge(s.common,s[n.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Qn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,p;if(!l){const y=[vS.bind(this),void 0];for(y.unshift(...a),y.push(...u),p=y.length,d=Promise.resolve(n);h<p;)d=d.then(y[h++],y[h++]);return d}p=a.length;let g=n;for(;h<p;){const y=a[h++],w=a[h++];try{g=y(g)}catch(S){w.call(this,S);break}}try{d=vS.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=wo(this.defaults,e);const n=_2(e.baseURL,e.url,e.allowAbsoluteUrls);return p2(n,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){xf.prototype[e]=function(n,r){return this.request(wo(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(wo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}xf.prototype[e]=n(),xf.prototype[e+"Form"]=n(!0)});const oh=xf;class D_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new gl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new D_(function(i){e=i}),cancel:e}}}const vW=D_;function _W(t){return function(n){return t.apply(null,n)}}function wW(t){return F.isObject(t)&&t.isAxiosError===!0}const iv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iv).forEach(([t,e])=>{iv[e]=t});const xW=iv;function S2(t){const e=new oh(t),n=n2(oh.prototype.request,e);return F.extend(n,oh.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return S2(wo(t,i))},n}const st=S2(N_);st.Axios=oh;st.CanceledError=gl;st.CancelToken=vW;st.isCancel=y2;st.VERSION=T2;st.toFormData=Ep;st.AxiosError=le;st.Cancel=st.CanceledError;st.all=function(e){return Promise.all(e)};st.spread=_W;st.isAxiosError=wW;st.mergeConfig=wo;st.AxiosHeaders=Qn;st.formToJSON=t=>g2(F.isHTMLForm(t)?new FormData(t):t);st.getAdapter=E2.getAdapter;st.HttpStatusCode=xW;st.default=st;const I2=st,EW="http://localhost:5000",TW="http://localhost:8000",pr=I2.create({baseURL:EW,timeout:3e4,headers:{"Content-Type":"application/json"}});I2.create({baseURL:TW,timeout:6e4,headers:{"Content-Type":"application/json"}});pr.interceptors.request.use(async t=>{const e=localStorage.getItem("firebaseToken");if(e)t.headers.Authorization=`Bearer ${e}`;else{const n=localStorage.getItem("token");n&&(t.headers.Authorization=`Bearer ${n}`)}return t},t=>Promise.reject(t));pr.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)});const SW={uploadImage:t=>pr.post("/api/predictions",t,{headers:{"Content-Type":"multipart/form-data"}}),getPredictionHistory:t=>pr.get(`/api/predictions/${t}`),testPredict:t=>pr.post("/api/test-predict",{imageData:t})},Km={getSolutions:()=>pr.get("/api/solutions"),getSolution:(t,e)=>pr.get(`/api/solutions/${t}/${e}`),rateSolution:(t,e)=>pr.post(`/api/solutions/${t}/rate`,{rating:e}),addComment:(t,e)=>pr.post(`/api/solutions/${t}/comments`,{comment:e}),getComments:t=>pr.get(`/api/solutions/${t}/comments`)},IW=({prediction:t})=>{const[e,n]=D.useState(!1),[r,i]=D.useState(null),[s,o]=D.useState(""),a=t.prediction==="healthy",l=Math.round(t.confidence*100),{data:u}=rL({queryKey:["solution",t.plantType,t.diseaseType],queryFn:()=>Km.getSolution(t.plantType,t.diseaseType),enabled:!a}),d=iy({mutationFn:y=>Km.rateSolution(u==null?void 0:u.data.solution._id,y),onSuccess:()=>{zi.success("Thank you for your rating!")},onError:()=>{zi.error("Failed to submit rating")}}),h=iy({mutationFn:y=>Km.addComment(u==null?void 0:u.data.solution._id,y),onSuccess:()=>{zi.success("Comment added successfully!"),o("")},onError:()=>{zi.error("Failed to add comment")}}),p=y=>{i(y),d.mutate(y)},g=()=>{s.trim()&&h.mutate(s)};return T.jsxs("div",{className:"card p-6 space-y-6",children:[T.jsxs("div",{className:"text-center",children:[T.jsx(yt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${a?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:a?T.jsx(k7,{className:"w-8 h-8"}):T.jsx($7,{className:"w-8 h-8"})}),T.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:a?"Plant is Healthy!":"Disease Detected"}),T.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-600",children:[T.jsxs("div",{className:"flex items-center space-x-1",children:[T.jsx(mf,{className:"w-4 h-4"}),T.jsxs("span",{children:["Plant: ",t.plantType]})]}),!a&&T.jsxs("div",{className:"flex items-center space-x-1",children:[T.jsx(C7,{className:"w-4 h-4"}),T.jsxs("span",{children:["Disease: ",t.diseaseType]})]}),T.jsx("div",{className:"flex items-center space-x-1",children:T.jsxs("span",{children:["Confidence: ",l,"%"]})})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{className:"text-gray-600",children:"Confidence Level"}),T.jsxs("span",{className:"font-medium",children:[l,"%"]})]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:T.jsx(yt.div,{initial:{width:0},animate:{width:`${l}%`},transition:{delay:.5,duration:1},className:`h-2 rounded-full ${l>=80?"bg-green-500":l>=60?"bg-yellow-500":"bg-red-500"}`})})]}),t.explanation&&T.jsx("div",{className:"text-center",children:T.jsxs("button",{onClick:()=>n(!e),className:"btn-outline px-4 py-2",children:[T.jsx(N7,{className:"w-4 h-4 mr-2"}),e?"Hide":"Show"," AI Explanation"]})}),e&&t.explanation&&T.jsxs(yt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-center",children:[T.jsx("img",{src:t.explanation,alt:"AI Explanation",className:"max-w-full h-auto rounded-lg shadow-md mx-auto"}),T.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Heat map showing areas the AI focused on for diagnosis"})]}),!a&&u&&T.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"border-t pt-6",children:T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsxs("h4",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[T.jsx(qT,{className:"w-5 h-5 mr-2 text-orange-500"}),"Treatment Solution"]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Description:"}),T.jsx("p",{className:"text-gray-600",children:u.data.solution.description||"No description available"})]}),T.jsxs("div",{children:[T.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Symptoms:"}),T.jsx("ul",{className:"list-disc list-inside text-gray-600 space-y-1",children:(u.data.solution.symptoms||[]).map((y,w)=>T.jsx("li",{children:y},w))})]}),T.jsxs("div",{children:[T.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Treatment:"}),T.jsx("ul",{className:"list-disc list-inside text-gray-600 space-y-1",children:(u.data.solution.treatment||[]).map((y,w)=>T.jsx("li",{children:y},w))})]}),T.jsxs("div",{children:[T.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Prevention:"}),T.jsx("ul",{className:"list-disc list-inside text-gray-600 space-y-1",children:(u.data.solution.prevention||[]).map((y,w)=>T.jsx("li",{children:y},w))})]})]})]}),T.jsxs("div",{className:"border-t pt-4",children:[T.jsx("h5",{className:"font-semibold text-gray-700 mb-3",children:"Rate this solution:"}),T.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(y=>T.jsx("button",{onClick:()=>p(y),className:`p-1 ${r&&y<=r?"text-yellow-400":"text-gray-300 hover:text-yellow-400"}`,children:T.jsx(U7,{className:"w-6 h-6 fill-current"})},y)),T.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",u.data.solution.totalRatings||0," ratings, avg: ",(u.data.solution.averageRating||0).toFixed(1),")"]})]})]}),T.jsxs("div",{className:"border-t pt-4",children:[T.jsxs("h5",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[T.jsx(M7,{className:"w-4 h-4 mr-2"}),"Comments & Suggestions"]}),T.jsx("div",{className:"space-y-3",children:T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("input",{type:"text",value:s,onChange:y=>o(y.target.value),placeholder:"Share your experience or suggestions...",className:"input flex-1"}),T.jsx("button",{onClick:g,disabled:!s.trim()||h.isPending,className:"btn-primary px-4 py-2 disabled:opacity-50",children:"Add Comment"})]})})]})]})}),l<60&&T.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(qT,{className:"w-5 h-5 text-yellow-600 mr-2"}),T.jsxs("div",{children:[T.jsx("h5",{className:"font-semibold text-yellow-800",children:"Low Confidence Prediction"}),T.jsx("p",{className:"text-sm text-yellow-700",children:"This prediction has low confidence. Please consult with a plant specialist for accurate diagnosis."})]})]})})]})},bW=()=>{const[t,e]=D.useState(null),[n,r]=D.useState(null),[i,s]=D.useState(null),{currentUser:o,savePrediction:a}=Vo(),l=D.useCallback(w=>{const S=w[0];if(S){e(S);const _=new FileReader;_.onload=()=>{r(_.result)},_.readAsDataURL(S),s(null)}},[]),{getRootProps:u,getInputProps:d,isDragActive:h}=t2({onDrop:l,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:1,maxSize:10*1024*1024}),p=iy({mutationFn:async w=>{const S=await new Promise(E=>{const v=new FileReader;v.onload=()=>E(v.result),v.readAsDataURL(w)});return(await SW.testPredict(S)).data.prediction},onSuccess:async w=>{if(s(w),zi.success("Prediction completed!"),o&&t&&n)try{await a(n,w.prediction,w.confidence,t.name),zi.success("Prediction saved to your history!")}catch(S){console.error("Error saving prediction:",S),zi.error("Failed to save prediction to history")}},onError:w=>{var _,E;const S=((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Prediction failed";zi.error(S)}}),g=()=>{t&&p.mutate(t)},y=()=>{e(null),r(null),s(null)};return T.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[T.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Upload Plant Image"}),T.jsxs("div",{...u(),className:`
            border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors
            ${h?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50"}
          `,children:[T.jsx("input",{...d()}),n?T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"relative inline-block",children:[T.jsx("img",{src:n,alt:"Preview",className:"max-h-64 max-w-full rounded-lg shadow-md"}),T.jsx("button",{onClick:w=>{w.stopPropagation(),y()},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:T.jsx(Bk,{className:"w-4 h-4"})})]}),T.jsxs("p",{className:"text-sm text-gray-600",children:[t==null?void 0:t.name," (",((t==null?void 0:t.size)/1024/1024).toFixed(2)," MB)"]})]}):T.jsxs("div",{className:"space-y-4",children:[T.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:T.jsx(Wy,{className:"w-8 h-8 text-gray-400"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-lg font-medium text-gray-700",children:h?"Drop the image here":"Drag & drop an image here"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"or click to browse files"}),T.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supports: JPG, PNG, GIF, WebP (max 10MB)"})]})]})]}),t&&T.jsx(yt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 text-center",children:T.jsx("button",{onClick:g,disabled:p.isPending,className:"btn-primary px-8 py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:p.isPending?T.jsxs(T.Fragment,{children:[T.jsx(V7,{className:"w-5 h-5 mr-2 animate-spin"}),"Analyzing..."]}):T.jsxs(T.Fragment,{children:[T.jsx(gf,{className:"w-5 h-5 mr-2"}),"Analyze Plant"]})})})]}),i&&T.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:T.jsx(IW,{prediction:i})})]})},AW=()=>T.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen py-8",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Plant Disease Diagnosis"}),T.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Upload a clear image of your plant leaf and our AI will analyze it to identify any diseases and provide treatment recommendations."})]}),T.jsx(bW,{})]}),PW=()=>{const{currentUser:t,getSolutions:e,saveSolution:n}=Vo(),[r,i]=D.useState([]),[s,o]=D.useState(!1),[a,l]=D.useState(!1),[u,d]=D.useState({disease:"",solution:"",prevention:""});D.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0);const y=await e();i(y)}catch(y){console.error("Error loading solutions:",y)}finally{o(!1)}},p=async y=>{if(y.preventDefault(),!(!u.disease||!u.solution||!u.prevention))try{await n(u.disease,u.solution,u.prevention),d({disease:"",solution:"",prevention:""}),l(!1),h()}catch(w){console.error("Error saving solution:",w)}},g=y=>y?(y.toDate?y.toDate():new Date(y)).toLocaleDateString():"Unknown";return T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Plant Disease Solutions"}),t&&T.jsxs("button",{onClick:()=>l(!a),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[T.jsx(F7,{className:"w-4 h-4"}),T.jsx("span",{children:"Add Solution"})]})]}),a&&t&&T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[T.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add New Solution"}),T.jsxs("form",{onSubmit:p,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"disease",className:"block text-sm font-medium text-gray-700 mb-1",children:"Disease Name"}),T.jsx("input",{type:"text",id:"disease",value:u.disease,onChange:y=>d({...u,disease:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"solution",className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment Solution"}),T.jsx("textarea",{id:"solution",value:u.solution,onChange:y=>d({...u,solution:y.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"prevention",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prevention Tips"}),T.jsx("textarea",{id:"prevention",value:u.prevention,onChange:y=>d({...u,prevention:y.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Save Solution"}),T.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Cancel"})]})]})]}),T.jsx("div",{className:"space-y-6",children:s?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),T.jsx("p",{className:"text-gray-600 mt-2",children:"Loading solutions..."})]}):r.length===0?T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[T.jsx(b_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"No solutions available yet."}),t&&T.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Be the first to add a solution!"})]}):r.map(y=>T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("div",{className:"flex items-start justify-between mb-4",children:[T.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[T.jsx(Ky,{className:"w-5 h-5 mr-2 text-green-600"}),y.disease]}),T.jsx("span",{className:"text-sm text-gray-500",children:g(y.timestamp)})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[T.jsx(O7,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Treatment Solution"]}),T.jsx("p",{className:"text-gray-700 bg-green-50 p-3 rounded-md",children:y.solution})]}),T.jsxs("div",{children:[T.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[T.jsx(Ky,{className:"w-4 h-4 mr-2 text-blue-600"}),"Prevention Tips"]}),T.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-md",children:y.prevention})]})]})]},y.id))})]})},RW=()=>{const{currentUser:t,userProfile:e,updateUserProfile:n,getPredictionHistory:r}=Vo(),[i,s]=D.useState([]),[o,a]=D.useState(!1),[l,u]=D.useState(""),[d,h]=D.useState(!1),[p,g]=D.useState("all");D.useEffect(()=>{t&&(u((e==null?void 0:e.displayName)||t.displayName||""),y())},[t,e]),D.useEffect(()=>{t&&y()},[p]);const y=async()=>{try{const _=await r(p);s(_)}catch(_){console.error("Error loading prediction history:",_)}},w=async()=>{if(l.trim())try{h(!0),await n(l.trim()),a(!1)}catch(_){console.error("Error updating profile:",_)}finally{h(!1)}},S=_=>{if(!_)return"Unknown";const E=_.toDate?_.toDate():new Date(_);return E.toLocaleDateString()+" "+E.toLocaleTimeString()};return t?T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Profile"}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[T.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[T.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center",children:t.photoURL?T.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-16 h-16 rounded-full object-cover"}):T.jsx(Gy,{className:"w-8 h-8 text-white"})}),T.jsxs("div",{className:"flex-1",children:[o?T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("input",{type:"text",value:l,onChange:_=>u(_.target.value),className:"text-2xl font-bold text-gray-900 border border-gray-300 rounded px-2 py-1"}),T.jsx("button",{onClick:w,disabled:d,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:d?"Saving...":"Save"}),T.jsx("button",{onClick:()=>{a(!1),u((e==null?void 0:e.displayName)||t.displayName||"")},className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Cancel"})]}):T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:(e==null?void 0:e.displayName)||t.displayName||"User"}),T.jsx("button",{onClick:()=>a(!0),className:"text-gray-500 hover:text-gray-700",children:T.jsx(j7,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-gray-600",children:t.email})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[T.jsx(HT,{className:"w-4 h-4"}),T.jsxs("span",{className:"text-sm",children:["Joined: ",e!=null&&e.createdAt?S(e.createdAt):"Unknown"]})]}),T.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[T.jsx(B7,{className:"w-4 h-4"}),T.jsxs("span",{className:"text-sm",children:["Predictions: ",i.length]})]}),T.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[T.jsx(HT,{className:"w-4 h-4"}),T.jsxs("span",{className:"text-sm",children:["Last Login: ",e!=null&&e.lastLoginAt?S(e.lastLoginAt):"Unknown"]})]})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[T.jsx(Wy,{className:"w-5 h-5 mr-2"}),"Prediction History"]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(D7,{className:"w-4 h-4 text-gray-500"}),T.jsxs("select",{value:p,onChange:_=>g(_.target.value),className:"border border-gray-300 rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[T.jsx("option",{value:"all",children:"All Time"}),T.jsx("option",{value:"thisWeek",children:"This Week"}),T.jsx("option",{value:"thisMonth",children:"This Month"})]})]})]}),i.length===0?T.jsxs("div",{className:"text-center py-8",children:[T.jsx(Wy,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600 mb-2",children:p==="all"?"No predictions yet. Upload an image to get started!":`No predictions found for ${p==="thisWeek"?"this week":"this month"}.`}),p!=="all"&&T.jsx("button",{onClick:()=>g("all"),className:"text-primary-600 hover:text-primary-700 text-sm",children:"View all predictions"})]}):T.jsx("div",{className:"space-y-4",children:i.map(_=>T.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("img",{src:_.imageUrl,alt:_.imageName,className:"w-16 h-16 object-cover rounded"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-semibold text-gray-900",children:_.prediction}),T.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Confidence: ",(_.confidence*100).toFixed(1),"%"]}),T.jsxs("p",{className:"text-sm text-gray-500",children:[_.imageName,"  ",S(_.timestamp)]})]})]})},_.id))})]})]}):T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Profile"}),T.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:T.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile."})})]})},CW=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState(!1),{signIn:l,signInWithGoogle:u}=Vo(),d=Bf(),h=async g=>{if(g.preventDefault(),!t||!n){s("Please fill in all fields");return}try{s(""),a(!0),await l(t,n),d("/")}catch(y){s("Failed to sign in: "+y.message)}finally{a(!1)}},p=async()=>{try{s(""),a(!0),await u(),d("/")}catch(g){s("Failed to sign in with Google: "+g.message)}finally{a(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Login"}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i&&T.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),T.jsxs("form",{onSubmit:h,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:t,onChange:g=>e(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),T.jsx("input",{type:"password",id:"password",value:n,onChange:g=>r(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Signing In...":"Sign In"})]}),T.jsxs("div",{className:"mt-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),T.jsxs("button",{onClick:p,disabled:o,className:"mt-4 w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 flex items-center justify-center",children:[T.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o?"Signing In...":"Sign in with Google"]})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",T.jsx(qt,{to:"/register",className:"text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})},kW=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState(""),[d,h]=D.useState(!1),{signUp:p,signInWithGoogle:g}=Vo(),y=Bf(),w=async _=>{if(_.preventDefault(),!t||!n||!o){u("Please fill in all fields");return}if(n!==i){u("Passwords do not match");return}if(n.length<6){u("Password must be at least 6 characters");return}try{u(""),h(!0),await p(t,n,o),y("/")}catch(E){u("Failed to create account: "+E.message)}finally{h(!1)}},S=async()=>{try{u(""),h(!0),await g(),y("/")}catch(_){u("Failed to sign in with Google: "+_.message)}finally{h(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Register"}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l&&T.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),T.jsxs("form",{onSubmit:w,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),T.jsx("input",{type:"text",id:"displayName",value:o,onChange:_=>a(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:t,onChange:_=>e(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),T.jsx("input",{type:"password",id:"password",value:n,onChange:_=>r(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),T.jsx("input",{type:"password",id:"confirmPassword",value:i,onChange:_=>s(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:d?"Creating Account...":"Create Account"})]}),T.jsxs("div",{className:"mt-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),T.jsxs("button",{onClick:S,disabled:d,className:"mt-4 w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 flex items-center justify-center",children:[T.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d?"Signing In...":"Sign up with Google"]})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",T.jsx(qt,{to:"/login",className:"text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})};function NW(){return T.jsx(A7,{children:T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50",children:[T.jsx(H7,{}),T.jsx(yt.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:T.jsxs(dV,{children:[T.jsx(Os,{path:"/",element:T.jsx(W7,{})}),T.jsx(Os,{path:"/upload",element:T.jsx(AW,{})}),T.jsx(Os,{path:"/solutions",element:T.jsx(PW,{})}),T.jsx(Os,{path:"/profile",element:T.jsx(RW,{})}),T.jsx(Os,{path:"/login",element:T.jsx(CW,{})}),T.jsx(Os,{path:"/register",element:T.jsx(kW,{})})]})})]})})}const DW=new qV({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});Gm.createRoot(document.getElementById("root")).render(T.jsx(gu.StrictMode,{children:T.jsx(HV,{client:DW,children:T.jsxs(vV,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[T.jsx(NW,{}),T.jsx(HL,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}));
